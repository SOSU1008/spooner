window.__require=function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}})();var u,l=[],p=!1,f=-1;function d(){p&&u&&(p=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!p){var t=s(d);p=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,p=!1,c(t)}}function y(t,e){this.fun=t,this.array=e}function _(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new y(t,e)),1!==l.length||p||s(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(){return[]},o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("tslib"),o=t("@firebase/app");t("@firebase/installations");var i=t("@firebase/logger"),a=t("@firebase/util"),s=t("@firebase/component");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,l,p=c(o),f="firebase_id",d="origin",h=6e4,y="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_="https://www.googletagmanager.com/gtag/js";function v(t,e,n,o,i){return r.__awaiter(this,void 0,void 0,function(){var a,s;return r.__generator(this,function(c){switch(c.label){case 0:return i&&i.global?(t(u.EVENT,n,o),[2]):[3,1];case 1:return[4,e];case 2:a=c.sent(),s=r.__assign(r.__assign({},o),{send_to:a}),t(u.EVENT,n,s),c.label=3;case 3:return[2]}})})}function g(t,e,n,o){return r.__awaiter(this,void 0,void 0,function(){var i;return r.__generator(this,function(r){switch(r.label){case 0:return o&&o.global?(t(u.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=r.sent(),t(u.CONFIG,i,{update:!0,screen_name:n}),r.label=3;case 3:return[2]}})})}function m(t,e,n,o){return r.__awaiter(this,void 0,void 0,function(){var i;return r.__generator(this,function(r){switch(r.label){case 0:return o&&o.global?(t(u.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=r.sent(),t(u.CONFIG,i,{update:!0,user_id:n}),r.label=3;case 3:return[2]}})})}function b(t,e,n,o){return r.__awaiter(this,void 0,void 0,function(){var i,a,s,c,l;return r.__generator(this,function(r){switch(r.label){case 0:if(!o||!o.global)return[3,1];for(i={},a=0,s=Object.keys(n);a<s.length;a++)c=s[a],i["user_properties."+c]=n[c];return t(u.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:l=r.sent(),t(u.CONFIG,l,{update:!0,user_properties:n}),r.label=3;case 3:return[2]}})})}function S(t,e){return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(u||(u={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(l||(l={}));var R,C=new i.Logger("@firebase/analytics");function O(t){var e=document.createElement("script");e.src=_+"?l="+t,e.async=!0,document.head.appendChild(e)}function P(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function w(t,e,n,o,i,a){return r.__awaiter(this,void 0,void 0,function(){var s,c,l,p;return r.__generator(this,function(r){switch(r.label){case 0:s=o[i],r.label=1;case 1:return r.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return r.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=r.sent(),(l=c.find(function(t){return t.measurementId===i}))?[4,e[l.appId]]:[3,6];case 5:r.sent(),r.label=6;case 6:return[3,8];case 7:return p=r.sent(),C.error(p),[3,8];case 8:return t(u.CONFIG,i,a),[2]}})})}function I(t,e,n,o,i){return r.__awaiter(this,void 0,void 0,function(){var a,s,c,l,p,f,d,h;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),a=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(c=r.sent(),l=function(t){var n=c.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return a=[],"break";a.push(r)},p=0,f=s;p<f.length&&(d=f[p],"break"!==l(d));p++);r.label=2;case 2:return 0===a.length&&(a=Object.values(e)),[4,Promise.all(a)];case 3:return r.sent(),t(u.EVENT,o,i||{}),[3,5];case 4:return h=r.sent(),C.error(h),[3,5];case 5:return[2]}})})}function E(t,e,n,o){return function(i,a,s){return r.__awaiter(this,void 0,void 0,function(){var c;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),i!==u.EVENT?[3,2]:[4,I(t,e,n,a,s)];case 1:return r.sent(),[3,5];case 2:return i!==u.CONFIG?[3,4]:[4,w(t,e,n,o,a,s)];case 3:return r.sent(),[3,5];case 4:t(u.SET,a),r.label=5;case 5:return[3,7];case 6:return c=r.sent(),C.error(c),[3,7];case 7:return[2]}})})}}function j(t,e,n,r,o){var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(i=window[o]),window[o]=E(i,t,e,n),{gtagCore:i,wrappedGtag:window[o]}}function D(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(_))return r}return null}var A=((R={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",R["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",R["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",R["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",R["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",R["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",R["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",R["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',R["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',R),N=new a.ErrorFactory("analytics","Analytics",A),T=30,L=1e3,x=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=L),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function F(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function k(t){var e;return r.__awaiter(this,void 0,void 0,function(){var n,o,i,a,s,c,u;return r.__generator(this,function(r){switch(r.label){case 0:return n=t.appId,o=t.apiKey,i={method:"GET",headers:F(o)},a=y.replace("{app-id}",n),[4,fetch(a,i)];case 1:if(200===(s=r.sent()).status||304===s.status)return[3,6];c="",r.label=2;case 2:return r.trys.push([2,4,,5]),[4,s.json()];case 3:return u=r.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(c=u.error.message),[3,5];case 4:return r.sent(),[3,5];case 5:throw N.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c});case 6:return[2,s.json()]}})})}function M(t,e,n){return void 0===e&&(e=x),r.__awaiter(this,void 0,void 0,function(){var o,i,a,s,c,u,l=this;return r.__generator(this,function(){if(o=t.options,i=o.appId,a=o.apiKey,s=o.measurementId,!i)throw N.create("no-app-id");if(!a){if(s)return[2,{measurementId:s,appId:i}];throw N.create("no-api-key")}return c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new J,setTimeout(function(){return r.__awaiter(l,void 0,void 0,function(){return r.__generator(this,function(){return u.abort(),[2]})})},void 0!==n?n:h),[2,B({appId:i,apiKey:a,measurementId:s},c,u,e)]})})}function B(t,e,n,o){var i=e.throttleEndTimeMillis,s=e.backoffCount;return void 0===o&&(o=x),r.__awaiter(this,void 0,void 0,function(){var e,c,u,l,p,f,d;return r.__generator(this,function(r){switch(r.label){case 0:e=t.appId,c=t.measurementId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,U(n,i)];case 2:return r.sent(),[3,4];case 3:if(u=r.sent(),c)return C.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:c}];throw u;case 4:return r.trys.push([4,6,,7]),[4,k(t)];case 5:return l=r.sent(),o.deleteThrottleMetadata(e),[2,l];case 6:if(!z(p=r.sent())){if(o.deleteThrottleMetadata(e),c)return C.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]"),[2,{appId:e,measurementId:c}];throw p}return f=503===Number(p.httpStatus)?a.calculateBackoffMillis(s,o.intervalMillis,T):a.calculateBackoffMillis(s,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:s+1},o.setThrottleMetadata(e,d),C.debug("Calling attemptFetch again in "+f+" millis"),[2,B(t,d,n,o)];case 7:return[2]}})})}function U(t,e){return new Promise(function(n,r){var o=Math.max(e-Date.now(),0),i=setTimeout(n,o);t.addEventListener(function(){clearTimeout(i),r(N.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function z(t){if(!(t instanceof a.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}var J=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}();function V(){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(e){switch(e.label){case 0:return a.isIndexedDBAvailable()?[3,1]:(C.warn(N.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,a.validateIndexedDBOpenable()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),C.warn(N.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function K(t,e,n,o,i){return r.__awaiter(this,void 0,void 0,function(){var a,s,c,l,p,h,y;return r.__generator(this,function(r){switch(r.label){case 0:return(a=M(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&C.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return C.error(t)}),e.push(a),s=V().then(function(t){return t?o.getId():void 0}),[4,Promise.all([a,s])];case 1:return c=r.sent(),l=c[0],p=c[1],i("js",new Date),(y={})[d]="firebase",y.update=!0,h=y,null!=p&&(h[f]=p),i(u.CONFIG,l.measurementId,h),[2,l.measurementId]}})})}var W,q,G={},H=[],Q={},Y="dataLayer",X="gtag",$=!1;function Z(t){if($)throw N.create("already-initialized");t.dataLayerName&&(Y=t.dataLayerName),t.gtagName&&(X=t.gtagName)}function tt(){var t=[];if(a.isBrowserExtension()&&t.push("This is a browser extension environment."),a.areCookiesEnabled()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=N.create("invalid-analytics-context",{errorInfo:e});C.warn(n.message)}}function et(t,e){tt();var n=t.options.appId;if(!n)throw N.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw N.create("no-api-key");C.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=G[n])throw N.create("already-exists",{id:n});if(!$){D()||O(Y),P(Y);var r=j(G,H,Q,Y,X),o=r.wrappedGtag,i=r.gtagCore;q=o,W=i,$=!0}return G[n]=K(t,H,Q,e,W),{app:t,logEvent:function(t,e,r){v(q,G[n],t,e,r).catch(function(t){return C.error(t)})},setCurrentScreen:function(t,e){g(q,G[n],t,e).catch(function(t){return C.error(t)})},setUserId:function(t,e){m(q,G[n],t,e).catch(function(t){return C.error(t)})},setUserProperties:function(t,e){b(q,G[n],t,e).catch(function(t){return C.error(t)})},setAnalyticsCollectionEnabled:function(t){S(G[n],t).catch(function(t){return C.error(t)})},INTERNAL:{delete:function(){return delete G[n],Promise.resolve()}}}}var nt="@firebase/analytics",rt="0.6.0",ot="analytics";function it(t){t.INTERNAL.registerComponent(new s.Component(ot,function(t){return et(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Z,EventName:l,isSupported:at})),t.INTERNAL.registerComponent(new s.Component("analytics-internal",function(t){try{return{logEvent:t.getProvider(ot).getImmediate().logEvent}}catch(e){throw N.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),t.registerVersion(nt,rt)}function at(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:if(a.isBrowserExtension())return[2,!1];if(!a.areCookiesEnabled())return[2,!1];if(!a.isIndexedDBAvailable())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,a.validateIndexedDBOpenable()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}it(p.default),n.factory=et,n.getGlobalVars=function(){return{initializationPromisesMap:G,dynamicConfigPromisesList:H}},n.registerAnalytics=it,n.resetGlobalVars=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e={}),void 0===n&&(n=[]),$=t,G=e,H=n,Y="dataLayer",X="gtag"},n.settings=Z},{"@firebase/app":3,"@firebase/component":4,"@firebase/installations":6,"@firebase/logger":7,"@firebase/util":8,tslib:16}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o,i=t("tslib"),a=t("@firebase/util"),s=t("@firebase/component"),c=t("@firebase/logger"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",u),p="[DEFAULT]",f=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),d=new c.Logger("@firebase/app"),h=function(){function t(t,e,n){var r,o,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",function(){return c},"PUBLIC"));try{for(var u=i.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next()){var p=l.value;this._addComponent(p)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=p),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=p),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var y="7.20.0";function _(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={}),"object"==typeof o&&null!==o||(o={name:o});var i=o;void 0===i.name&&(i.name=p);var s=i.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw l.create("duplicate-app",{appName:s});var c=new t(n,i,r);return e[s]=c,c},app:o,registerVersion:function(t,e,n){var r,o=null!==(r=f[t])&&void 0!==r?r:t;n&&(o+="-"+n);var i=o.match(/\s|\//),a=e.match(/\s|\//);if(i||a){var c=['Unable to register library "'+o+'" with version "'+e+'":'];return i&&c.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),i&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}u(new s.Component(o+"-version",function(){return{library:o,version:e}},"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});c.setUserLogHandler(t,e)},apps:null,SDK_VERSION:y,INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function o(t){if(t=t||p,!a.contains(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(s){var c,u,p=s.name;if(n.has(p))return d.debug("There were multiple attempts to register component "+p+"."),"PUBLIC"===s.type?r[p]:null;if(n.set(p,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=o()),"function"!=typeof t[p])throw l.create("invalid-app-argument",{appName:p});return t[p]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),r[p]=f,t.prototype[p]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,p);return n.apply(this,s.multipleInstances?t:[])}}try{for(var h=i.__values(Object.keys(e)),y=h.next();!y.done;y=h.next()){var _=y.value;e[_]._addComponent(s)}}catch(v){c={error:v}}finally{try{y&&!y.done&&(u=h.return)&&u.call(h)}finally{if(c)throw c.error}}return"PUBLIC"===s.type?r[p]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),o.App=t,r}var v=function t(){var e=_(h);return e.INTERNAL=i.__assign(i.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(m(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();function m(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}if(a.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var S=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),S.apply(void 0,t)};var R=v;(function(t){t.INTERNAL.registerComponent(new s.Component("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")})(R),n.default=R,n.firebase=R},{"@firebase/component":4,"@firebase/logger":7,"@firebase/util":8,tslib:16}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("tslib"),o=t("@firebase/util"),i=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:a,optional:!1},t),n=e.identifier,o=e.optional,i=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(i);if(!s){if(o)return null;throw Error("Service "+this.name+" is not available")}return s}catch(c){if(o)return null;throw c}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,u(t))try{this.getOrInitializeService(a)}catch(d){}try{for(var o=r.__values(this.instancesDeferred.entries()),i=o.next();!i.done;i=o.next()){var s=r.__read(i.value,2),c=s[0],l=s[1],p=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService(p);l.resolve(f)}catch(d){}}}catch(h){e={error:h}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,c(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}();function c(t){return t===a?void 0:t}function u(t){return"EAGER"===t.instantiationMode}var l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();n.Component=i,n.ComponentContainer=l,n.Provider=s},{"@firebase/util":8,tslib:16}],5:[function(t,e,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("@firebase/app"),i=t("tslib"),a=t("@firebase/util"),s=t("@firebase/logger"),c=t("@firebase/component");function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l,p=u(o),f=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new f(e)}}catch(n){}return new d},y=h("localStorage"),_=h("sessionStorage"),v=new s.Logger("@firebase/database"),g=(l=1,function(){return l++}),m=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var r=n.digest();return a.base64.encodeByteArray(r)},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var o=t[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=b.apply(null,o):n+="object"==typeof o?a.stringify(o):o,n+=" "}return n},S=null,R=!0,C=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(v.logLevel=s.LogLevel.VERBOSE,S=v.log.bind(v),e&&_.set("logging_enabled",!0)):"function"==typeof t?S=t:(S=null,_.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===R&&(R=!1,null===S&&!0===_.get("logging_enabled")&&C(!0)),S){var n=b.apply(null,t);S(n)}},P=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,i.__spread([t],e))}},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,i.__spread(t));v.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,i.__spread(t));throw v.error(n),new Error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+b.apply(void 0,i.__spread(t));v.warn(n)},j=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},D=function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},A="[MIN_NAME]",N="[MAX_NAME]",T=function(t,e){if(t===e)return 0;if(t===A||e===N)return-1;if(e===A||t===N)return 1;var n=J(t),r=J(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},L=function(t,e){return t===e?0:t<e?-1:1},x=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},F=function(t){if("object"!=typeof t||null===t)return a.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=a.stringify(e[o]),r+=":",r+=F(t[e[o]]);return r+"}"},k=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],o=0;o<n;o+=e)o+e>n?r.push(t.substring(o,n)):r.push(t.substring(o,o+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var B=function(t){var e,n,r,o,i;a.assert(!j(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(i=52;i;i-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var c=s.join(""),u="";for(i=0;i<64;i+=8){var l=parseInt(c.substr(i,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},U=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},z=new RegExp("^-?(0*)\\d{1,10}$"),J=function(t){if(z.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},V=function(t){try{t()}catch(e){setTimeout(function(){var t=e.stack||"";throw E("Exception was thrown by user callback.",t),e},Math.floor(0))}},K=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},W=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var o=e.split("/");for(r=0;r<o.length;r++)o[r].length>0&&n.push(o[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),o=n.getFront();if(null===r)return n;if(r===o)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),o=0;o<n.length&&o<r.length;o++){var i=T(n[o],r[o]);if(0!==i)return i}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),G=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),H="long_polling",Q=function(){function t(t,e,n,r,o,i,a){void 0===o&&(o=!1),void 0===i&&(i=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=y.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&y.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"==typeof t,"typeof type must == string"),a.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==H)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return M(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();function Y(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(i){}e+="/"+o}return e}function X(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=i.__values(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var c=s.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):E("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}var $,Z,tt,et,nt,rt,ot,it,at,st,ct=function(t,e){var n=ut(t),r=n.namespace;"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Q(n.host,n.secure,r,e,o,"",r!==n.subdomain),path:new q(n.pathString)}},ut=function(t){var e="",n="",r="",o="",i="",a=!0,s="https",c=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(s=t.substring(0,u-1),t=t.substring(u+2));var l=t.indexOf("/");-1===l&&(l=t.length);var p=t.indexOf("?");-1===p&&(p=t.length),e=t.substring(0,Math.min(l,p)),l<p&&(o=Y(t.substring(l,p)));var f=X(t.substring(Math.min(t.length,p)));(u=e.indexOf(":"))>=0?(a="https"===s||"wss"===s,c=parseInt(e.substring(u+1),10)):u=e.length;var d=e.slice(0,u);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var h=e.indexOf(".");r=e.substring(0,h).toLowerCase(),n=e.substring(h+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:s,pathString:o,namespace:i}},lt=/[\[\].#$\/\u0000-\u001F\u007F]/,pt=/[\[\].#$\u0000-\u001F\u007F]/,ft=function(t){return"string"==typeof t&&0!==t.length&&!lt.test(t)},dt=function(t){return"string"==typeof t&&0!==t.length&&!pt.test(t)},ht=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dt(t)},yt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!j(t)||t&&"object"==typeof t&&a.contains(t,".sv")},_t=function(t,e,n,r,o){o&&void 0===n||vt(a.errorPrefix(t,e,o),n,r)},vt=function(t,e,n){var r=n instanceof q?new G(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(j(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&a.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,i=!1;if(M(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(i=!0,!ft(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),vt(t,n,r),r.pop()}),o&&i)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},gt=function(t,e){var n,r;for(n=0;n<e.length;n++)for(var o=(r=e[n]).slice(),i=0;i<o.length;i++)if(".priority"===o[i]&&i===o.length-1);else if(!ft(o[i]))throw new Error(t+"contains an invalid key ("+o[i]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(q.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},mt=function(t,e,n,r,o){if(!o||void 0!==n){var i=a.errorPrefix(t,e,o);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(i+" must be an object containing the children to replace.");var s=[];M(n,function(t,e){var n=new q(t);if(vt(i,e,r.child(n)),".priority"===n.getBack()&&!yt(e))throw new Error(i+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),gt(i,s)}},bt=function(t,e,n,r){if(!r||void 0!==n){if(j(n))throw new Error(a.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yt(n))throw new Error(a.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},St=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Rt=function(t,e,n,r){if(!(r&&void 0===n||ft(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ct=function(t,e,n,r){if(!(r&&void 0===n||dt(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ot=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ct(t,e,n,r)},Pt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},wt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ft(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!ht(r))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},It=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a boolean.")},Et=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Pt("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),Pt("OnDisconnect.set",this.path_),_t("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Pt("OnDisconnect.setWithPriority",this.path_),_t("OnDisconnect.setWithPriority",1,t,this.path_,!1),bt("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),Pt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mt("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var o=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,o.wrapCallback(e)),o.promise},t}(),jt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Dt=($="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Z=0,tt=[],function(t){var e,n=t===Z;Z=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=$.charAt(t%64),t=Math.floor(t/64);a.assert(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===tt[e];e--)tt[e]=0;tt[e]++}else for(e=0;e<12;e++)tt[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=$.charAt(tt[e]);return a.assert(20===o.length,"nextPushId: Length should be 20."),o}),At=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Nt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new At(A,t),r=new At(A,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return At.MIN},t}(),Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return et},set:function(t){et=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return T(t.name,e.name)},e.prototype.isDefinedOn=function(){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(){return!1},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return new At(N,et)},e.prototype.makePost=function(t){return a.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new At(t,et)},e.prototype.toString=function(){return".key"},e}(Nt),Lt=new Tt,xt=function(t){return"number"==typeof t?"number:"+B(t):"string:"+t},Ft=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===nt||t.isEmpty(),"priority of unexpected type.");a.assert(t===nt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},kt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ft(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return rt},set:function(t){rt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+xt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?B(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),i=t.VALUE_TYPE_ORDER.indexOf(r);return a.assert(o>=0,"Unknown leaf type: "+n),a.assert(i>=0,"Unknown leaf type: "+r),o===i?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Mt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),o=n.compareTo(r);return 0===o?T(t.name,e.name):o},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return new At(N,new kt("[PRIORITY-POST]",it))},e.prototype.makePost=function(t,e){var n=ot(t);return new At(e,new kt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Nt)),Bt=function(){function t(t,e,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var i=1;!t.isEmpty();)if(t=t,i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse_?t.left:t.right;else{if(0===i){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ut=function(){function t(e,n,r,o,i){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=o?o:Jt.EMPTY_NODE,this.right=null!=i?i:Jt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,o,i){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=i?i:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,o=n(t,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Jt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Jt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),zt=function(){function t(){}return t.prototype.copy=function(){return this},t.prototype.insert=function(t,e){return new Ut(t,e,null)},t.prototype.remove=function(){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(){return!1},t.prototype.reverseTraversal=function(){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Jt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Bt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Bt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Bt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Bt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new zt,t}(),Vt=Math.log(2),Kt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Vt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Wt=function(t,e,n,r){t.sort(e);var o=function(e,r){var i,a,s=r-e;if(0===s)return null;if(1===s)return i=t[e],a=n?n(i):i,new Ut(a,i.node,Ut.BLACK,null,null);var c=parseInt(s/2,10)+e,u=o(e,c),l=o(c+1,r);return i=t[c],a=n?n(i):i,new Ut(a,i.node,Ut.BLACK,u,l)},i=function(e){for(var r=null,i=null,a=t.length,s=function(e,r){var i=a-e,s=a;a-=e;var u=o(i+1,s),l=t[i],p=n?n(l):l;c(new Ut(p,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(i=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),p=Math.pow(2,e.count-(u+1));l?s(p,Ut.BLACK):(s(p,Ut.BLACK),s(p,Ut.RED))}return i}(new Kt(t.length));return new Jt(r||e,i)},qt={},Gt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(qt&&Mt,"ChildrenNode.ts has not been loaded"),at=at||new t({".priority":qt},{".priority":Mt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Jt?e:null},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==Lt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],s=!1,c=n.getIterator(At.Wrap),u=c.getNext();u;)s=s||e.isDefinedOn(u.node),o.push(u),u=c.getNext();r=s?Wt(o,e.getCompare()):qt;var l=e.toString(),p=i.__assign({},this.indexSet_);p[l]=e;var f=i.__assign({},this.indexes_);return f[l]=r,new t(f,p)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(a.map(this.indexes_,function(t,o){var i=a.safeGet(r.indexSet_,o);if(a.assert(i,"Missing index implementation for "+o),t===qt){if(i.isDefinedOn(e.node)){for(var s=[],c=n.getIterator(At.Wrap),u=c.getNext();u;)u.name!==e.name&&s.push(u),u=c.getNext();return s.push(e),Wt(s,i.getCompare())}return qt}var l=n.get(e.name),p=t;return l&&(p=p.remove(new At(e.name,l))),p.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,function(t){if(t===qt)return t;var r=n.get(e.name);return r?t.remove(new At(e.name,r)):t}),this.indexSet_)},t}();function Ht(t,e){return T(t.name,e.name)}function Qt(t,e){return T(t,e)}var Yt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ft(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return st||(st=new t(new Jt(Qt),null,Gt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||st},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?st:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new At(e,n),o=void 0,i=void 0;n.isEmpty()?(o=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));var s=o.isEmpty()?st:this.priorityNode_;return new t(o,s,i)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,o=0,i=!0;if(this.forEachChild(Mt,function(a,s){n[a]=s.val(e),r++,i&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):i=!1}),!e&&i&&o<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+xt(this.getPriority().val())+":"),this.forEachChild(Mt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var o=r.getPredecessorKey(new At(t,e));return o?o.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new At(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new At(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,At.Wrap),o=r.peek();null!=o&&e.compare(o,t)<0;)r.getNext(),o=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,At.Wrap),o=r.peek();null!=o&&e.compare(o,t)>0;)r.getNext(),o=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xt?-1:0},t.prototype.withIndex=function(e){if(e===Lt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Lt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Mt),r=e.getIterator(Mt),o=n.getNext(),i=r.getNext();o&&i;){if(o.name!==i.name||!o.node.equals(i.node))return!1;o=n.getNext(),i=r.getNext()}return null===o&&null===i}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Lt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Xt=new(function(t){function e(){return t.call(this,new Jt(Qt),Yt.EMPTY_NODE,Gt.Default)||this}return i.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(){return Yt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Yt));Object.defineProperties(At,{MIN:{value:new At(A,Yt.EMPTY_NODE)},MAX:{value:new At(N,Xt)}}),Tt.__EMPTY_NODE=Yt.EMPTY_NODE,kt.__childrenNodeConstructor=Yt,nt=Xt,it=Xt;var $t=!0;function Zt(t,e){if(void 0===e&&(e=null),null===t)return Yt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new kt(t,Zt(e));if(t instanceof Array||!$t){var n=Yt.EMPTY_NODE;return M(t,function(e,r){if(a.contains(t,e)&&"."!==e.substring(0,1)){var o=Zt(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}}),n.updatePriority(Zt(e))}var r=[],o=!1;if(M(t,function(t,e){if("."!==t.substring(0,1)){var n=Zt(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new At(t,n)))}}),0===r.length)return Yt.EMPTY_NODE;var i=Wt(r,Ht,function(t){return t.name},Qt);if(o){var s=Wt(r,Mt.getCompare());return new Yt(i,Zt(e),new Gt({".priority":s},{".priority":Mt}))}return new Yt(i,Zt(e),Gt.Default)}ot=Zt;var te,ee=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?T(t.name,e.name):n},e.prototype.isDefinedOn=function(){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return At.MAX},e.prototype.makePost=function(t,e){var n=Zt(t);return new At(e,n)},e.prototype.toString=function(){return".value"},e}(Nt)),ne=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return i.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),o=n.compareTo(r);return 0===o?T(t.name,e.name):o},e.prototype.makePost=function(t,e){var n=Zt(t),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,n);return new At(e,r)},e.prototype.maxPost=function(){var t=Yt.EMPTY_NODE.updateChild(this.indexPath_,Xt);return new At(N,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Nt),re=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),Ct("DataSnapshot.child",1,e,!1);var n=new q(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Mt)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Ct("DataSnapshot.hasChild",1,t,!1);var e=new q(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(r,o){return e(new t(o,n.ref_.child(r),Mt))})},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),oe=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),ie=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ae=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new oe("value",this,new re(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ie(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),se=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,a.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ie(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new oe(t.type,this,new re(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),o=Object.keys(this.callbacks_),i=r.length;if(i===o.length){if(1===i){var a=r[0],s=o[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return o.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ce=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(te,"Reference.ts has not been loaded"),te},set:function(t){te=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Lt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==A)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==N)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Mt){if(null!=e&&!yt(e)||null!=n&&!yt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof ne||t.getIndex()===ee,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,o){a.validateArgCount("Query.on",2,4,arguments.length),St("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var i=t.getCancelAndContextArgs_("Query.on",r,o);if("value"===e)this.onValueEvent(n,i.cancel,i.context);else{var s={};s[e]=n,this.onChildEvent(s,i.cancel,i.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new ae(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new se(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),St("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,o=null;if("value"===t){var i=e||null;r=new ae(i,null,n||null)}else t&&(e&&((o={})[t]=e),r=new se(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,o){var i=this;a.validateArgCount("Query.once",1,4,arguments.length),St("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,o),c=!0,u=new a.Deferred;u.promise.catch(function(){});var l=function(t){c&&(c=!1,i.off(e,l),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,l,function(t){i.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Ct("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new q(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ne(n),o=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(o),new t(this.repo,this.path,o,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Lt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Mt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(ee);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),_t("Query.startAt",1,e,this.path,!0),Rt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),_t("Query.endAt",1,e,this.path,!0),Rt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),_t("Query.equalTo",1,t,this.path,!1),Rt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=F(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,o=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return r&&o&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,a.validateCallback(t,3,r.cancel,!0),r.context=n,a.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ue=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),le=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),pe=function(t,e,n){return t&&"object"==typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?fe(t[".sv"],e,n):"object"==typeof t[".sv"]?de(t[".sv"],e):void a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},fe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:a.assert(!1,"Unexpected server value: "+t)}},de=function(t,e){t.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var n=t.increment;"number"!=typeof n&&a.assert(!1,"Unexpected increment value: "+n);var r=e.node();if(a.assert(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return n;var o=r.getValue();return"number"!=typeof o?n:o+n},he=function(t,e,n,r){return _e(e,new le(n,t),r)},ye=function(t,e,n){return _e(t,new ue(e),n)};function _e(t,e,n){var r,o=t.getPriority().val(),i=pe(o,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=pe(a.getValue(),e,n);return s!==a.getValue()||i!==a.getPriority().val()?new kt(s,Zt(i)):t}var c=t;return r=c,i!==c.getPriority().val()&&(r=r.updatePriority(new kt(i))),c.forEachChild(Mt,function(t,o){var i=_e(o,e.getImmediateChild(t),n);i!==o&&(r=r.updateImmediateChild(t,i))}),r}var ve,ge=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var o=this.children.get(r);e=e.popFront(),o.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Mt,function(t,e){n.remember(new q(t),e)}),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,r){var o=new q(t.toString()+"/"+n);r.forEachTree(o,e)})},t.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},t}();(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ve||(ve={}));var me,be,Se=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,a.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Re=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ve.ACK_USER_WRITE,this.source=Se.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new q(e));return new t(q.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Ce=function(){return me||(me=new Jt(L)),me},Oe=function(){function t(t,e){void 0===e&&(e=Ce()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return M(e,function(t,e){n=n.set(new q(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:q.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var o=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=o?{path:new q(n).child(o.path),value:o.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),o=(this.children.get(r)||t.Empty).set(e.popFront(),n),i=this.children.insert(r,o);return new t(this.value,i)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var o=r.remove(e.popFront()),i=void 0;return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?t.Empty:new t(this.value,i)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,o=e.getFront(),i=(this.children.get(o)||t.Empty).setTree(e.popFront(),n);return r=i.isEmpty()?this.children.remove(o):this.children.insert(o,i),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(q.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,q.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var o=t.getFront(),i=this.children.get(o);return i?i.findOnPath_(t.popFront(),e.child(o),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,q.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var o=e.getFront(),i=this.children.get(o);return i?i.foreachOnPath_(e.popFront(),n.child(o),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(q.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),Pe=function(){function t(t,e){this.source=t,this.path=e,this.type=ve.LISTEN_COMPLETE}return t.prototype.operationForChild=function(){return this.path.isEmpty()?new t(this.source,q.Empty):new t(this.source,this.path.popFront())},t}(),we=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ve.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,q.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Ie=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ve.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new we(this.source,q.Empty,n.value):new t(this.source,q.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ee=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),je=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Ee(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Ee(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Ee(Yt.EMPTY_NODE,!1,!1),new Ee(Yt.EMPTY_NODE,!1,!1)),t}(),De=function(){function t(t,e,n,r,o){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=o}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Ae=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,i){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=i&&(n.isEmpty()?t.hasChild(e)?i.trackChildChange(De.childRemovedChange(e,s)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?i.trackChildChange(De.childAddedChange(e,n)):i.trackChildChange(De.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Mt,function(t,r){e.hasChild(t)||n.trackChildChange(De.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Mt,function(e,r){if(t.hasChild(e)){var o=t.getImmediateChild(e);o.equals(r)||n.trackChildChange(De.childChangedChange(e,r,o))}else n.trackChildChange(De.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Yt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ne=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e===De.CHILD_ADDED||e===De.CHILD_CHANGED||e===De.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if(e===De.CHILD_ADDED&&o===De.CHILD_REMOVED)this.changeMap.set(n,De.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===De.CHILD_REMOVED&&o===De.CHILD_ADDED)this.changeMap.delete(n);else if(e===De.CHILD_REMOVED&&o===De.CHILD_CHANGED)this.changeMap.set(n,De.childRemovedChange(n,r.oldSnap));else if(e===De.CHILD_CHANGED&&o===De.CHILD_ADDED)this.changeMap.set(n,De.childAddedChange(n,t.snapshotNode));else{if(e!==De.CHILD_CHANGED||o!==De.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,De.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Te=new(function(){function t(){}return t.prototype.getCompleteChild=function(){return null},t.prototype.getChildAfterChild=function(){return null},t}()),Le=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ee(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),o=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===o.length?null:o[0]},t}(),xe=function(t,e){this.viewCache=t,this.changes=e},Fe=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,o){var i,s,c=new Ne;if(n.type===ve.OVERWRITE){var u=n;u.source.fromUser?i=this.applyUserOverwrite_(e,u.path,u.snap,r,o,c):(a.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),i=this.applyServerOverwrite_(e,u.path,u.snap,r,o,s,c))}else if(n.type===ve.MERGE){var l=n;l.source.fromUser?i=this.applyUserMerge_(e,l.path,l.children,r,o,c):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),i=this.applyServerMerge_(e,l.path,l.children,r,o,s,c))}else if(n.type===ve.ACK_USER_WRITE){var p=n;i=p.revert?this.revertUserWrite_(e,p.path,r,o,c):this.ackUserWrite_(e,p.path,p.affectedTree,r,o,c)}else{if(n.type!==ve.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);i=this.listenComplete_(e,n.path,r,c)}var f=c.getChanges();return t.maybeAddValueEvent_(e,i,f),new xe(i,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(De.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,o){var i=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,c=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=u instanceof Yt?u:Yt.EMPTY_NODE,p=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(t.getEventCache().getNode(),p,o)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,o)}else{var d=e.getFront();if(".priority"===d){a.assert(1===e.getLength(),"Can't have a priority with additional path components");var h=i.getNode();c=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,h,c);s=null!=y?this.filter_.updatePriority(h,y):i.getNode()}else{var _=e.popFront(),v=void 0;if(i.isCompleteForChild(d)){c=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,i.getNode(),c);v=null!=g?i.getNode().getImmediateChild(d).updateChild(_,g):i.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,t.getServerCache());s=null!=v?this.filter_.updateChild(i.getNode(),d,v,_,r,o):i.getNode()}}return t.updateEventSnap(s,i.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,o,i,a){var s,c=t.getServerCache(),u=i?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=u.updateFullNode(c.getNode(),n,null);else if(u.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(e,n);s=u.updateFullNode(c.getNode(),l,null)}else{var p=e.getFront();if(!c.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=c.getNode().getImmediateChild(p).updateChild(f,n);s=".priority"===p?u.updatePriority(c.getNode(),d):u.updateChild(c.getNode(),p,d,f,Te,null)}var h=t.updateServerSnap(s,c.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),y=new Le(r,h,o);return this.generateEventCacheAfterServerEvent_(h,e,r,y,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,o,i){var a,s,c=t.getEventCache(),u=new Le(r,t,o);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,i),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,c.isFullyInitialized(),c.isFiltered());else{var p=e.popFront(),f=c.getNode().getImmediateChild(l),d=void 0;if(p.isEmpty())d=n;else{var h=u.getCompleteChild(l);d=null!=h?".priority"===p.getBack()&&h.getChild(p.parent()).isEmpty()?h:h.updateChild(p,n):Yt.EMPTY_NODE}if(f.equals(d))a=t;else{var y=this.filter_.updateChild(c.getNode(),l,d,p,u,i);a=t.updateEventSnap(y,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,o,i,a){var s=this,c=e;return r.foreach(function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(c=s.applyUserOverwrite_(c,l,u,o,i,a))}),r.foreach(function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(c=s.applyUserOverwrite_(c,l,u,o,i,a))}),c},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,o,i,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var c,u=t;c=e.isEmpty()?n:Oe.Empty.setTree(e,n);var l=t.getServerCache().getNode();return c.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var c=t.getServerCache().getNode().getImmediateChild(e),p=s.applyMerge_(c,n);u=s.applyServerOverwrite_(u,new q(e),p,r,o,i,a)}}),c.children.inorderTraversal(function(e,n){var c=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!c){var p=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(p,n);u=s.applyServerOverwrite_(u,new q(e),f,r,o,i,a)}}),u},t.prototype.ackUserWrite_=function(t,e,n,r,o,i){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,o,a,i);if(e.isEmpty()){var c=Oe.Empty;return s.getNode().forEachChild(Lt,function(t,e){c=c.set(new q(t),e)}),this.applyServerMerge_(t,e,c,r,o,a,i)}return t}var u=Oe.Empty;return n.foreach(function(t){var n=e.child(t);s.isCompleteForPath(n)&&(u=u.set(t,s.getNode().getChild(n)))}),this.applyServerMerge_(t,e,u,r,o,a,i)},t.prototype.listenComplete_=function(t,e,n,r){var o=t.getServerCache(),i=t.updateServerSnap(o.getNode(),o.isFullyInitialized()||e.isEmpty(),o.isFiltered());return this.generateEventCacheAfterServerEvent_(i,e,n,Te,r)},t.prototype.revertUserWrite_=function(t,e,n,r,o){var i;if(null!=n.shadowingWrite(e))return t;var s=new Le(n,t,r),c=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var p=t.getServerCache().getNode();a.assert(p instanceof Yt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(p)}l=l,u=this.filter_.updateFullNode(c,l,o)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(u=null!=d?this.filter_.updateChild(c,f,d,e.popFront(),s,o):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(c,f,Yt.EMPTY_NODE,e.popFront(),s,o):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(i=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,i,o))}return i=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(q.Empty),t.updateEventSnap(u,i,this.filter_.filtersNodes())},t}(),ke=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,o=[],i=[];return t.forEach(function(t){t.type===De.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push(De.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(o,De.CHILD_REMOVED,t,n,e),this.generateEventsForType_(o,De.CHILD_ADDED,t,n,e),this.generateEventsForType_(o,De.CHILD_MOVED,i,n,e),this.generateEventsForType_(o,De.CHILD_CHANGED,t,n,e),this.generateEventsForType_(o,De.VALUE,t,n,e),o},t.prototype.generateEventsForType_=function(t,e,n,r,o){var i=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=i.materializeSingleChange_(e,o);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,i.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new At(t.childName,t.snapshotNode),r=new At(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Me=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Ae(n.getIndex()),o=n.getNodeFilter();this.processor_=new Fe(o);var i=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Yt.EMPTY_NODE,i.getNode(),null),c=o.updateFullNode(Yt.EMPTY_NODE,a.getNode(),null),u=new Ee(s,i.isFullyInitialized(),r.filtersNodes()),l=new Ee(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new je(l,u),this.eventGenerator_=new ke(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var o=t.createCancelEvent(e,r);o&&n.push(o)})}if(t){for(var o=[],i=0;i<this.eventRegistrations_.length;++i){var s=this.eventRegistrations_[i];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(i+1));break}}else o.push(s)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ve.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(o.viewCache),a.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Mt,function(t,e){n.push(De.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(De.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Be=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(be,"Reference.ts has not been loaded"),be},set:function(t){a.assert(!be,"__referenceConstructor has already been defined"),be=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,o,s=t.source.queryId;if(null!==s){var c=this.views.get(s);return a.assert(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(t,e,n)}var u=[];try{for(var l=i.__values(this.views.values()),p=l.next();!p.done;p=l.next())c=p.value,u=u.concat(c.applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,o){var i=t.queryIdentifier(),a=this.views.get(i);if(!a){var s=n.calcCompleteEventCache(o?r:null),c=!1;s?c=!0:r instanceof Yt?(s=n.calcCompleteEventChildren(r),c=!1):(s=Yt.EMPTY_NODE,c=!1);var u=new je(new Ee(s,c,!1),new Ee(r,o,!1));a=new Me(t,u),this.views.set(i,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),c=[],u=[],l=this.hasCompleteView();if("default"===s)try{for(var p=i.__values(this.views.entries()),f=p.next();!f.done;f=p.next()){var d=i.__read(f.value,2),h=d[0],y=d[1];u=u.concat(y.removeEventRegistration(n,r)),y.isEmpty()&&(this.views.delete(h),y.getQuery().getQueryParams().loadsAllData()||c.push(y.getQuery()))}}catch(_){o={error:_}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}else(y=this.views.get(s))&&(u=u.concat(y.removeEventRegistration(n,r)),y.isEmpty()&&(this.views.delete(s),y.getQuery().getQueryParams().loadsAllData()||c.push(y.getQuery())));return l&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=i.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=i.__values(this.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r||s.getCompleteServerCache(t)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=i.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Ue=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Oe(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var o=r.path,i=r.value,a=q.relativePath(o,e);return i=i.updateChild(a,n),new t(this.writeTree_.set(o,i))}var s=new Oe(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return M(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,Oe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(q.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Mt,function(e,n){t.push(new At(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new At(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Oe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return ze(q.Empty,this.writeTree_,t)},t.Empty=new t(new Oe(null)),t}();function ze(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,o){".priority"===e?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=ze(t.child(e),o,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}var Je=function(){function t(){this.visibleWrites_=Ue.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ve(t,this)},t.prototype.addOverwrite=function(t,e,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,i=!1,s=this.allWrites_.length-1;o&&s>=0;){var c=this.allWrites_[s];c.visible&&(s>=n&&this.recordContainsPath_(c,r.path)?o=!1:r.path.contains(c.path)&&(i=!0)),s--}return!!o&&(i?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,o){if(r||o){var i=this.visibleWrites_.childCompoundWrite(e);if(!o&&i.isEmpty())return n;if(o||null!=n||i.hasCompleteWrite(q.Empty)){var a=t.layerTree_(this.allWrites_,function(t){return(t.visible||o)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e);return u=n||Yt.EMPTY_NODE,a.apply(u)}return null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var c=this.visibleWrites_.childCompoundWrite(e);if(c.isEmpty())return n;if(null!=n||c.hasCompleteWrite(q.Empty)){var u=n||Yt.EMPTY_NODE;return c.apply(u)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Yt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Mt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var o=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Mt,function(t,e){var r=o.childCompoundWrite(new q(t)).apply(e);n=n.updateImmediateChild(t,r)}),o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=t.child(e);if(this.visibleWrites_.hasCompleteWrite(o))return null;var i=this.visibleWrites_.childCompoundWrite(o);return i.isEmpty()?r.getChild(e):i.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),o=this.visibleWrites_.getCompleteNode(r);return null!=o?o:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,o,i){var a,s=this.visibleWrites_.childCompoundWrite(t),c=s.getCompleteNode(q.Empty);if(null!=c)a=c;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(i)).isEmpty()||a.isLeafNode())return[];for(var u=[],l=i.getCompare(),p=o?a.getReverseIteratorFrom(n,i):a.getIteratorFrom(n,i),f=p.getNext();f&&u.length<r;)0!==l(f,n)&&u.push(f),f=p.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,q.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ue.Empty,o=0;o<t.length;++o){var i=t[o];if(e(i)){var s=i.path,c=void 0;if(i.snap)n.contains(s)?(c=q.relativePath(n,s),r=r.addWrite(c,i.snap)):s.contains(n)&&(c=q.relativePath(s,n),r=r.addWrite(q.Empty,i.snap.getChild(c)));else{if(!i.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))c=q.relativePath(n,s),r=r.addWrites(c,i.children);else if(s.contains(n))if((c=q.relativePath(s,n)).isEmpty())r=r.addWrites(q.Empty,i.children);else{var u=a.safeGet(i.children,c.getFront());if(u){var l=u.getChild(c.popFront());r=r.addWrite(q.Empty,l)}}}}}return r},t}(),Ve=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,o){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,o)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ke=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Oe.Empty,this.pendingWriteTree_=new Je,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new we(Se.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Oe.fromObject(e);return this.applyOperationToSyncPoints_(new Ie(Se.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Oe.Empty;return null!=n.snap?r=r.set(q.Empty,!0):M(n.children,function(t,e){r=r.set(new q(t),e)}),this.applyOperationToSyncPoints_(new Re(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new we(Se.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Oe.fromObject(e);return this.applyOperationToSyncPoints_(new Ie(Se.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Pe(Se.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var o=this.queryKeyForTag_(r);if(null!=o){var i=t.parseQueryKey_(o),a=i.path,s=i.queryId,c=q.relativePath(a,e),u=new we(Se.forServerTaggedQuery(s),c,n);return this.applyTaggedOperation_(a,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var o=this.queryKeyForTag_(r);if(o){var i=t.parseQueryKey_(o),a=i.path,s=i.queryId,c=q.relativePath(a,e),u=Oe.fromObject(n),l=new Ie(Se.forServerTaggedQuery(s),c,u);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var o=t.parseQueryKey_(r),i=o.path,a=o.queryId,s=q.relativePath(i,e),c=new Pe(Se.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(i,c)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,o=null,i=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=q.relativePath(t,r);o=o||e.getCompleteServerCache(n),i=i||e.hasCompleteView()});var s,c=this.syncPointTree_.get(r);c?(i=i||c.hasCompleteView(),o=o||c.getCompleteServerCache(q.Empty)):(c=new Be,this.syncPointTree_=this.syncPointTree_.set(r,c)),null!=o?s=!0:(s=!1,o=Yt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(q.Empty);n&&(o=o.updateImmediateChild(t,n))}));var u=c.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);a.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var p=t.getNextQueryTag_();this.queryToTagMap.set(l,p),this.tagToQueryMap.set(p,l)}var f=this.pendingWriteTree_.childWrites(r),d=c.addEventRegistration(e,n,f,o,s);if(!u&&!i){var h=c.viewForQuery(e);d=d.concat(this.setupListener_(e,h))}return d},t.prototype.removeEventRegistration=function(e,n,r){var o=this,i=e.path,a=this.syncPointTree_.get(i),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var c=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var u=c.removed;s=c.events;var l=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),p=this.syncPointTree_.findOnPath(i,function(t,e){return e.hasCompleteView()});if(l&&!p){var f=this.syncPointTree_.subtree(i);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),h=0;h<d.length;++h){var y=d[h],_=y.getQuery(),v=this.createListenerForView_(y);this.listenProvider_.startListening(t.queryForListening_(_),this.tagForQuery_(_),v.hashFn,v.onComplete)}}!p&&u.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach(function(e){var n=o.queryToTagMap.get(t.makeQueryKey_(e));o.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(u)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=q.relativePath(e,t),o=n.getCompleteServerCache(r);if(o)return o});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),M(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var o=t.makeQueryKey_(r),i=this.queryToTagMap.get(o);this.queryToTagMap.delete(o),this.tagToQueryMap.delete(i)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,o=this.tagForQuery_(e),i=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),o,i.hashFn,i.onComplete),c=this.syncPointTree_.subtree(r);if(o)a.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),M(n,function(t,e){r=r.concat(e)}),r}),l=0;l<u.length;++l){var p=u[l];this.listenProvider_.stopListening(t.queryForListening_(p),this.tagForQuery_(p))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Yt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var o=U(t,n);return e.removeEventRegistration(n,null,o)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(q.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var o=e.get(q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(q.Empty));var i=[],a=t.path.getFront(),s=t.operationForChild(a),c=e.children.get(a);if(c&&s){var u=n?n.getImmediateChild(a):null,l=r.child(a);i=i.concat(this.applyOperationHelper_(s,c,u,l))}return o&&(i=i.concat(o.applyOperation(t,r,n))),i},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var o=this,i=e.get(q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(q.Empty));var a=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,c=r.child(e),u=t.operationForChild(e);u&&(a=a.concat(o.applyOperationDescendantsHelper_(u,i,s,c)))}),i&&(a=a.concat(i.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),We=function(){function t(){this.rootNode_=Yt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),qe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),Ge=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new qe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),He=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=i.__assign({},t);return this.last_&&M(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Qe=1e4,Ye=3e4,Xe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new He(t);var n=Qe+(Ye-Qe)*Math.random();W(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,function(e,o){o>0&&a.contains(t.statsToReport_,e)&&(n[e]=o,r=!0)}),r&&this.server_.reportStats(n),W(this.reportStats_.bind(this),Math.floor(6e5*Math.random()))},t}(),$e=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.getPath();null===e||o.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ze(o)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ze=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();S&&O("event: "+e.toString()),V(n)}}},t.prototype.getPath=function(){return this.path_},t}(),tn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=i.__spread(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context))return void r.splice(o,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),en=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(tn),nn=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return i.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(tn),rn=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=o.pendingResponses[o.currentResponseNum];delete o.pendingResponses[o.currentResponseNum];for(var e=function(e){t[e]&&V(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(o.currentResponseNum===o.closeAfterResponse)return o.onClose&&(o.onClose(),o.onClose=null),"break";o.currentResponseNum++},o=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),on="pLPCommand",an="pRTLPCB",sn=function(){function t(t,e,n,r,o){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=P(t),this.stats_=Ge.getCollection(e),this.urlFn=function(t){return e.connectionURL(H,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new rn(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),D(function(){if(!n.isClosed_){n.scriptTagHolder=new cn(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,5),o=r[0],a=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=a,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=i.__read(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(a.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),r=k(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),cn=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window[on+this.uniqueCallbackIdentifier]=e,window[an+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var i="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(i='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){O("frame writing exception"),c.stack&&O(c.stack),O(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||O("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(o),r()})},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(o){}},Math.floor(1))},t}(),un="";function ln(t){un=t}var pn=null;"undefined"!=typeof MozWebSocket?pn=MozWebSocket:"undefined"!=typeof WebSocket&&(pn=WebSocket);var fn=function(){function t(e,n,r,o,i){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=P(this.connId),this.stats_=Ge.getCollection(n),this.connURL=t.connectionURL_(n,o,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,y.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var o=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+un+"/"+r.platform+"/"+o,"X-Firebase-GMPID":this.applicationId||""}},s=r.env,c=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;c&&(i.proxy={origin:c}),this.mySock=new pn(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new pn(this.connURL,[],i)}catch(l){this.log_("Error instantiating WebSocket.");var u=l.message||l.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==pn&&!t.forceDisallow_},t.previouslyFailed=function(){return y.isInMemoryStorage||!0===y.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){y.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=k(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),dn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[sn,fn]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=fn&&fn.isAvailable(),a=o&&!fn.previouslyFailed();if(e.webSocketOnly&&(o||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[fn];else{var s=this.transports_=[];try{for(var c=i.__values(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&s.push(l)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),hn=function(){function t(t,e,n,r,o,i,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=o,this.onDisconnect_=i,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=P("c:"+this.id+":"),this.transportManager_=new dn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=W(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(o)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=x("t",t),n=x("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=x("t",t),n=x("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=x("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?w("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),W(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):W(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(y.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),yn=function(){function t(){}return t.prototype.put=function(){},t.prototype.merge=function(){},t.prototype.refreshAuthToken=function(){},t.prototype.onDisconnectPut=function(){},t.prototype.onDisconnectMerge=function(){},t.prototype.onDisconnectCancel=function(){},t.prototype.reportStats=function(){},t}(),_n=1e3,vn=3e5,gn=function(t){function e(n,r,o,i,s,c,u){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=o,l.onConnectStatus_=i,l.onServerInfoUpdate_=s,l.authTokenProvider_=c,l.authOverride_=u,l.id=e.nextPersistentConnectionId_++,l.log_=P("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=_n,l.maxReconnectDelay_=vn,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),en.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&nn.getInstance().on("online",l.onOnline_,l),l}return i.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(a.stringify(o)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var o=t.queryIdentifier(),i=t.path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(i).set(o,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,o=r.path.toString(),i=r.queryIdentifier();this.log_("Listen on "+o+" for "+i);var a={p:o};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,c=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(o)&&n.listens.get(o).get(i))===t&&(n.log_("listen response",a),"ok"!==c&&n.removeListen_(o,i),t.onComplete&&t.onComplete(c,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',o=e.path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,o=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,o))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var o={p:t};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var o={p:e,d:n};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,o){var i={p:e,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:t,request:i,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),o&&o(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):w("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_n,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_n,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_n),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,s=this,c=this.lastSessionId,u=!1,l=null,p=function(){l?l.close():(u=!0,o())};this.realtime_={close:p,sendRequest:function(t){a.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(t){u?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new hn(i,s.repoInfo_,s.applicationId_,n,r,o,function(t){E(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},c))}).then(null,function(e){s.log_("Failed to get token: "+e),u||(t.repoInfo_.nodeAdmin&&E(e),p())})}},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=_n,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return F(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new q(t).toString();if(this.listens.has(r)){var o=this.listens.get(r);n=o.get(e),o.delete(e),0===o.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=i.__values(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var c=(n=void 0,i.__values(s.values())),u=c.next();!u.done;u=c.next()){var l=u.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var p=0;p<this.outstandingPuts_.length;p++)this.outstandingPuts_[p]&&this.sendPut_(p);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.isNodeSdk()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+un.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=nn.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(yn),mn=function(t){function e(e,n,r){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.log_=P("p:rest:"),o.listens_={},o}return i.__extends(e,t),e.prototype.reportStats=function(){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,o){var i=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&i.onDataUpdate_(s,n,!1,r),a.safeGet(i.listens_,c)===u&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var i=o&&o.accessToken;i&&(e.auth=i);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+a.querystring(e);r.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=a.jsonEval(c.responseText)}catch(e){E("Failed to parse JSON response for "+s+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&E("Got unsuccessful REST response for "+s+" Status: "+c.status),n(c.status);n=null}},c.open("GET",s,!0),c.send()})},e}(yn),bn=function(){function t(t,e,n,r){var o=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ge,this.persistentConnection_=null,this.stats_=Ge.getCollection(t),e||K())this.server_=new mn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var i=n.options.databaseAuthVariableOverride;if(null!=i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}this.persistentConnection_=new gn(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,i),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(t){o.server_.refreshAuthToken(t)}),this.statsReporter_=Ge.getOrCreateReporter(t,function(){return new Xe(o.stats_,o.server_)}),this.transactionsInit_(),this.infoData_=new We,this.infoSyncTree_=new Ke({startListening:function(t,e,n,r){var i=[],a=o.infoData_.getNode(t.path);return a.isEmpty()||(i=o.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){r("ok")},0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ke({startListening:function(t,e,n,r){return o.server_.listen(t,n,e,function(e,n){var i=r(e,n);o.eventQueue_.raiseEventsForChangedPath(t.path,i)}),[]},stopListening:function(t,e){o.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var o=new q(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var i=[];if(r)if(n){var s=a.map(e,function(t){return Zt(t)});i=this.serverSyncTree_.applyTaggedQueryMerge(o,s,r)}else{var c=Zt(e);i=this.serverSyncTree_.applyTaggedQueryOverwrite(o,c,r)}else if(n){var u=a.map(e,function(t){return Zt(t)});i=this.serverSyncTree_.applyServerMerge(o,u)}else{var l=Zt(e);i=this.serverSyncTree_.applyServerOverwrite(o,l)}var p=o;i.length>0&&(p=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(p,i)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,function(t,n){e.updateInfo_(t,n)})},t.prototype.updateInfo_=function(t,e){var n=new q("/.info/"+t),r=Zt(e);this.infoData_.updateSnapshot(n,r);var o=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,o)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var o=this;this.log_("set",{path:t.toString(),value:e,priority:n});var i=this.generateServerValues(),a=Zt(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),c=ye(a,s,i),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,c,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),function(e,n){var i="ok"===e;i||E("set at "+t+" failed: "+e);var a=o.serverSyncTree_.ackUserWrite(u,!i);o.eventQueue_.raiseEventsForChangedPath(t,a),o.callOnCompleteCallback(r,e,n)});var p=this.abortTransactions_(t);this.rerunTransactions_(p),this.eventQueue_.raiseEventsForChangedPath(p,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var o=!0,i=this.generateServerValues(),a={};if(M(e,function(e,n){o=!1,a[e]=he(t.child(e),Zt(n),r.serverSyncTree_,i)}),o)O("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,function(e,o){var i="ok"===e;i||E("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!i),c=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(c,a),r.callOnCompleteCallback(n,e,o)}),M(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ge;this.onDisconnect_.forEachTree(q.Empty,function(r,o){var i=he(r,o,t.serverSyncTree_,e);n.remember(r,i)});var r=[];n.forEachTree(q.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var o=t.abortTransactions_(e);t.rerunTransactions_(o)}),this.onDisconnect_=new ge,this.eventQueue_.raiseEventsForChangedPath(q.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,o){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,o)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,o=Zt(e);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,i){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(n,e,i)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var o=this,i=Zt(e,n);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,n){"ok"===e&&o.onDisconnect_.remember(t,i),o.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(a.isEmpty(e))return O("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(o,i){"ok"===o&&M(e,function(e,n){var o=Zt(n);r.onDisconnect_.remember(t.child(e),o)}),r.callOnCompleteCallback(n,o,i)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new He(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);M(e,function(t,e){for(var r=t,o=t.length;o<n+2;o++)r+=" ";console.log(r+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),O.apply(void 0,i.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&V(function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),o=r;n&&(o+=": "+n);var i=new Error(o);i.code=r,t(i)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Nn(this))},enumerable:!1,configurable:!0}),t}(),Sn=function(){function t(e){this.indexedFilter_=new Ae(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,o,i){return this.matches(new At(e,n))||(n=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,o,i)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Yt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);var o=this;return e.forEachChild(Mt,function(t,e){o.matches(new At(t,e))||(r=r.updateImmediateChild(t,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Rn=function(){function t(t){this.rangedFilter_=new Sn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,o,i){return this.rangedFilter_.matches(new At(e,n))||(n=Yt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,o,i):this.fullLimitUpdateChild_(t,e,n,o,i)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Yt.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;o.hasNext()&&i<this.limit_;){var a=o.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),i++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Yt.EMPTY_NODE);var s=void 0,c=void 0,u=void 0;if(o=void 0,this.reverse_){o=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else o=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();i=0;for(var p=!1;o.hasNext();)a=o.getNext(),!p&&u(s,a)<=0&&(p=!0),p&&i<this.limit_&&u(a,c)<=0?i++:r=r.updateImmediateChild(a.name,Yt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var i;if(this.reverse_){var s=this.index_.getCompare();i=function(t,e){return s(e,t)}}else i=this.index_.getCompare();var c=t;a.assert(c.numChildren()===this.limit_,"");var u=new At(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var f=c.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||c.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var h=null==d?1:i(d,u);if(p&&!n.isEmpty()&&h>=0)return null!=o&&o.trackChildChange(De.childChangedChange(e,n,f)),c.updateImmediateChild(e,n);null!=o&&o.trackChildChange(De.childRemovedChange(e,f));var y=c.updateImmediateChild(e,Yt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(De.childAddedChange(d.name,d.node)),y.updateImmediateChild(d.name,d.node)):y}return n.isEmpty()?t:p&&i(l,u)>=0?(null!=o&&(o.trackChildChange(De.childRemovedChange(l.name,l.node)),o.trackChildChange(De.childAddedChange(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,Yt.EMPTY_NODE)):t},t}(),Cn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Mt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Mt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ae(this.getIndex()):this.hasLimit()?new Rn(this):new Sn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Mt?e=n.PRIORITY_INDEX:this.index_===ee?e=n.VALUE_INDEX:this.index_===Lt?e=n.KEY_INDEX:(a.assert(this.index_ instanceof ne,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=a.stringify(e),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),On=function(t){function e(e,n){if(!(e instanceof bn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,Cn.DEFAULT,!1)||this}return i.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof q||(null===this.path.getFront()?Ot("Reference.child",1,t,!1):Ct("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),Pt("Reference.set",this.path),_t("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),Pt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mt("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var o=new a.Deferred;return this.repo.update(this.path,t,o.wrapCallback(e)),o.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Pt("Reference.setWithPriority",this.path),_t("Reference.setWithPriority",1,t,this.path,!1),bt("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),Pt("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),Pt("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),It("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof e&&r.promise.catch(function(){});var o=function(t,n,o){t?r.reject(t):r.resolve(new jt(n,o)),"function"==typeof e&&e(t,n,o)};return this.repo.startTransaction(this.path,t,o,n),r.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),Pt("Reference.setPriority",this.path),bt("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),Pt("Reference.push",this.path),_t("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),o=Dt(r),i=this.child(o),s=this.child(o);return n=null!=t?i.set(t,e).then(function(){return s}):Promise.resolve(s),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),i},e.prototype.onDisconnect=function(){return Pt("Reference.onDisconnect",this.path),new Et(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(ce);ce.__referenceConstructor=On,Be.__referenceConstructor=On;var Pn,wn=function(){this.children={},this.childCount=0,this.value=null},In=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new wn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof q?e:new q(e),r=this,o=n.getFront();null!==o;)r=new t(o,r,a.safeGet(r.node_.children,o)||new wn),o=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;M(this.node_.children,function(r,o){e(new t(r,n,o))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=a.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();(function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"})(Pn||(Pn={})),bn.MAX_TRANSACTION_RETRIES_=25,bn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new In},bn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var o=function(){},i=new On(this,t);i.on("value",o);var s={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){i.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);s.currentInputSnapshot=c;var u=s.update(c.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new re(s.currentInputSnapshot,new On(this,s.path),Mt);s.onComplete(null,!1,l)}}else{vt("transaction failed: Data returned ",u,s.path),s.status=Pn.RUN;var p=this.transactionQueueTree_.subTree(t),f=p.getValue()||[];f.push(s),p.setValue(f);var d=void 0;"object"==typeof u&&null!==u&&a.contains(u,".priority")?(d=a.safeGet(u,".priority"),a.assert(yt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||Yt.EMPTY_NODE).getPriority().val(),d=d;var h=this.generateServerValues(),y=Zt(u,d),_=ye(y,c,h);s.currentOutputSnapshotRaw=y,s.currentOutputSnapshotResolved=_,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,_,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},bn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Yt.EMPTY_NODE},bn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===Pn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},bn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),o=this.getLatestState_(t,r),i=o,s=o.hash(),c=0;c<e.length;c++){var u=e[c];a.assert(u.status===Pn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=Pn.SENT,u.retryCount++;var l=q.relativePath(t,u.path);i=i.updateChild(l,u.currentOutputSnapshotRaw)}var p=i.val(!0),f=t;this.server_.put(f.toString(),p,function(r){n.log_("transaction put response",{path:f.toString(),status:r});var o=[];if("ok"===r){for(var i=[],a=0;a<e.length;a++){if(e[a].status=Pn.COMPLETED,o=o.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,c=new On(n,e[a].path),u=new re(s,c,Mt);i.push(e[a].onComplete.bind(null,null,!0,u))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,o),a=0;a<i.length;a++)V(i[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status===Pn.SENT_NEEDS_ABORT?e[a].status=Pn.NEEDS_ABORT:e[a].status=Pn.RUN;else for(E("transaction at "+f.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=Pn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}},s)},bn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},bn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],o=[],i=t.filter(function(t){return t.status===Pn.RUN}).map(function(t){return t.currentWriteId}),s=0;s<t.length;s++){var c=t[s],u=q.relativePath(e,c.path),l=!1,p=void 0;if(a.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===Pn.NEEDS_ABORT)l=!0,p=c.abortReason,o=o.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0));else if(c.status===Pn.RUN)if(c.retryCount>=bn.MAX_TRANSACTION_RETRIES_)l=!0,p="maxretry",o=o.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0));else{var f=this.getLatestState_(c.path,i);c.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){vt("transaction failed: Data returned ",d,c.path);var h=Zt(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(h=h.updatePriority(f.getPriority()));var y=c.currentWriteId,_=this.generateServerValues(),v=ye(h,f,_);c.currentOutputSnapshotRaw=h,c.currentOutputSnapshotResolved=v,c.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(y),1),o=(o=o.concat(this.serverSyncTree_.applyUserOverwrite(c.path,v,c.currentWriteId,c.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(y,!0))}else l=!0,p="nodata",o=o.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,o),o=[],l&&(t[s].status=Pn.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===p){var g=new On(this,t[s].path),m=t[s].currentInputSnapshot,b=new re(m,g,Mt);r.push(t[s].onComplete.bind(null,null,!1,b))}else r.push(t[s].onComplete.bind(null,new Error(p),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<r.length;s++)V(r[s]);this.sendReadyTransactions_()}},bn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},bn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},bn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var o=0;o<r.length;o++)e.push(r[o]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},bn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,o=0;o<n.length;o++)n[o].status!==Pn.COMPLETED&&(n[r]=n[o],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},bn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},bn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],o=-1,i=0;i<e.length;i++)e[i].status===Pn.SENT_NEEDS_ABORT||(e[i].status===Pn.SENT?(a.assert(o===i-1,"All SENT items should be at beginning of queue."),o=i,e[i].status=Pn.SENT_NEEDS_ABORT,e[i].abortReason="set"):(a.assert(e[i].status===Pn.RUN,"Unexpected transaction status in abort"),e[i].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[i].currentWriteId,!0)),e[i].onComplete&&n.push(e[i].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?t.setValue(null):e.length=o+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),i=0;i<n.length;i++)V(n[i])}};var En,jn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',E(t)},t}(),Dn=function(){function t(){}return t.prototype.getToken=function(){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),An=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return En||(En=new t),En},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var c=(n=void 0,i.__values(Object.keys(this.repos_[s]))),u=c.next();!u.done;u=c.next()){var l=u.value;this.repos_[s][l].interrupt()}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var c=(n=void 0,i.__values(Object.keys(this.repos_[s]))),u=c.next();!u.done;u=c.next()){var l=u.value;this.repos_[s][l].resume()}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n,o){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=ct(i,o),c=s.repoInfo,u=void 0;void 0!==r&&(u=r.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(a=!0,i="http://"+u+"?ns="+c.namespace,c=(s=ct(i,o)).repoInfo):a=!s.repoInfo.secure;var l=o&&a?new Dn:new jn(t,e);return wt("Invalid Firebase Database URL",1,s),s.path.isEmpty()||I("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(c,t,l).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||I("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=a.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var o=a.safeGet(r,t.toURLString());return o&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new bn(t,this.useRestClient_,e,n),r[t.toURLString()]=o,o},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Nn=function(){function t(t){this.repo_=t,t instanceof bn||I("Don't call new Database() directly - please use firebase.database()."),this.root_=new On(t,q.Empty),this.INTERNAL=new Tn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof On?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=ct(t,this.repo_.repoInfo_.nodeAdmin);wt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&I(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&I("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Tn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(){return this.database.checkDeleted_("delete"),An.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),Ln=Object.freeze({__proto__:null,forceLongPolling:function(){fn.forceDisallow(),sn.forceAllow()},forceWebSockets:function(){sn.forceDisallow()},isWebSocketsAvailable:function(){return fn.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),xn=gn;gn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},gn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Fn=hn,kn=Q,Mn=Object.freeze({__proto__:null,DataConnection:xn,RealTimeConnection:Fn,hijackHash:function(t){var e=gn.prototype.put;return gn.prototype.put=function(n,r,o,i){void 0!==i&&(i=t()),e.call(this,n,r,o,i)},function(){gn.prototype.put=e}},ConnectionTarget:kn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){An.getInstance().forceRestClient(t)}}),Bn="@firebase/database",Un="0.6.13",zn=Nn.ServerValue;function Jn(t){ln(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new c.Component("database",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return An.getInstance().databaseFromApp(n,r,e)},"PUBLIC").setServiceProps({Reference:On,Query:ce,Database:Nn,DataSnapshot:re,enableLogging:C,INTERNAL:Ln,ServerValue:zn,TEST_ACCESS:Mn}).setMultipleInstances(!0));t.registerVersion(Bn,Un),a.isNodeSdk()&&(e.exports=n)}Jn(p.default),n.DataSnapshot=re,n.Database=Nn,n.OnDisconnect=Et,n.Query=ce,n.Reference=On,n.ServerValue=zn,n.enableLogging=C,n.registerDatabase=Jn}).call(this,t("_process"))},{"@firebase/app":3,"@firebase/component":4,"@firebase/logger":7,"@firebase/util":8,_process:1,tslib:16}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("@firebase/app"),o=t("@firebase/component"),i=t("tslib"),a=t("@firebase/util"),s=t("idb");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,l=c(r),p="@firebase/installations",f="0.4.17",d=1e4,h="w:"+f,y="FIS_v2",_="https://firebaseinstallations.googleapis.com/v1",v=36e5,g=((u={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',u["not-registered"]="Firebase Installation is not registered.",u["installation-not-found"]="Firebase Installation not found.",u["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',u["app-offline"]="Could not process request. Application offline.",u["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",u),m=new a.ErrorFactory("installations","Installations",g);function b(t){return t instanceof a.FirebaseError&&t.code.includes("request-failed")}function S(t){var e=t.projectId;return _+"/projects/"+e+"/installations"}function R(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function C(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r;return i.__generator(this,function(o){switch(o.label){case 0:return[4,e.json()];case 1:return n=o.sent(),r=n.error,[2,m.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function O(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function P(t,e){var n=e.refreshToken,r=O(t);return r.append("Authorization",I(n)),r}function w(t){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function I(t){return y+" "+t}function E(t,e){var n=e.fid;return i.__awaiter(this,void 0,void 0,function(){var e,r,o,a,s,c;return i.__generator(this,function(i){switch(i.label){case 0:return e=S(t),r=O(t),o={fid:n,authVersion:y,appId:t.appId,sdkVersion:h},a={method:"POST",headers:r,body:JSON.stringify(o)},[4,w(function(){return fetch(e,a)})];case 1:return(s=i.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,{fid:(c=i.sent()).fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:R(c.authToken)}];case 3:return[4,C("Create Installation",s)];case 4:throw i.sent()}})})}function j(t){return new Promise(function(e){setTimeout(e,t)})}var D=/^[cdef][\w-]{21}$/,A="";function N(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=T(t);return D.test(e)?e:A}catch(u){return A}}function T(t){var e;return(e=t,btoa(String.fromCharCode.apply(String,i.__spread(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}function L(t){return t.appName+"!"+t.appId}var x=new Map;function F(t,e){var n=L(t);B(n,e),U(n,e)}function k(t,e){J();var n=L(t),r=x.get(n);r||(r=new Set,x.set(n,r)),r.add(e)}function M(t,e){var n=L(t),r=x.get(n);r&&(r.delete(e),0===r.size&&x.delete(n),V())}function B(t,e){var n,r,o=x.get(t);if(o)try{for(var a=i.__values(o),s=a.next();!s.done;s=a.next())(0,s.value)(e)}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function U(t,e){var n=J();n&&n.postMessage({key:t,fid:e}),V()}var z=null;function J(){return!z&&"BroadcastChannel"in self&&((z=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){B(t.data.key,t.data.fid)}),z}function V(){0===x.size&&z&&(z.close(),z=null)}var K="firebase-installations-database",W=1,q="firebase-installations-store",G=null;function H(){return G||(G=s.openDb(K,W,function(t){switch(t.oldVersion){case 0:t.createObjectStore(q)}})),G}function Q(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,o,a,s;return i.__generator(this,function(i){switch(i.label){case 0:return n=L(t),[4,H()];case 1:return r=i.sent(),o=r.transaction(q,"readwrite"),[4,(a=o.objectStore(q)).get(n)];case 2:return s=i.sent(),[4,a.put(e,n)];case 3:return i.sent(),[4,o.complete];case 4:return i.sent(),s&&s.fid===e.fid||F(t,e.fid),[2,e]}})})}function Y(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r;return i.__generator(this,function(o){switch(o.label){case 0:return e=L(t),[4,H()];case 1:return n=o.sent(),[4,(r=n.transaction(q,"readwrite")).objectStore(q).delete(e)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}})})}function X(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,o,a,s,c;return i.__generator(this,function(i){switch(i.label){case 0:return n=L(t),[4,H()];case 1:return r=i.sent(),o=r.transaction(q,"readwrite"),[4,(a=o.objectStore(q)).get(n)];case 2:return s=i.sent(),void 0!==(c=e(s))?[3,4]:[4,a.delete(n)];case 3:return i.sent(),[3,6];case 4:return[4,a.put(c,n)];case 5:i.sent(),i.label=6;case 6:return[4,o.complete];case 7:return i.sent(),!c||s&&s.fid===c.fid||F(t,c.fid),[2,c]}})})}function $(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r;return i.__generator(this,function(o){switch(o.label){case 0:return[4,X(t,function(n){var r=Z(n),o=tt(t,r);return e=o.registrationPromise,o.installationEntry})];case 1:return(n=o.sent()).fid!==A?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function Z(t){return ot(t||{fid:N(),registrationStatus:0})}function tt(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(m.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:et(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:nt(t)}:{installationEntry:e}}function et(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r;return i.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,E(t,e)];case 1:return n=o.sent(),[2,Q(t,n)];case 2:return b(r=o.sent())&&409===r.serverCode?[4,Y(t)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,Q(t,{fid:e.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}})})}function nt(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,o;return i.__generator(this,function(i){switch(i.label){case 0:return[4,rt(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,j(100)];case 3:return i.sent(),[4,rt(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,$(t)];case 6:return n=i.sent(),r=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,r];case 7:return[2,e]}})})}function rt(t){return X(t,function(t){if(!t)throw m.create("installation-not-found");return ot(t)})}function ot(t){return 1===(e=t).registrationStatus&&e.registrationTime+d<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function it(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return i.__awaiter(this,void 0,void 0,function(){var t,o,a,s,c,u;return i.__generator(this,function(i){switch(i.label){case 0:return t=at(n,e),o=P(n,e),(a=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",a.getPlatformInfoString()),s={installation:{sdkVersion:h}},c={method:"POST",headers:o,body:JSON.stringify(s)},[4,w(function(){return fetch(t,c)})];case 1:return(u=i.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,R(i.sent())];case 3:return[4,C("Generate Auth Token",u)];case 4:throw i.sent()}})})}function at(t,e){var n=e.fid;return S(t)+"/"+n+"/authTokens:generate"}function st(t,e){return void 0===e&&(e=!1),i.__awaiter(this,void 0,void 0,function(){var n,r,o;return i.__generator(this,function(i){switch(i.label){case 0:return[4,X(t.appConfig,function(r){if(!pt(r))throw m.create("not-registered");var o=r.authToken;if(!e&&ft(o))return r;if(1===o.requestStatus)return n=ct(t,e),r;if(!navigator.onLine)throw m.create("app-offline");var i=ht(r);return n=lt(t,i),i})];case 1:return r=i.sent(),n?[4,n]:[3,3];case 2:return o=i.sent(),[3,4];case 3:o=r.authToken,i.label=4;case 4:return[2,o]}})})}function ct(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r;return i.__generator(this,function(o){switch(o.label){case 0:return[4,ut(t.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,j(100)];case 3:return o.sent(),[4,ut(t.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,st(t,e)]:[2,r]}})})}function ut(t){return X(t,function(t){if(!pt(t))throw m.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+d<Date.now()?i.__assign(i.__assign({},t),{authToken:{requestStatus:0}}):t})}function lt(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,o;return i.__generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,it(t,e)];case 1:return n=a.sent(),o=i.__assign(i.__assign({},e),{authToken:n}),[4,Q(t.appConfig,o)];case 2:return a.sent(),[2,n];case 3:return!b(r=a.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,Y(t.appConfig)];case 4:return a.sent(),[3,7];case 5:return o=i.__assign(i.__assign({},e),{authToken:{requestStatus:0}}),[4,Q(t.appConfig,o)];case 6:a.sent(),a.label=7;case 7:throw r;case 8:return[2]}})})}function pt(t){return void 0!==t&&2===t.registrationStatus}function ft(t){return 2===t.requestStatus&&!dt(t)}function dt(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+v}function ht(t){var e={requestStatus:1,requestTime:Date.now()};return i.__assign(i.__assign({},t),{authToken:e})}function yt(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r;return i.__generator(this,function(o){switch(o.label){case 0:return[4,$(t.appConfig)];case 1:return e=o.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):st(t).catch(console.error),[2,n.fid]}})})}function _t(t,e){return void 0===e&&(e=!1),i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return[4,vt(t.appConfig)];case 1:return n.sent(),[4,st(t,e)];case 2:return[2,n.sent().token]}})})}function vt(t){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(n){switch(n.label){case 0:return[4,$(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function gt(t,e){return i.__awaiter(this,void 0,void 0,function(){var n,r,o,a;return i.__generator(this,function(i){switch(i.label){case 0:return n=mt(t,e),r=P(t,e),o={method:"DELETE",headers:r},[4,w(function(){return fetch(n,o)})];case 1:return(a=i.sent()).ok?[3,3]:[4,C("Delete Installation",a)];case 2:throw i.sent();case 3:return[2]}})})}function mt(t,e){var n=e.fid;return S(t)+"/"+n}function bt(t){return i.__awaiter(this,void 0,void 0,function(){var e,n;return i.__generator(this,function(r){switch(r.label){case 0:return[4,X(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw m.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw m.create("app-offline");case 3:return[4,gt(e,n)];case 4:return r.sent(),[4,Y(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}function St(t,e){var n=t.appConfig;return k(n,e),function(){M(n,e)}}function Rt(t){var e,n;if(!t||!t.options)throw Ct("App Configuration");if(!t.name)throw Ct("App Name");try{for(var r=i.__values(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var a=o.value;if(!t.options[a])throw Ct(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ct(t){return m.create("missing-app-config-values",{valueName:t})}function Ot(t){t.INTERNAL.registerComponent(new o.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:Rt(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return yt(n)},getToken:function(t){return _t(n,t)},delete:function(){return bt(n)},onIdChange:function(t){return St(n,t)}}},"PUBLIC")),t.registerVersion(p,f)}Ot(l.default),n.registerInstallations=Ot},{"@firebase/app":3,"@firebase/component":4,"@firebase/util":8,idb:12,tslib:16}],7:[function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var o;Object.defineProperty(n,"__esModule",{value:!0});var i,a=[];(i=n.LogLevel||(n.LogLevel={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var s={debug:n.LogLevel.DEBUG,verbose:n.LogLevel.VERBOSE,info:n.LogLevel.INFO,warn:n.LogLevel.WARN,error:n.LogLevel.ERROR,silent:n.LogLevel.SILENT},c=n.LogLevel.INFO,u=((o={})[n.LogLevel.DEBUG]="log",o[n.LogLevel.VERBOSE]="log",o[n.LogLevel.INFO]="info",o[n.LogLevel.WARN]="warn",o[n.LogLevel.ERROR]="error",o),l=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var i=(new Date).toISOString(),a=u[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+i+"]  "+t.name+":"],n))}},p=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in n.LogLevel))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.LogLevel.DEBUG],t)),this._logHandler.apply(this,r([this,n.LogLevel.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.LogLevel.VERBOSE],t)),this._logHandler.apply(this,r([this,n.LogLevel.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.LogLevel.INFO],t)),this._logHandler.apply(this,r([this,n.LogLevel.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.LogLevel.WARN],t)),this._logHandler.apply(this,r([this,n.LogLevel.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,n.LogLevel.ERROR],t)),this._logHandler.apply(this,r([this,n.LogLevel.ERROR],t))},t}();n.Logger=p,n.setLogLevel=function(t){a.forEach(function(e){e.setLogLevel(t)})},n.setUserLogHandler=function(t,e){for(var r=function(r){var o=null;e&&e.level&&(o=s[e.level]),r.userLogHandler=null===t?null:function(e,r){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");r>=(null!=o?o:e.logLevel)&&t({level:n.LogLevel[r].toLowerCase(),message:s,args:i,type:e.name})}},o=0,i=a;o<i.length;o++)r(i[o])}},{}],8:[function(t,e,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("tslib"),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},c=function(t){for(var e=[],n=0,r=0;n<t.length;){var o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{i=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return e.join("")},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<t.length;o+=3){var i=t[o],a=o+1<t.length,s=a?t[o+1]:0,c=o+2<t.length,u=c?t[o+2]:0,l=i>>2,p=(3&i)<<4|s>>4,f=(15&s)<<2|u>>6,d=63&u;c||(d=64,a||(f=64)),r.push(n[l],n[p],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<t.length;){var i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0,s=++o<t.length?n[t.charAt(o)]:64,c=++o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==c)throw Error();var u=i<<2|a>>4;if(r.push(u),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==c){var p=s<<6&192|c;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=p(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}var y="FirebaseError",_=function(t){function e(n,r){var o=t.call(this,r)||this;return o.code=n,o.name=y,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},o=this.service+"/"+t,i=this.errors[t],a=i?g(i,r):"Error",s=this.serviceName+": "+a+" ("+o+").",c=new _(o,s),u=0,l=Object.keys(r);u<l.length;u++){var p=l[u];"_"!==p.slice(-1)&&(p in c&&console.warn('Overwriting FirebaseError base field "'+p+'" can cause unexpected behavior.'),c[p]=r[p])}return c},t}();function g(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var m=/\{\$([^}]+)}/g;function b(t){return JSON.parse(t)}var S=function(t){var e={},n={},r={},o="";try{var i=t.split(".");e=b(l(i[0])||""),n=b(l(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:o}},R=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],p=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(i=l^c&(u^l),a=1518500249):(i=c^u^l,a=1859775393):r<60?(i=c&u|l&(c|u),a=2400959708):(i=c^u^l,a=3395469782),o=(s<<5|s>>>27)+i+p+a+n[r]&4294967295,p=l,l=u,u=4294967295&(c<<30|c>>>2),c=s,s=o;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<e;){if(0===i)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[i]=t.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<e;)if(o[i]=t[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)t[r]=this.chain_[n]>>o&255,++r;return t},t}(),C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=O(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),i},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}function P(){}function w(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+(r+" argument ")}n.CONSTANTS=o,n.Deferred=f,n.ErrorFactory=v,n.FirebaseError=_,n.MAX_VALUE_MILLIS=144e5,n.RANDOM_FACTOR=.5,n.Sha1=R,n.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},n.assert=i,n.assertionError=a,n.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},n.base64=u,n.base64Decode=l,n.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},n.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)},n.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},n.decode=S,n.deepCopy=function(t){return p(void 0,t)},n.deepExtend=p,n.errorPrefix=w,n.getUA=d,n.isAdmin=function(t){var e=S(t).claims;return"object"==typeof e&&!0===e.admin},n.isBrowser=function(){return"object"==typeof self&&self.self===self},n.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},n.isElectron=function(){return d().indexOf("Electron/")>=0},n.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},n.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},n.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},n.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},n.isNode=h,n.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},n.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},n.isSafari=function(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},n.isUWP=function(){return d().indexOf("MSAppHost/")>=0},n.isValidFormat=function(t){var e=S(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},n.isValidTimestamp=function(t){var e=S(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),o=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},n.issuedAtTime=function(t){var e=S(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},n.jsonEval=b,n.map=function(t,e,n){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(n,t[o],o,t));return r},n.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,o=Object.entries(t);r<o.length;r++){var i=o[r];n(i[0],i[1])}return e.length?"&"+e.join("&"):""},n.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},n.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},n.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},n.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;i(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},n.stringify=function(t){return JSON.stringify(t)},n.validateArgCount=function(t,e,n,r){var o;if(r<e?o="at least "+e:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},n.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(w(t,e,r)+"must be a valid function.")},n.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(w(t,e,r)+"must be a valid context object.")},n.validateIndexedDBOpenable=function(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=window.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var t;e((null===(t=o.error)||void 0===t?void 0:t.message)||"")}}catch(i){e(i)}})},n.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(w(t,e,r)+"must be a valid firebase namespace.")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{tslib:16}],9:[function(t){"use strict";t("@firebase/analytics")},{"@firebase/analytics":2}],10:[function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(t("@firebase/app"));r.default.registerVersion("firebase","7.24.0","app"),e.exports=r.default},{"@firebase/app":3}],11:[function(t){"use strict";t("@firebase/database")},{"@firebase/database":5}],12:[function(t,e,n){(function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r((t=t||self).idb={})})(this,function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var o,i=new Promise(function(i,a){n(o=t[e].apply(t,r)).then(i,a)});return i.request=o,i}function o(t,e,n){var o=r(t,e,n);return o.then(function(t){if(t)return new l(t,o.request)})}function i(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function a(t,e,n,o){o.forEach(function(o){o in n.prototype&&(t.prototype[o]=function(){return r(this[e],o,arguments)})})}function s(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function c(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return o(this[e],r,arguments)})})}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function p(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function h(t){this._db=t}i(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),p.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},p.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},i(p,"_store",["name","keyPath","indexNames","autoIncrement"]),a(p,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(p,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(p,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new p(this._tx.objectStore.apply(this._tx,arguments))},i(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new p(this._db.createObjectStore.apply(this._db,arguments))},i(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),h.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},i(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[p,u].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],o=this._store||this._index,i=o[t].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})})}),[u,p].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(o){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():o(r)):o(r)})})})}),t.openDb=function(t,e,n){var o=r(indexedDB,"open",[t,e]),i=o.request;return i&&(i.onupgradeneeded=function(t){n&&n(new d(i.result,t.oldVersion,i.transaction))}),o.then(function(t){return new h(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})})},{}],13:[function(t,e,n){(function(t){(function(){var r,o,i,a=1,s=2,c=4,u=8,l=16,p=32,f=64,d=128,h=256,y=200,_="Expected a function",v="__lodash_placeholder__",g="[object Arguments]",m="[object Array]",b="[object Boolean]",S="[object Date]",R="[object Error]",C="[object Function]",O="[object Number]",P="[object Object]",w="[object RegExp]",I="[object String]",E="[object ArrayBuffer]",j="[object Float32Array]",D="[object Float64Array]",A="[object Int8Array]",N="[object Int16Array]",T="[object Int32Array]",L="[object Uint8Array]",x="[object Uint8ClampedArray]",F="[object Uint16Array]",k="[object Uint32Array]",M=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39|#96);/g,J=/[&<>"'`]/g,V=RegExp(z.source),K=RegExp(J.source),W=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Q=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,X=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,$=RegExp(X.source),Z=/[\u0300-\u036f\ufe20-\ufe23]/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,rt=/^0[xX]/,ot=/^\[object .+?Constructor\]$/,it=/^\d+$/,at=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,st=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,ut=(o="[A-Z\\xc0-\\xd6\\xd8-\\xde]",i="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(o+"+(?="+o+i+")|"+o+"?"+i+"|"+o+"+|[0-9]+","g")),lt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],pt=-1,ft={};ft[j]=ft[D]=ft[A]=ft[N]=ft[T]=ft[L]=ft[x]=ft[F]=ft[k]=!0,ft[g]=ft[m]=ft[E]=ft[b]=ft[S]=ft[R]=ft[C]=ft["[object Map]"]=ft[O]=ft[P]=ft[w]=ft["[object Set]"]=ft[I]=ft["[object WeakMap]"]=!1;var dt={};dt[g]=dt[m]=dt[E]=dt[b]=dt[S]=dt[j]=dt[D]=dt[A]=dt[N]=dt[T]=dt[O]=dt[P]=dt[w]=dt[I]=dt[L]=dt[x]=dt[F]=dt[k]=!0,dt[R]=dt[C]=dt["[object Map]"]=dt["[object Set]"]=dt["[object WeakMap]"]=!1;var ht={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},_t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},vt={function:!0,object:!0},gt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bt=vt[typeof n]&&n&&!n.nodeType&&n,St=vt[typeof e]&&e&&!e.nodeType&&e,Rt=bt&&St&&"object"==typeof t&&t&&t.Object&&t,Ct=vt[typeof self]&&self&&self.Object&&self,Ot=vt[typeof window]&&window&&window.Object&&window,Pt=St&&St.exports===bt&&bt,wt=Rt||Ot!==(this&&this.window)&&Ot||Ct||this;function It(t,e){if(t!==e){var n=null===t,o=t===r,i=t==t,a=null===e,s=e===r,c=e==e;if(t>e&&!a||!i||n&&!s&&c||o&&c)return 1;if(t<e&&!n||!c||a&&!o&&i||s&&i)return-1}return 0}function Et(t,e,n){for(var r=t.length,o=n?r:-1;n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function jt(t,e,n){if(e!=e)return Ut(t,n);for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}function Dt(t){return"function"==typeof t||!1}function At(t){return null==t?"":t+""}function Nt(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function Tt(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function Lt(t,e){return It(t.criteria,e.criteria)||t.index-e.index}function xt(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;++r<a;){var c=It(o[r],i[r]);if(c){if(r>=s)return c;var u=n[r];return c*("asc"===u||!0===u?1:-1)}}return t.index-e.index}function Ft(t){return ht[t]}function kt(t){return yt[t]}function Mt(t,e,n){return e?t=gt[t]:n&&(t=mt[t]),"\\"+t}function Bt(t){return"\\"+mt[t]}function Ut(t,e,n){for(var r=t.length,o=e+(n?0:-1);n?o--:++o<r;){var i=t[o];if(i!=i)return o}return-1}function zt(t){return!!t&&"object"==typeof t}function Jt(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Vt(t,e){for(var n=-1,r=t.length,o=-1,i=[];++n<r;)t[n]===e&&(t[n]=v,i[++o]=n);return i}function Kt(t,e){for(var n,r=-1,o=t.length,i=-1,a=[];++r<o;){var s=t[r],c=e?e(s,r,t):s;r&&n===c||(n=c,a[++i]=s)}return a}function Wt(t){for(var e=-1,n=t.length;++e<n&&Jt(t.charCodeAt(e)););return e}function qt(t){for(var e=t.length;e--&&Jt(t.charCodeAt(e)););return e}function Gt(t){return _t[t]}var Ht=function t(e){var n=(e=e?Ht.defaults(wt.Object(),e,Ht.pick(wt,lt)):wt).Array,o=e.Date,i=e.Error,ht=e.Function,yt=e.Math,_t=e.Number,vt=e.Object,gt=e.RegExp,mt=e.String,bt=e.TypeError,St=n.prototype,Rt=vt.prototype,Ct=mt.prototype,Ot=ht.prototype.toString,Pt=Rt.hasOwnProperty,Jt=0,Qt=Rt.toString,Yt=wt._,Xt=gt("^"+Ot.call(Pt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=e.ArrayBuffer,Zt=e.clearTimeout,te=e.parseFloat,ee=yt.pow,ne=Rt.propertyIsEnumerable,re=Ir(e,"Set"),oe=e.setTimeout,ie=St.splice,ae=e.Uint8Array,se=Ir(e,"WeakMap"),ce=yt.ceil,ue=Ir(vt,"create"),le=yt.floor,pe=Ir(n,"isArray"),fe=e.isFinite,de=Ir(vt,"keys"),he=yt.max,ye=yt.min,_e=Ir(o,"now"),ve=e.parseInt,ge=yt.random,me=_t.NEGATIVE_INFINITY,be=_t.POSITIVE_INFINITY,Se=4294967294,Re=2147483647,Ce=9007199254740991,Oe=se&&new se,Pe={};function we(t){if(zt(t)&&!ci(t)&&!(t instanceof je)){if(t instanceof Ee)return t;if(Pt.call(t,"__chain__")&&Pt.call(t,"__wrapped__"))return Xr(t)}return new Ee(t)}function Ie(){}function Ee(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function je(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=be,this.__views__=[]}function De(){this.__data__={}}function Ae(t){var e=t?t.length:0;for(this.data={hash:ue(null),set:new re};e--;)this.push(t[e])}function Ne(t,e){var n=t.data;return("string"==typeof e||fi(e)?n.set.has(e):n.hash[e])?0:-1}function Te(t,e){for(var r=-1,o=t.length,i=-1,a=e.length,s=n(o+a);++r<o;)s[r]=t[r];for(;++i<a;)s[r++]=e[i];return s}function Le(t,e){var r=-1,o=t.length;for(e||(e=n(o));++r<o;)e[r]=t[r];return e}function xe(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function Fe(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ke(t,e,n,r){for(var o=-1,i=t.length,a=r,s=a;++o<i;){var c=t[o],u=+e(c);n(u,a)&&(a=u,s=c)}return s}function Me(t,e){for(var n=-1,r=t.length,o=-1,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[++o]=a)}return i}function Be(t,e){for(var r=-1,o=t.length,i=n(o);++r<o;)i[r]=e(t[r],r,t);return i}function Ue(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function ze(t,e,n,r){var o=-1,i=t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Je(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Ve(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function Ke(t,e,n,o){return t!==r&&Pt.call(o,n)?t:e}function We(t,e,n){for(var o=-1,i=Ti(e),a=i.length;++o<a;){var s=i[o],c=t[s],u=n(c,e[s],s,t,e);(u==u?u===c:c!=c)&&(c!==r||s in t)||(t[s]=u)}return t}function qe(t,e){return null==e?t:He(e,Ti(e),t)}function Ge(t,e){for(var o=-1,i=null==t,a=!i&&Tr(t),s=a?t.length:0,c=e.length,u=n(c);++o<c;){var l=e[o];u[o]=a?Lr(l,s)?t[l]:r:i?r:t[l]}return u}function He(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}function Qe(t,e,n){var o=typeof t;return"function"==o?e===r?t:Un(t,e,n):null==t?Zi:"object"==o?bn(t):e===r?ia(t):Sn(t,e)}function Ye(t,e,n,o,i,a,s){var c;if(n&&(c=i?n(t,o,i):n(t)),c!==r)return c;if(!fi(t))return t;var u=ci(t);if(u){if(c=jr(t),!e)return Le(t,c)}else{var l=Qt.call(t),p=l==C;if(l!=P&&l!=g&&(!p||i))return dt[l]?Ar(t,l,e):i?t:{};if(c=Dr(p?{}:t),!e)return qe(c,t)}a||(a=[]),s||(s=[]);for(var f=a.length;f--;)if(a[f]==t)return s[f];return a.push(t),s.push(c),(u?xe:fn)(t,function(r,o){c[o]=Ye(r,e,n,o,t,a,s)}),c}we.support={},we.templateSettings={escape:W,evaluate:q,interpolate:G,variable:"",imports:{_:we}};var Xe=function(){function t(){}return function(e){if(fi(e)){t.prototype=e;var n=new t;t.prototype=r}return n||{}}}();function $e(t,e,n){if("function"!=typeof t)throw new bt(_);return oe(function(){t.apply(r,n)},e)}function Ze(t,e){var n=t?t.length:0,r=[];if(!n)return r;var o=-1,i=Or(),a=i==jt,s=a&&e.length>=y?Qn(e):null,c=e.length;s&&(i=Ne,a=!1,e=s);t:for(;++o<n;){var u=t[o];if(a&&u==u){for(var l=c;l--;)if(e[l]===u)continue t;r.push(u)}else i(e,u,0)<0&&r.push(u)}return r}var tn=qn(fn),en=qn(dn,!0);function nn(t,e){var n=!0;return tn(t,function(t,r,o){return n=!!e(t,r,o)}),n}function rn(t,e,n,r){var o=r,i=o;return tn(t,function(t,a,s){var c=+e(t,a,s);(n(c,o)||c===r&&c===i)&&(o=c,i=t)}),i}function on(t,e,n,o){var i=t.length;for((n=null==n?0:+n||0)<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:+o||0)<0&&(o+=i),i=n>o?0:o>>>0,n>>>=0;n<i;)t[n++]=e;return t}function an(t,e){var n=[];return tn(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function sn(t,e,n,r){var o;return n(t,function(t,n,i){if(e(t,n,i))return o=r?n:t,!1}),o}function cn(t,e,n,r){r||(r=[]);for(var o=-1,i=t.length;++o<i;){var a=t[o];zt(a)&&Tr(a)&&(n||ci(a)||si(a))?e?cn(a,e,n,r):Ue(r,a):n||(r[r.length]=a)}return r}var un=Gn(),ln=Gn(!0);function pn(t,e){return un(t,e,Li)}function fn(t,e){return un(t,e,Ti)}function dn(t,e){return ln(t,e,Ti)}function hn(t,e){for(var n=-1,r=e.length,o=-1,i=[];++n<r;){var a=e[n];pi(t[a])&&(i[++o]=a)}return i}function yn(t,e,n){if(null!=t){n!==r&&n in Qr(t)&&(e=[n]);for(var o=0,i=e.length;null!=t&&o<i;)t=t[e[o++]];return o&&o==i?t:r}}function _n(t,e,n,r,o,i){return t===e||(null==t||null==e||!fi(t)&&!zt(e)?t!=t&&e!=e:vn(t,e,_n,n,r,o,i))}function vn(t,e,n,r,o,i,a){var s=ci(t),c=ci(e),u=m,l=m;s||((u=Qt.call(t))==g?u=P:u!=P&&(s=gi(t))),c||((l=Qt.call(e))==g?l=P:l!=P&&(c=gi(e)));var p=u==P,f=l==P,d=u==l;if(d&&!s&&!p)return mr(t,e,u);if(!o){var h=p&&Pt.call(t,"__wrapped__"),y=f&&Pt.call(e,"__wrapped__");if(h||y)return n(h?t.value():t,y?e.value():e,r,o,i,a)}if(!d)return!1;i||(i=[]),a||(a=[]);for(var _=i.length;_--;)if(i[_]==t)return a[_]==e;i.push(t),a.push(e);var v=(s?gr:br)(t,e,n,r,o,i,a);return i.pop(),a.pop(),v}function gn(t,e,n){var o=e.length,i=o,a=!n;if(null==t)return!i;for(t=Qr(t);o--;){var s=e[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var c=(s=e[o])[0],u=t[c],l=s[1];if(a&&s[2]){if(u===r&&!(c in t))return!1}else{var p=n?n(u,l,c):r;if(!(p===r?_n(l,u,n,!0):p))return!1}}return!0}function mn(t,e){var r=-1,o=Tr(t)?n(t.length):[];return tn(t,function(t,n,i){o[++r]=e(t,n,i)}),o}function bn(t){var e=wr(t);if(1==e.length&&e[0][2]){var n=e[0][0],o=e[0][1];return function(t){return null!=t&&t[n]===o&&(o!==r||n in Qr(t))}}return function(t){return gn(t,e)}}function Sn(t,e){var n=ci(t),o=Fr(t)&&Br(e),i=t+"";return t=Yr(t),function(a){if(null==a)return!1;var s=i;if(a=Qr(a),(n||!o)&&!(s in a)){if(null==(a=1==t.length?a:yn(a,jn(t,0,-1))))return!1;s=ao(t),a=Qr(a)}return a[s]===e?e!==r||s in a:_n(e,a[s],r,!0)}}function Rn(t,e,n,o,i,a,s){for(var c=a.length,u=e[n];c--;)if(a[c]==u)return void(t[n]=s[c]);var l=t[n],p=i?i(l,u,n,t,e):r,f=p===r;f&&(p=u,Tr(u)&&(ci(u)||gi(u))?p=ci(l)?l:Tr(l)?Le(l):[]:yi(u)||si(u)?p=si(l)?Si(l):yi(l)?l:{}:f=!1),a.push(u),s.push(p),f?t[n]=o(p,u,i,a,s):(p==p?p!==l:l==l)&&(t[n]=p)}function Cn(t){return function(e){return null==e?r:e[t]}}function On(t){var e=t+"";return t=Yr(t),function(n){return yn(n,t,e)}}function Pn(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=o&&Lr(r)){var o=r;ie.call(t,r,1)}}return t}function wn(t,e){return t+le(ge()*(e-t+1))}function In(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}var En=Oe?function(t,e){return Oe.set(t,e),t}:Zi;function jn(t,e,o){var i=-1,a=t.length;(e=null==e?0:+e||0)<0&&(e=-e>a?0:a+e),(o=o===r||o>a?a:+o||0)<0&&(o+=a),a=e>o?0:o-e>>>0,e>>>=0;for(var s=n(a);++i<a;)s[i]=t[i+e];return s}function Dn(t,e){var n;return tn(t,function(t,r,o){return!(n=e(t,r,o))}),!!n}function An(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Nn(t,e,n){var r=Sr(),o=-1;return e=Be(e,function(t){return r(t)}),An(mn(t,function(t){return{criteria:Be(e,function(e){return e(t)}),index:++o,value:t}}),function(t,e){return xt(t,e,n)})}function Tn(t,e){var n=0;return tn(t,function(t,r,o){n+=+e(t,r,o)||0}),n}function Ln(t,e){var n=-1,r=Or(),o=t.length,i=r==jt,a=i&&o>=y,s=a?Qn():null,c=[];s?(r=Ne,i=!1):(a=!1,s=e?[]:c);t:for(;++n<o;){var u=t[n],l=e?e(u,n,t):u;if(i&&u==u){for(var p=s.length;p--;)if(s[p]===l)continue t;e&&s.push(l),c.push(u)}else r(s,l,0)<0&&((e||a)&&s.push(l),c.push(u))}return c}function xn(t,e){for(var r=-1,o=e.length,i=n(o);++r<o;)i[r]=t[e[r]];return i}function Fn(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?jn(t,r?0:i,r?i+1:o):jn(t,r?i+1:0,r?o:i)}function kn(t,e){var n=t;n instanceof je&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var i=e[r];n=i.func.apply(i.thisArg,Ue([n],i.args))}return n}function Mn(t,e,n){var r=0,o=t?t.length:r;if("number"==typeof e&&e==e&&o<=Re){for(;r<o;){var i=r+o>>>1,a=t[i];(n?a<=e:a<e)&&null!==a?r=i+1:o=i}return o}return Bn(t,e,Zi,n)}function Bn(t,e,n,o){e=n(e);for(var i=0,a=t?t.length:0,s=e!=e,c=null===e,u=e===r;i<a;){var l=le((i+a)/2),p=n(t[l]),f=p!==r,d=p==p;if(s)var h=d||o;else h=c?d&&f&&(o||null!=p):u?d&&(o||f):null!=p&&(o?p<=e:p<e);h?i=l+1:a=l}return ye(a,Se)}function Un(t,e,n){if("function"!=typeof t)return Zi;if(e===r)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,a){return t.call(e,n,r,o,i,a)}}return function(){return t.apply(e,arguments)}}function zn(t){var e=new $t(t.byteLength);return new ae(e).set(new ae(t)),e}function Jn(t,e,r){for(var o=r.length,i=-1,a=he(t.length-o,0),s=-1,c=e.length,u=n(c+a);++s<c;)u[s]=e[s];for(;++i<o;)u[r[i]]=t[i];for(;a--;)u[s++]=t[i++];return u}function Vn(t,e,r){for(var o=-1,i=r.length,a=-1,s=he(t.length-i,0),c=-1,u=e.length,l=n(s+u);++a<s;)l[a]=t[a];for(var p=a;++c<u;)l[p+c]=e[c];for(;++o<i;)l[p+r[o]]=t[a++];return l}function Kn(t,e){return function(n,r,o){var i=e?e():{};if(r=Sr(r,o,3),ci(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];t(i,c,r(c,a,n),n)}else tn(n,function(e,n,o){t(i,e,r(e,n,o),o)});return i}}function Wn(t){return ii(function(e,n){var o=-1,i=null==e?0:n.length,a=i>2?n[i-2]:r,s=i>2?n[2]:r,c=i>1?n[i-1]:r;for("function"==typeof a?(a=Un(a,c,5),i-=2):i-=(a="function"==typeof c?c:r)?1:0,s&&xr(n[0],n[1],s)&&(a=i<3?r:a,i=1);++o<i;){var u=n[o];u&&t(e,u,a)}return e})}function qn(t,e){return function(n,r){var o=n?Pr(n):0;if(!Mr(o))return t(n,r);for(var i=e?o:-1,a=Qr(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Gn(t){return function(e,n,r){for(var o=Qr(e),i=r(e),a=i.length,s=t?a:-1;t?s--:++s<a;){var c=i[s];if(!1===n(o[c],c,o))break}return e}}function Hn(t,e){var n=Xn(t);return function r(){return(this&&this!==wt&&this instanceof r?n:t).apply(e,arguments)}}function Qn(t){return ue&&re?new Ae(t):null}function Yn(t){return function(e){for(var n=-1,r=Yi(Ji(e)),o=r.length,i="";++n<o;)i=t(i,r[n],n);return i}}function Xn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Xe(t.prototype),r=t.apply(n,e);return fi(r)?r:n}}function $n(t){return function e(n,o,i){i&&xr(n,o,i)&&(o=r);var a=vr(n,t,r,r,r,r,r,o);return a.placeholder=e.placeholder,a}}function Zn(t,e){return ii(function(n){var o=n[0];return null==o?o:(n.push(e),t.apply(r,n))})}function tr(t,e){return function(n,o,i){if(i&&xr(n,o,i)&&(o=r),1==(o=Sr(o,i,3)).length){var a=ke(n=ci(n)?n:Hr(n),o,t,e);if(!n.length||a!==e)return a}return rn(n,o,t,e)}}function er(t,e){return function(n,o,i){if(o=Sr(o,i,3),ci(n)){var a=Et(n,o,e);return a>-1?n[a]:r}return sn(n,o,t)}}function nr(t){return function(e,n,r){return e&&e.length?Et(e,n=Sr(n,r,3),t):-1}}function rr(t){return function(e,n,r){return sn(e,n=Sr(n,r,3),t,!0)}}function or(t){return function(){for(var e,o=arguments.length,i=t?o:-1,a=0,s=n(o);t?i--:++i<o;){var c=s[a++]=arguments[i];if("function"!=typeof c)throw new bt(_);!e&&Ee.prototype.thru&&"wrapper"==Cr(c)&&(e=new Ee([],!0))}for(i=e?-1:o;++i<o;){var l=Cr(c=s[i]),f="wrapper"==l?Rr(c):r;e=f&&kr(f[0])&&f[1]==(d|u|p|h)&&!f[4].length&&1==f[9]?e[Cr(f[0])].apply(e,f[3]):1==c.length&&kr(c)?e[l]():e.thru(c)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&ci(n)&&n.length>=y)return e.plant(n).value();for(var r=0,i=o?s[r].apply(this,t):n;++r<o;)i=s[r].call(this,i);return i}}}function ir(t,e){return function(n,o,i){return"function"==typeof o&&i===r&&ci(n)?t(n,o):e(n,Un(o,i,3))}}function ar(t){return function(e,n,o){return"function"==typeof n&&o===r||(n=Un(n,o,3)),t(e,n,Li)}}function sr(t){return function(e,n,o){return"function"==typeof n&&o===r||(n=Un(n,o,3)),t(e,n)}}function cr(t){return function(e,n,r){var o={};return n=Sr(n,r,3),fn(e,function(e,r,i){var a=n(e,r,i);e=t?e:a,o[r=t?a:r]=e}),o}}function ur(t){return function(e,n,r){return e=At(e),(t?e:"")+dr(e,n,r)+(t?"":e)}}function lr(t){var e=ii(function(n,o){var i=Vt(o,e.placeholder);return vr(n,t,r,o,i)});return e}function pr(t,e){return function(n,o,i,a){var s=arguments.length<3;return"function"==typeof o&&a===r&&ci(n)?t(n,o,i,s):In(n,Sr(o,a,4),i,s,e)}}function fr(t,e,o,i,h,y,_,v,g,m){var b=e&d,S=e&a,R=e&s,C=e&u,O=e&c,P=e&l,w=R?r:Xn(t);return function c(){for(var u=arguments.length,l=u,d=n(u);l--;)d[l]=arguments[l];if(i&&(d=Jn(d,i,h)),y&&(d=Vn(d,y,_)),C||P){var I=c.placeholder,E=Vt(d,I);if((u-=E.length)<m){var j=v?Le(v):r,D=he(m-u,0);e|=C?p:f,e&=~(C?f:p),O||(e&=~(a|s));var A=[t,e,o,C?d:r,C?E:r,C?r:d,C?r:E,j,g,D],N=fr.apply(r,A);return kr(t)&&qr(N,A),N.placeholder=I,N}}var T=S?o:this,L=R?T[t]:t;return v&&(d=Vr(d,v)),b&&g<d.length&&(d.length=g),this&&this!==wt&&this instanceof c&&(L=w||Xn(t)),L.apply(T,d)}}function dr(t,e,n){var r=t.length;if(r>=(e=+e)||!fe(e))return"";var o=e-r;return qi(n=null==n?" ":n+"",ce(o/n.length)).slice(0,o)}function hr(t,e,r,o){var i=e&a,s=Xn(t);return function e(){for(var a=-1,c=arguments.length,u=-1,l=o.length,p=n(l+c);++u<l;)p[u]=o[u];for(;c--;)p[u++]=arguments[++a];return(this&&this!==wt&&this instanceof e?s:t).apply(i?r:this,p)}}function yr(t){var e=yt[t];return function(t,n){return(n=n===r?0:+n||0)?(n=ee(10,n),e(t*n)/n):e(t)}}function _r(t){return function(e,n,r,o){var i=Sr(r);return null==r&&i===Qe?Mn(e,n,t):Bn(e,n,i(r,o,1),t)}}function vr(t,e,n,o,i,c,u,l){var d=e&s;if(!d&&"function"!=typeof t)throw new bt(_);var h=o?o.length:0;if(h||(e&=~(p|f),o=i=r),h-=i?i.length:0,e&f){var y=o,v=i;o=i=r}var g=d?r:Rr(t),m=[t,e,n,o,i,y,v,c,u,l];if(g&&(Ur(m,g),e=m[1],l=m[9]),m[9]=null==l?d?0:t.length:he(l-h,0)||0,e==a)var b=Hn(m[0],m[2]);else b=e!=p&&e!=(a|p)||m[4].length?fr.apply(r,m):hr.apply(r,m);return(g?En:qr)(b,m)}function gr(t,e,n,o,i,a,s){var c=-1,u=t.length,l=e.length;if(u!=l&&!(i&&l>u))return!1;for(;++c<u;){var p=t[c],f=e[c],d=o?o(i?f:p,i?p:f,c):r;if(d!==r){if(d)continue;return!1}if(i){if(!Je(e,function(t){return p===t||n(p,t,o,i,a,s)}))return!1}else if(p!==f&&!n(p,f,o,i,a,s))return!1}return!0}function mr(t,e,n){switch(n){case b:case S:return+t==+e;case R:return t.name==e.name&&t.message==e.message;case O:return t!=+t?e!=+e:t==+e;case w:case I:return t==e+""}return!1}function br(t,e,n,o,i,a,s){var c=Ti(t),u=c.length;if(u!=Ti(e).length&&!i)return!1;for(var l=u;l--;){var p=c[l];if(!(i?p in e:Pt.call(e,p)))return!1}for(var f=i;++l<u;){var d=t[p=c[l]],h=e[p],y=o?o(i?h:d,i?d:h,p):r;if(!(y===r?n(d,h,o,i,a,s):y))return!1;f||(f="constructor"==p)}if(!f){var _=t.constructor,v=e.constructor;if(_!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v))return!1}return!0}function Sr(t,e,n){var r=we.callback||$i;return r=r===$i?Qe:r,n?r(t,e,n):r}var Rr=Oe?function(t){return Oe.get(t)}:oa;function Cr(t){for(var e=t.name,n=Pe[e],r=n?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function Or(t,e,n){var r=we.indexOf||oo;return r=r===oo?jt:r,t?r(t,e,n):r}var Pr=Cn("length");function wr(t){for(var e=Mi(t),n=e.length;n--;)e[n][2]=Br(e[n][1]);return e}function Ir(t,e){var n=null==t?r:t[e];return di(n)?n:r}function Er(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ye(e,t+a);break;case"takeRight":t=he(t,e-a)}}return{start:t,end:e}}function jr(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Dr(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=vt),new e}function Ar(t,e,n){var r=t.constructor;switch(e){case E:return zn(t);case b:case S:return new r(+t);case j:case D:case A:case N:case T:case L:case x:case F:case k:var o=t.buffer;return new r(n?zn(o):o,t.byteOffset,t.length);case O:case I:return new r(t);case w:var i=new r(t.source,nt.exec(t));i.lastIndex=t.lastIndex}return i}function Nr(t,e,n){null==t||Fr(e,t)||(t=1==(e=Yr(e)).length?t:yn(t,jn(e,0,-1)),e=ao(e));var o=null==t?t:t[e];return null==o?r:o.apply(t,n)}function Tr(t){return null!=t&&Mr(Pr(t))}function Lr(t,e){return t="number"==typeof t||it.test(t)?+t:-1,e=null==e?Ce:e,t>-1&&t%1==0&&t<e}function xr(t,e,n){if(!fi(n))return!1;var r=typeof e;if("number"==r?Tr(n)&&Lr(e,n.length):"string"==r&&e in n){var o=n[e];return t==t?t===o:o!=o}return!1}function Fr(t,e){var n=typeof t;return!!("string"==n&&Q.test(t)||"number"==n)||!ci(t)&&(!H.test(t)||null!=e&&t in Qr(e))}function kr(t){var e=Cr(t);if(!(e in je.prototype))return!1;var n=we[e];if(t===n)return!0;var r=Rr(n);return!!r&&t===r[0]}function Mr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ce}function Br(t){return t==t&&!fi(t)}function Ur(t,e){var n=t[1],r=e[1],o=n|r,i=o<d,s=r==d&&n==u||r==d&&n==h&&t[7].length<=e[8]||r==(d|h)&&n==u;if(!i&&!s)return t;r&a&&(t[2]=e[2],o|=n&a?0:c);var l=e[3];if(l){var p=t[3];t[3]=p?Jn(p,l,e[4]):Le(l),t[4]=p?Vt(t[3],v):Le(e[4])}return(l=e[5])&&(p=t[5],t[5]=p?Vn(p,l,e[6]):Le(l),t[6]=p?Vt(t[5],v):Le(e[6])),(l=e[7])&&(t[7]=Le(l)),r&d&&(t[8]=null==t[8]?e[8]:ye(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function zr(t,e){t=Qr(t);for(var n=-1,r=e.length,o={};++n<r;){var i=e[n];i in t&&(o[i]=t[i])}return o}function Jr(t,e){var n={};return pn(t,function(t,r,o){e(t,r,o)&&(n[r]=t)}),n}function Vr(t,e){for(var n=t.length,o=ye(e.length,n),i=Le(t);o--;){var a=e[o];t[o]=Lr(a,n)?i[a]:r}return t}var Kr,Wr,qr=(Kr=0,Wr=0,function(t,e){var n=Jo(),r=16-(n-Wr);if(Wr=n,r>0){if(++Kr>=150)return t}else Kr=0;return En(t,e)});function Gr(t){for(var e=Li(t),n=e.length,r=n&&t.length,o=!!r&&Mr(r)&&(ci(t)||si(t)),i=-1,a=[];++i<n;){var s=e[i];(o&&Lr(s,r)||Pt.call(t,s))&&a.push(s)}return a}function Hr(t){return null==t?[]:Tr(t)?fi(t)?t:vt(t):Ui(t)}function Qr(t){return fi(t)?t:vt(t)}function Yr(t){if(ci(t))return t;var e=[];return At(t).replace(Y,function(t,n,r,o){e.push(r?o.replace(tt,"$1"):n||t)}),e}function Xr(t){return t instanceof je?t.clone():new Ee(t.__wrapped__,t.__chain__,Le(t.__actions__))}var $r=ii(function(t,e){return zt(t)&&Tr(t)?Ze(t,cn(e,!1,!0)):[]});function Zr(t,e,n){return t&&t.length?((n?xr(t,e,n):null==e)&&(e=1),jn(t,e<0?0:e)):[]}function to(t,e,n){var r=t?t.length:0;return r?((n?xr(t,e,n):null==e)&&(e=1),jn(t,0,(e=r-(+e||0))<0?0:e)):[]}var eo=nr(),no=nr(!0);function ro(t){return t?t[0]:r}function oo(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?he(r+n,0):n;else if(n){var o=Mn(t,e);return o<r&&(e==e?e===t[o]:t[o]!=t[o])?o:-1}return jt(t,e,n||0)}var io=ii(function(t){for(var e=t.length,r=e,o=n(p),i=Or(),a=i==jt,s=[];r--;){var c=t[r]=Tr(c=t[r])?c:[];o[r]=a&&c.length>=120?Qn(r&&c):null}var u=t[0],l=-1,p=u?u.length:0,f=o[0];t:for(;++l<p;)if(c=u[l],(f?Ne(f,c):i(s,c,0))<0){for(r=e;--r;){var d=o[r];if((d?Ne(d,c):i(t[r],c,0))<0)continue t}f&&f.push(c),s.push(c)}return s});function ao(t){var e=t?t.length:0;return e?t[e-1]:r}var so=ii(function(t,e){var n=Ge(t,e=cn(e));return Pn(t,e.sort(It)),n});function co(t){return Zr(t,1)}var uo=_r(),lo=_r(!0),po=ii(function(t){return Ln(cn(t,!1,!0))});function fo(t,e,n,o){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(n=xr(t,e,o=n)?r:e,e=!1);var i=Sr();return null==n&&i===Qe||(n=i(n,o,3)),e&&Or()==jt?Kt(t,n):Ln(t,n)}function ho(t){if(!t||!t.length)return[];var e=-1,r=0;t=Me(t,function(t){if(Tr(t))return r=he(t.length,r),!0});for(var o=n(r);++e<r;)o[e]=Be(t,Cn(e));return o}function yo(t,e,n){if(!t||!t.length)return[];var o=ho(t);return null==e?o:(e=Un(e,n,4),Be(o,function(t){return ze(t,e,r,!0)}))}var _o=ii(function(t,e){return Tr(t)?Ze(t,e):[]}),vo=ii(ho);function go(t,e){var n=-1,r=t?t.length:0,o={};for(!r||e||ci(t[0])||(e=[]);++n<r;){var i=t[n];e?o[i]=e[n]:i&&(o[i[0]]=i[1])}return o}var mo=ii(function(t){var e=t.length,n=e>2?t[e-2]:r,o=e>1?t[e-1]:r;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof o?(--e,o):r,o=r),t.length=e,yo(t,n,o)});function bo(t){var e=we(t);return e.__chain__=!0,e}function So(t,e,n){return e.call(n,t)}var Ro=ii(function(t){return t=cn(t),this.thru(function(e){return Te(ci(e)?e:[Qr(e)],t)})}),Co=ii(function(t,e){return Ge(t,cn(e))}),Oo=Kn(function(t,e,n){Pt.call(t,n)?++t[n]:t[n]=1});function Po(t,e,n){var o=ci(t)?Fe:nn;return n&&xr(t,e,n)&&(e=r),"function"==typeof e&&n===r||(e=Sr(e,n,3)),o(t,e)}function wo(t,e,n){return(ci(t)?Me:an)(t,e=Sr(e,n,3))}var Io=er(tn),Eo=er(en,!0),jo=ir(xe,tn),Do=ir(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},en),Ao=Kn(function(t,e,n){Pt.call(t,n)?t[n].push(e):t[n]=[e]});function No(t,e,n,r){var o=t?Pr(t):0;return Mr(o)||(o=(t=Ui(t)).length),n="number"!=typeof n||r&&xr(e,n,r)?0:n<0?he(o+n,0):n||0,"string"==typeof t||!ci(t)&&vi(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Or(t,e,n)>-1}var To=Kn(function(t,e,n){t[n]=e}),Lo=ii(function(t,e,o){var i=-1,a="function"==typeof e,s=Fr(e),c=Tr(t)?n(t.length):[];return tn(t,function(t){var n=a?e:s&&null!=t?t[e]:r;c[++i]=n?n.apply(t,o):Nr(t,e,o)}),c});function xo(t,e,n){return(ci(t)?Be:mn)(t,e=Sr(e,n,3))}var Fo=Kn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ko=pr(ze,tn),Mo=pr(function(t,e,n,r){var o=t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n},en);function Bo(t,e,n){if(n?xr(t,e,n):null==e)return(o=(t=Hr(t)).length)>0?t[wn(0,o-1)]:r;var o,i=-1,a=bi(t),s=(o=a.length)-1;for(e=ye(e<0?0:+e||0,o);++i<e;){var c=wn(i,s),u=a[c];a[c]=a[i],a[i]=u}return a.length=e,a}function Uo(t,e,n){var o=ci(t)?Je:Dn;return n&&xr(t,e,n)&&(e=r),"function"==typeof e&&n===r||(e=Sr(e,n,3)),o(t,e)}var zo=ii(function(t,e){if(null==t)return[];var n=e[2];return n&&xr(e[0],e[1],n)&&(e.length=1),Nn(t,cn(e),[])}),Jo=_e||function(){return(new o).getTime()};function Vo(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new bt(_);var o=t;t=e,e=o}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Ko=ii(function(t,e,n){var r=a;if(n.length){var o=Vt(n,Ko.placeholder);r|=p}return vr(t,r,e,n,o)}),Wo=ii(function(t,e){for(var n=-1,r=(e=e.length?cn(e):Ni(t)).length;++n<r;){var o=e[n];t[o]=vr(t[o],a,t)}return t}),qo=ii(function(t,e,n){var r=a|s;if(n.length){var o=Vt(n,qo.placeholder);r|=p}return vr(e,r,t,n,o)}),Go=$n(u),Ho=$n(l);function Qo(t,e,n){var o,i,a,s,c,u,l,p=0,f=!1,d=!0;if("function"!=typeof t)throw new bt(_);if(e=e<0?0:+e||0,!0===n){var h=!0;d=!1}else fi(n)&&(h=!!n.leading,f="maxWait"in n&&he(+n.maxWait||0,e),d="trailing"in n?!!n.trailing:d);function y(e,n){n&&Zt(n),i=u=l=r,e&&(p=Jo(),a=t.apply(c,o),u||i||(o=c=r))}function v(){var t=e-(Jo()-s);t<=0||t>e?y(l,i):u=oe(v,t)}function g(){y(d,u)}function m(){if(o=arguments,s=Jo(),c=this,l=d&&(u||!h),!1===f)var n=h&&!u;else{i||h||(p=s);var y=f-(s-p),_=y<=0||y>f;_?(i&&(i=Zt(i)),p=s,a=t.apply(c,o)):i||(i=oe(g,y))}return _&&u?u=Zt(u):u||e===f||(u=oe(v,e)),n&&(_=!0,a=t.apply(c,o)),!_||u||i||(o=c=r),a}return m.cancel=function(){u&&Zt(u),i&&Zt(i),p=0,i=u=l=r},m}var Yo=ii(function(t,e){return $e(t,1,e)}),Xo=ii(function(t,e,n){return $e(t,e,n)}),$o=or(),Zo=or(!0);function ti(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new bt(_);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new ti.Cache,n}var ei=ii(function(t,e){if(e=cn(e),"function"!=typeof t||!Fe(e,Dt))throw new bt(_);var n=e.length;return ii(function(r){for(var o=ye(r.length,n);o--;)r[o]=e[o](r[o]);return t.apply(this,r)})}),ni=lr(p),ri=lr(f),oi=ii(function(t,e){return vr(t,h,r,r,r,cn(e))});function ii(t,e){if("function"!=typeof t)throw new bt(_);return e=he(e===r?t.length-1:+e||0,0),function(){for(var r=arguments,o=-1,i=he(r.length-e,0),a=n(i);++o<i;)a[o]=r[e+o];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var s=n(e+1);for(o=-1;++o<e;)s[o]=r[o];return s[e]=a,t.apply(this,s)}}function ai(t,e){return t>e}function si(t){return zt(t)&&Tr(t)&&Pt.call(t,"callee")&&!ne.call(t,"callee")}var ci=pe||function(t){return zt(t)&&Mr(t.length)&&Qt.call(t)==m};function ui(t,e,n,o){var i=(n="function"==typeof n?Un(n,o,3):r)?n(t,e):r;return i===r?_n(t,e,n):!!i}function li(t){return zt(t)&&"string"==typeof t.message&&Qt.call(t)==R}function pi(t){return fi(t)&&Qt.call(t)==C}function fi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function di(t){return null!=t&&(pi(t)?Xt.test(Ot.call(t)):zt(t)&&ot.test(t))}function hi(t){return"number"==typeof t||zt(t)&&Qt.call(t)==O}function yi(t){var e,n;return!(!zt(t)||Qt.call(t)!=P||si(t)||!(Pt.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(pn(t,function(t,e){n=e}),n===r||Pt.call(t,n))}function _i(t){return fi(t)&&Qt.call(t)==w}function vi(t){return"string"==typeof t||zt(t)&&Qt.call(t)==I}function gi(t){return zt(t)&&Mr(t.length)&&!!ft[Qt.call(t)]}function mi(t,e){return t<e}function bi(t){var e=t?Pr(t):0;return Mr(e)?e?Le(t):[]:Ui(t)}function Si(t){return He(t,Li(t))}var Ri=Wn(function t(e,n,o,i,a){if(!fi(e))return e;var s=Tr(n)&&(ci(n)||gi(n)),c=s?r:Ti(n);return xe(c||n,function(u,l){if(c&&(u=n[l=u]),zt(u))i||(i=[]),a||(a=[]),Rn(e,n,l,t,o,i,a);else{var p=e[l],f=o?o(p,u,l,e,n):r,d=f===r;d&&(f=u),f===r&&(!s||l in e)||!d&&(f==f?f===p:p!=p)||(e[l]=f)}}),e}),Ci=Wn(function(t,e,n){return n?We(t,e,n):qe(t,e)}),Oi=Zn(Ci,function(t,e){return t===r?e:t}),Pi=Zn(Ri,function t(e,n){return e===r?n:Ri(e,n,t)}),wi=rr(fn),Ii=rr(dn),Ei=ar(un),ji=ar(ln),Di=sr(fn),Ai=sr(dn);function Ni(t){return hn(t,Li(t))}var Ti=de?function(t){var e=null==t?r:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Tr(t)?Gr(t):fi(t)?de(t):[]}:Gr;function Li(t){if(null==t)return[];fi(t)||(t=vt(t));var e=t.length;e=e&&Mr(e)&&(ci(t)||si(t))&&e||0;for(var r=t.constructor,o=-1,i="function"==typeof r&&r.prototype===t,a=n(e),s=e>0;++o<e;)a[o]=o+"";for(var c in t)s&&Lr(c,e)||"constructor"==c&&(i||!Pt.call(t,c))||a.push(c);return a}var xi=cr(!0),Fi=cr(),ki=ii(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Be(cn(e),mt),zr(t,Ze(Li(t),e));var n=Un(e[0],e[1],3);return Jr(t,function(t,e,r){return!n(t,e,r)})});function Mi(t){t=Qr(t);for(var e=-1,r=Ti(t),o=r.length,i=n(o);++e<o;){var a=r[e];i[e]=[a,t[a]]}return i}var Bi=ii(function(t,e){return null==t?{}:"function"==typeof e[0]?Jr(t,Un(e[0],e[1],3)):zr(t,cn(e))});function Ui(t){return xn(t,Ti(t))}var zi=Yn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)});function Ji(t){return(t=At(t))&&t.replace(at,Ft).replace(Z,"")}var Vi=Yn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ki=ur(),Wi=ur(!0);function qi(t,e){var n="";if(t=At(t),(e=+e)<1||!t||!fe(e))return n;do{e%2&&(n+=t),e=le(e/2),t+=t}while(e);return n}var Gi=Yn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Hi=Yn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))});function Qi(t,e,n){var r=t;return(t=At(t))?(n?xr(r,e,n):null==e)?t.slice(Wt(t),qt(t)+1):(e+="",t.slice(Nt(t,e),Tt(t,e)+1)):t}function Yi(t,e,n){return n&&xr(t,e,n)&&(e=r),(t=At(t)).match(e||ut)||[]}var Xi=ii(function(t,e){try{return t.apply(r,e)}catch(n){return li(n)?n:new i(n)}});function $i(t,e,n){return n&&xr(t,e,n)&&(e=r),zt(t)?ta(t):Qe(t,e)}function Zi(t){return t}function ta(t){return bn(Ye(t,!0))}var ea=ii(function(t,e){return function(n){return Nr(n,t,e)}}),na=ii(function(t,e){return function(n){return Nr(t,n,e)}});function ra(t,e,n){if(null==n){var o=fi(e),i=o?Ti(e):r,a=i&&i.length?hn(e,i):r;(a?a.length:o)||(a=!1,n=e,e=t,t=this)}a||(a=hn(e,Ti(e)));var s=!0,c=-1,u=pi(t),l=a.length;!1===n?s=!1:fi(n)&&"chain"in n&&(s=n.chain);for(;++c<l;){var p=a[c],f=e[p];t[p]=f,u&&(t.prototype[p]=function(e){return function(){var n=this.__chain__;if(s||n){var r=t(this.__wrapped__),o=r.__actions__=Le(this.__actions__);return o.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,Ue([this.value()],arguments))}}(f))}return t}function oa(){}function ia(t){return Fr(t)?Cn(t):On(t)}var aa,sa=yr("ceil"),ca=yr("floor"),ua=tr(ai,me),la=tr(mi,be),pa=yr("round");return we.prototype=Ie.prototype,Ee.prototype=Xe(Ie.prototype),Ee.prototype.constructor=Ee,je.prototype=Xe(Ie.prototype),je.prototype.constructor=je,De.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},De.prototype.get=function(t){return"__proto__"==t?r:this.__data__[t]},De.prototype.has=function(t){return"__proto__"!=t&&Pt.call(this.__data__,t)},De.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Ae.prototype.push=function(t){var e=this.data;"string"==typeof t||fi(t)?e.set.add(t):e.hash[t]=!0},ti.Cache=De,we.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new bt(_);var n=t;t=e,e=n}return t=fe(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},we.ary=function(t,e,n){return n&&xr(t,e,n)&&(e=r),e=t&&null==e?t.length:he(+e||0,0),vr(t,d,r,r,r,r,e)},we.assign=Ci,we.at=Co,we.before=Vo,we.bind=Ko,we.bindAll=Wo,we.bindKey=qo,we.callback=$i,we.chain=bo,we.chunk=function(t,e,r){e=(r?xr(t,e,r):null==e)?1:he(le(e)||1,1);for(var o=0,i=t?t.length:0,a=-1,s=n(ce(i/e));o<i;)s[++a]=jn(t,o,o+=e);return s},we.compact=function(t){for(var e=-1,n=t?t.length:0,r=-1,o=[];++e<n;){var i=t[e];i&&(o[++r]=i)}return o},we.constant=function(t){return function(){return t}},we.countBy=Oo,we.create=function(t,e,n){var o=Xe(t);return n&&xr(t,e,n)&&(e=r),e?qe(o,e):o},we.curry=Go,we.curryRight=Ho,we.debounce=Qo,we.defaults=Oi,we.defaultsDeep=Pi,we.defer=Yo,we.delay=Xo,we.difference=$r,we.drop=Zr,we.dropRight=to,we.dropRightWhile=function(t,e,n){return t&&t.length?Fn(t,Sr(e,n,3),!0,!0):[]},we.dropWhile=function(t,e,n){return t&&t.length?Fn(t,Sr(e,n,3),!0):[]},we.fill=function(t,e,n,r){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&xr(t,e,n)&&(n=0,r=o),on(t,e,n,r)):[]},we.filter=wo,we.flatten=function(t,e,n){var r=t?t.length:0;return n&&xr(t,e,n)&&(e=!1),r?cn(t,e):[]},we.flattenDeep=function(t){return t&&t.length?cn(t,!0):[]},we.flow=$o,we.flowRight=Zo,we.forEach=jo,we.forEachRight=Do,we.forIn=Ei,we.forInRight=ji,we.forOwn=Di,we.forOwnRight=Ai,we.functions=Ni,we.groupBy=Ao,we.indexBy=To,we.initial=function(t){return to(t,1)},we.intersection=io,we.invert=function(t,e,n){n&&xr(t,e,n)&&(e=r);for(var o=-1,i=Ti(t),a=i.length,s={};++o<a;){var c=i[o],u=t[c];e?Pt.call(s,u)?s[u].push(c):s[u]=[c]:s[u]=c}return s},we.invoke=Lo,we.keys=Ti,we.keysIn=Li,we.map=xo,we.mapKeys=xi,we.mapValues=Fi,we.matches=ta,we.matchesProperty=function(t,e){return Sn(t,Ye(e,!0))},we.memoize=ti,we.merge=Ri,we.method=ea,we.methodOf=na,we.mixin=ra,we.modArgs=ei,we.negate=function(t){if("function"!=typeof t)throw new bt(_);return function(){return!t.apply(this,arguments)}},we.omit=ki,we.once=function(t){return Vo(2,t)},we.pairs=Mi,we.partial=ni,we.partialRight=ri,we.partition=Fo,we.pick=Bi,we.pluck=function(t,e){return xo(t,ia(e))},we.property=ia,we.propertyOf=function(t){return function(e){return yn(t,Yr(e),e+"")}},we.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Or(),o=t.length;++n<o;)for(var i=0,a=t[n];(i=r(e,a,i))>-1;)ie.call(e,i,1);return e},we.pullAt=so,we.range=function(t,e,o){o&&xr(t,e,o)&&(e=o=r),t=+t||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,a=he(ce((e-t)/((o=null==o?1:+o||0)||1)),0),s=n(a);++i<a;)s[i]=t,t+=o;return s},we.rearg=oi,we.reject=function(t,e,n){var r=ci(t)?Me:an;return e=Sr(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})},we.remove=function(t,e,n){var r=[];if(!t||!t.length)return r;var o=-1,i=[],a=t.length;for(e=Sr(e,n,3);++o<a;){var s=t[o];e(s,o,t)&&(r.push(s),i.push(o))}return Pn(t,i),r},we.rest=co,we.restParam=ii,we.set=function(t,e,n){if(null==t)return t;for(var r=e+"",o=-1,i=(e=null!=t[r]||Fr(e,t)?[r]:Yr(e)).length,a=i-1,s=t;null!=s&&++o<i;){var c=e[o];fi(s)&&(o==a?s[c]=n:null==s[c]&&(s[c]=Lr(e[o+1])?[]:{})),s=s[c]}return t},we.shuffle=function(t){return Bo(t,be)},we.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&xr(t,e,n)&&(e=0,n=r),jn(t,e,n)):[]},we.sortBy=function(t,e,n){if(null==t)return[];n&&xr(t,e,n)&&(e=r);var o=-1;return e=Sr(e,n,3),An(mn(t,function(t,n,r){return{criteria:e(t,n,r),index:++o,value:t}}),Lt)},we.sortByAll=zo,we.sortByOrder=function(t,e,n,o){return null==t?[]:(o&&xr(e,n,o)&&(n=r),ci(e)||(e=null==e?[]:[e]),ci(n)||(n=null==n?[]:[n]),Nn(t,e,n))},we.spread=function(t){if("function"!=typeof t)throw new bt(_);return function(e){return t.apply(this,e)}},we.take=function(t,e,n){return t&&t.length?((n?xr(t,e,n):null==e)&&(e=1),jn(t,0,e<0?0:e)):[]},we.takeRight=function(t,e,n){var r=t?t.length:0;return r?((n?xr(t,e,n):null==e)&&(e=1),jn(t,(e=r-(+e||0))<0?0:e)):[]},we.takeRightWhile=function(t,e,n){return t&&t.length?Fn(t,Sr(e,n,3),!1,!0):[]},we.takeWhile=function(t,e,n){return t&&t.length?Fn(t,Sr(e,n,3)):[]},we.tap=function(t,e,n){return e.call(n,t),t},we.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new bt(_);return!1===n?r=!1:fi(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Qo(t,e,{leading:r,maxWait:+e,trailing:o})},we.thru=So,we.times=function(t,e,r){if((t=le(t))<1||!fe(t))return[];var o=-1,i=n(ye(t,4294967295));for(e=Un(e,r,1);++o<t;)o<4294967295?i[o]=e(o):e(o);return i},we.toArray=bi,we.toPlainObject=Si,we.transform=function(t,e,n,o){var i=ci(t)||gi(t);if(e=Sr(e,o,4),null==n)if(i||fi(t)){var a=t.constructor;n=i?ci(t)?new a:[]:Xe(pi(a)?a.prototype:r)}else n={};return(i?xe:fn)(t,function(t,r,o){return e(n,t,r,o)}),n},we.union=po,we.uniq=fo,we.unzip=ho,we.unzipWith=yo,we.values=Ui,we.valuesIn=function(t){return xn(t,Li(t))},we.where=function(t,e){return wo(t,bn(e))},we.without=_o,we.wrap=function(t,e){return vr(e=null==e?Zi:e,p,r,[t],[])},we.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Tr(n))var r=r?Ue(Ze(r,n),Ze(n,r)):n}return r?Ln(r):[]},we.zip=vo,we.zipObject=go,we.zipWith=mo,we.backflow=Zo,we.collect=xo,we.compose=Zo,we.each=jo,we.eachRight=Do,we.extend=Ci,we.iteratee=$i,we.methods=Ni,we.object=go,we.select=wo,we.tail=co,we.unique=fo,ra(we,we),we.add=function(t,e){return(+t||0)+(+e||0)},we.attempt=Xi,we.camelCase=zi,we.capitalize=function(t){return(t=At(t))&&t.charAt(0).toUpperCase()+t.slice(1)},we.ceil=sa,we.clone=function(t,e,n,r){return e&&"boolean"!=typeof e&&xr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?Ye(t,e,Un(n,r,1)):Ye(t,e)},we.cloneDeep=function(t,e,n){return"function"==typeof e?Ye(t,!0,Un(e,n,1)):Ye(t,!0)},we.deburr=Ji,we.endsWith=function(t,e,n){e+="";var o=(t=At(t)).length;return n=n===r?o:ye(n<0?0:+n||0,o),(n-=e.length)>=0&&t.indexOf(e,n)==n},we.escape=function(t){return(t=At(t))&&K.test(t)?t.replace(J,kt):t},we.escapeRegExp=function(t){return(t=At(t))&&$.test(t)?t.replace(X,Mt):t||"(?:)"},we.every=Po,we.find=Io,we.findIndex=eo,we.findKey=wi,we.findLast=Eo,we.findLastIndex=no,we.findLastKey=Ii,we.findWhere=function(t,e){return Io(t,bn(e))},we.first=ro,we.floor=ca,we.get=function(t,e,n){var o=null==t?r:yn(t,Yr(e),e+"");return o===r?n:o},we.gt=ai,we.gte=function(t,e){return t>=e},we.has=function(t,e){if(null==t)return!1;var n=Pt.call(t,e);if(!n&&!Fr(e)){if(null==(t=1==(e=Yr(e)).length?t:yn(t,jn(e,0,-1))))return!1;e=ao(e),n=Pt.call(t,e)}return n||Mr(t.length)&&Lr(e,t.length)&&(ci(t)||si(t))},we.identity=Zi,we.includes=No,we.indexOf=oo,we.inRange=function(t,e,n){return e=+e||0,n===r?(n=e,e=0):n=+n||0,t>=ye(e,n)&&t<he(e,n)},we.isArguments=si,we.isArray=ci,we.isBoolean=function(t){return!0===t||!1===t||zt(t)&&Qt.call(t)==b},we.isDate=function(t){return zt(t)&&Qt.call(t)==S},we.isElement=function(t){return!!t&&1===t.nodeType&&zt(t)&&!yi(t)},we.isEmpty=function(t){return null==t||(Tr(t)&&(ci(t)||vi(t)||si(t)||zt(t)&&pi(t.splice))?!t.length:!Ti(t).length)},we.isEqual=ui,we.isError=li,we.isFinite=function(t){return"number"==typeof t&&fe(t)},we.isFunction=pi,we.isMatch=function(t,e,n,o){return n="function"==typeof n?Un(n,o,3):r,gn(t,wr(e),n)},we.isNaN=function(t){return hi(t)&&t!=+t},we.isNative=di,we.isNull=function(t){return null===t},we.isNumber=hi,we.isObject=fi,we.isPlainObject=yi,we.isRegExp=_i,we.isString=vi,we.isTypedArray=gi,we.isUndefined=function(t){return t===r},we.kebabCase=Vi,we.last=ao,we.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var o=r;if("number"==typeof n)o=(n<0?he(r+n,0):ye(n||0,r-1))+1;else if(n){var i=t[o=Mn(t,e,!0)-1];return(e==e?e===i:i!=i)?o:-1}if(e!=e)return Ut(t,o,!0);for(;o--;)if(t[o]===e)return o;return-1},we.lt=mi,we.lte=function(t,e){return t<=e},we.max=ua,we.min=la,we.noConflict=function(){return wt._=Yt,this},we.noop=oa,we.now=Jo,we.pad=function(t,e,n){e=+e;var r=(t=At(t)).length;if(r>=e||!fe(e))return t;var o=(e-r)/2,i=le(o);return(n=dr("",ce(o),n)).slice(0,i)+t+n},we.padLeft=Ki,we.padRight=Wi,we.parseInt=function(t,e,n){return(n?xr(t,e,n):null==e)?e=0:e&&(e=+e),t=Qi(t),ve(t,e||(rt.test(t)?16:10))},we.random=function(t,e,n){n&&xr(t,e,n)&&(e=n=r);var o=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),o&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var a=ge();return ye(t+a*(e-t+te("1e-"+((a+"").length-1))),e)}return wn(t,e)},we.reduce=ko,we.reduceRight=Mo,we.repeat=qi,we.result=function(t,e,n){var o=null==t?r:t[e];return o===r&&(null==t||Fr(e,t)||(o=null==(t=1==(e=Yr(e)).length?t:yn(t,jn(e,0,-1)))?r:t[ao(e)]),o=o===r?n:o),pi(o)?o.call(t):o},we.round=pa,we.runInContext=t,we.size=function(t){var e=t?Pr(t):0;return Mr(e)?e:Ti(t).length},we.snakeCase=Gi,we.some=Uo,we.sortedIndex=uo,we.sortedLastIndex=lo,we.startCase=Hi,we.startsWith=function(t,e,n){return t=At(t),n=null==n?0:ye(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n},we.sum=function(t,e,n){return n&&xr(t,e,n)&&(e=r),1==(e=Sr(e,n,3)).length?Ve(ci(t)?t:Hr(t),e):Tn(t,e)},we.template=function(t,e,n){var o=we.templateSettings;n&&xr(t,e,n)&&(e=n=r),t=At(t),e=We(qe({},n||e),o,Ke);var i,a,s=We(qe({},e.imports),o.imports,Ke),c=Ti(s),u=xn(s,c),l=0,p=e.interpolate||st,f="__p += '",d=gt((e.escape||st).source+"|"+p.source+"|"+(p===G?et:st).source+"|"+(e.evaluate||st).source+"|$","g"),h="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++pt+"]")+"\n";t.replace(d,function(e,n,r,o,s,c){return r||(r=o),f+=t.slice(l,c).replace(ct,Bt),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),f+="';\n";var y=e.variable;y||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(M,""):f).replace(B,"$1").replace(U,"$1;"),f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var _=Xi(function(){return ht(c,h+"return "+f).apply(r,u)});if(_.source=f,li(_))throw _;return _},we.trim=Qi,we.trimLeft=function(t,e,n){var r=t;return(t=At(t))?(n?xr(r,e,n):null==e)?t.slice(Wt(t)):t.slice(Nt(t,e+"")):t},we.trimRight=function(t,e,n){var r=t;return(t=At(t))?(n?xr(r,e,n):null==e)?t.slice(0,qt(t)+1):t.slice(0,Tt(t,e+"")+1):t},we.trunc=function(t,e,n){n&&xr(t,e,n)&&(e=r);var o=30,i="...";if(null!=e)if(fi(e)){var a="separator"in e?e.separator:a;o="length"in e?+e.length||0:o,i="omission"in e?At(e.omission):i}else o=+e||0;if(o>=(t=At(t)).length)return t;var s=o-i.length;if(s<1)return i;var c=t.slice(0,s);if(null==a)return c+i;if(_i(a)){if(t.slice(s).search(a)){var u,l,p=t.slice(0,s);for(a.global||(a=gt(a.source,(nt.exec(a)||"")+"g")),a.lastIndex=0;u=a.exec(p);)l=u.index;c=c.slice(0,null==l?s:l)}}else if(t.indexOf(a,s)!=s){var f=c.lastIndexOf(a);f>-1&&(c=c.slice(0,f))}return c+i},we.unescape=function(t){return(t=At(t))&&V.test(t)?t.replace(z,Gt):t},we.uniqueId=function(t){var e=++Jt;return At(t)+e},we.words=Yi,we.all=Po,we.any=Uo,we.contains=No,we.eq=ui,we.detect=Io,we.foldl=ko,we.foldr=Mo,we.head=ro,we.include=No,we.inject=ko,ra(we,(aa={},fn(we,function(t,e){we.prototype[e]||(aa[e]=t)}),aa),!1),we.sample=Bo,we.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Bo(e,t)}):Bo(this.value())},we.VERSION="3.10.1",xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){we[t].placeholder=we}),xe(["drop","take"],function(t,e){je.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new je(this);n=null==n?1:he(le(n)||0,0);var o=this.clone();return r?o.__takeCount__=ye(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},je.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),xe(["filter","map","takeWhile"],function(t,e){var n=e+1,r=2!=n;je.prototype[t]=function(t,e){var o=this.clone();return o.__iteratees__.push({iteratee:Sr(t,e,1),type:n}),o.__filtered__=o.__filtered__||r,o}}),xe(["first","last"],function(t,e){var n="take"+(e?"Right":"");je.prototype[t]=function(){return this[n](1).value()[0]}}),xe(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");je.prototype[t]=function(){return this.__filtered__?new je(this):this[n](1)}}),xe(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?bn:ia;je.prototype[t]=function(t){return this[n](r(t))}}),je.prototype.compact=function(){return this.filter(Zi)},je.prototype.reject=function(t,e){return t=Sr(t,e,1),this.filter(function(e){return!t(e)})},je.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new je(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=+e||0)<0?n.dropRight(-e):n.take(e-t)),n)},je.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},je.prototype.toArray=function(){return this.take(be)},fn(je.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),o=/^(?:first|last)$/.test(e),i=we[o?"take"+("last"==e?"Right":""):e];i&&(we.prototype[e]=function(){var e=o?[1]:arguments,a=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,u=s instanceof je,l=e[0],p=u||ci(s);p&&n&&"function"==typeof l&&1!=l.length&&(u=p=!1);var f=function(t){return o&&a?i(t,1)[0]:i.apply(r,Ue([t],e))},d={func:So,args:[f],thisArg:r},h=u&&!c;if(o&&!a)return h?((s=s.clone()).__actions__.push(d),t.call(s)):i.call(r,this.value())[0];if(!o&&p){s=h?s:new je(this);var y=t.apply(s,e);return y.__actions__.push(d),new Ee(y,a)}return this.thru(f)})}),xe(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Ct:St)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);we.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),fn(je.prototype,function(t,e){var n=we[e];if(n){var r=n.name;(Pe[r]||(Pe[r]=[])).push({name:e,func:n})}}),Pe[fr(r,s).name]=[{name:"wrapper",func:r}],je.prototype.clone=function(){var t=new je(this.__wrapped__);return t.__actions__=Le(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Le(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Le(this.__views__),t},je.prototype.reverse=function(){if(this.__filtered__){var t=new je(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},je.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ci(t),r=e<0,o=n?t.length:0,i=Er(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,p=l.length,f=0,d=ye(c,this.__takeCount__);if(!n||o<y||o==c&&d==c)return kn(r&&n?t.reverse():t,this.__actions__);var h=[];t:for(;c--&&f<d;){for(var _=-1,v=t[u+=e];++_<p;){var g=l[_],m=g.iteratee,b=g.type,S=m(v);if(2==b)v=S;else if(!S){if(1==b)continue t;break t}}h[f++]=v}return h},we.prototype.chain=function(){return bo(this)},we.prototype.commit=function(){return new Ee(this.value(),this.__chain__)},we.prototype.concat=Ro,we.prototype.plant=function(t){for(var e,n=this;n instanceof Ie;){var r=Xr(n);e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},we.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof je){var n=t;return this.__actions__.length&&(n=new je(this)),(n=n.reverse()).__actions__.push({func:So,args:[e],thisArg:r}),new Ee(n,this.__chain__)}return this.thru(e)},we.prototype.toString=function(){return this.value()+""},we.prototype.run=we.prototype.toJSON=we.prototype.valueOf=we.prototype.value=function(){return kn(this.__wrapped__,this.__actions__)},we.prototype.collect=we.prototype.map,we.prototype.head=we.prototype.first,we.prototype.select=we.prototype.filter,we.prototype.tail=we.prototype.rest,we}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(wt._=Ht,define(function(){return Ht})):bt&&St?Pt?(St.exports=Ht)._=Ht:bt._=Ht:wt._=Ht}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e){var n=t("lodash");function r(t,e){return n.countBy(e.split(" "),t)}var o=n.curry(r)(0),i=n.curry(r)(1);function a(t,e){return n.findKey(o(e),n.curry(n.eq)(t))}var s=n.curry(a)(2),c=n.curry(a)(3),u=n.curry(a)(4),l=["A","K","Q","J","T","9","8","7","6","5","4","3","2"];function p(t){return l.indexOf(t)}function f(t){return n.sortBy(Object.keys(o(t)),p)}function d(t){var e=o(t),r=n.findKey(e,n.curry(n.eq)(2)),i=n.findLastKey(e,n.curry(n.eq)(2));if(r&&i&&r!==i)return f(r+" "+i)}function h(t){return f(t).filter(function(e){return e!==s(t)})}function y(t){return n.findKey(i(t),n.eq.bind(null,5))}function _(t){var e=o(t);if(n.findKey(e,n.eq.bind(null,2)))return n.findKey(e,n.eq.bind(null,3))}function v(t){var e=h(t);return!!e.every(function(t,e,n){return 4===e||n[e+1]===l[l.indexOf(t)+1]})&&e[0]}function g(t){if(y(t))return v(t)}function m(t){return"A"===g(t)}var b=[m,g,u,_,y,v,c,d,s,h];function S(t){return n.find(n.range(b.length),function(e){return b[e](t)})}e.exports={highestCard:h,hasPair:s,hasTwoPairs:d,hasThreeOfAKind:c,hasStraight:v,hasFlush:y,hasFullHouse:_,hasFourOfAKind:u,hasStraightFlush:g,hasRoyalFlush:m,getHandStrength:S,judgeWinner:function(t){var e=t.map(S);if(e[0]!==e[1])return e.indexOf(n.min(e));var r=t.map(b[e[0]]);return r.indexOf(n.min(r,p))}}},{lodash:13}],15:[function(t){(function(t,e){var n;(function(n){(function(){var r="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("","return this")(),o=i(n);function i(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===r.Reflect?r.Reflect=n:o=i(r.Reflect,o),function(e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return J(Object.create(null))}:s?function(){return J({__proto__:null})}:function(){return J({})},has:c?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),p="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=p||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t){return t}function o(t,e){return e}function a(t,e){return[t,e]}}():Map,d=p||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}():Set,h=new(p||"function"!=typeof WeakMap?function(){var t=16,e=u.create(),r=o();return function(){function t(){this._key=o()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=o()},t}();function o(){var t;do{t="@@WeakMap@@"+s()}while(u.has(e,t));return e[t]=!0,t}function i(t,e){if(!n.call(t,r)){if(!e)return;Object.defineProperty(t,r,{value:u.create()})}return t[r]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var e,n=(e=t,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e));n[6]=79&n[6]|64,n[8]=191&n[8]|128;for(var r="",o=0;o<t;++o){var i=n[o];4!==o&&6!==o&&8!==o||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}():WeakMap);function y(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!w(r)&&!I(r)){if(!x(r))throw new TypeError;e=r}}return e}function _(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,n,r);if(!w(i)&&!I(i)){if(!E(i))throw new TypeError;r=i}}return r}function v(t,e,n){var r=h.get(t);if(w(r)){if(!n)return;r=new f,h.set(t,r)}var o=r.get(e);if(w(o)){if(!n)return;o=new f,r.set(e,o)}return o}function g(t,e,n){if(m(t,e,n))return!0;var r=z(e);return!I(r)&&g(t,r,n)}function m(t,e,n){var r=v(e,n,!1);return!w(r)&&!!r.has(t)}function b(t,e,n){if(m(t,e,n))return S(t,e,n);var r=z(e);return I(r)?void 0:b(t,r,n)}function S(t,e,n){var r=v(e,n,!1);if(!w(r))return r.get(t)}function R(t,e,n,r){v(n,r,!0).set(t,e)}function C(t,e){var n=O(t,e),r=z(t);if(null===r)return n;var o=C(r,e);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new d,a=[],s=0,c=n;s<c.length;s++){var u=c[s];i.has(u)||(i.add(u),a.push(u))}for(var l=0,p=o;l<p.length;l++)u=p[l],i.has(u)||(i.add(u),a.push(u));return a}function O(t,e){var n=[],r=v(t,e,!1);if(w(r))return n;for(var o=M(r.keys()),i=0;;){var a=B(o);if(!a)return n.length=i,n;var s=a.value;try{n[i]=s}catch(c){try{U(o)}finally{throw c}}i++}}function P(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function w(t){return void 0===t}function I(t){return null===t}function E(t){return"object"==typeof t?null!==t:"function"==typeof t}function j(t,e){switch(P(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=k(t,o);if(void 0!==r){var i=r.call(t,n);if(E(i))throw new TypeError;return i}return D(t,"default"===n?"number":n)}function D(t,e){if("string"===e){var n=t.toString;if(L(n)&&!E(o=n.call(t)))return o;if(L(r=t.valueOf)&&!E(o=r.call(t)))return o}else{var r;if(L(r=t.valueOf)&&!E(o=r.call(t)))return o;var o,i=t.toString;if(L(i)&&!E(o=i.call(t)))return o}throw new TypeError}function A(t){return""+t}function N(t){var e=j(t,3);return"symbol"==typeof e?e:A(e)}function T(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function L(t){return"function"==typeof t}function x(t){return"function"==typeof t}function F(t){switch(P(t)){case 3:case 4:return!0;default:return!1}}function k(t,e){var n=t[e];if(null!=n){if(!L(n))throw new TypeError;return n}}function M(t){var e=k(t,i);if(!L(e))throw new TypeError;var n=e.call(t);if(!E(n))throw new TypeError;return n}function B(t){var e=t.next();return!e.done&&e}function U(t){var e=t.return;e&&e.call(t)}function z(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o?e:o===t?e:o}function J(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,n,r){if(w(n)){if(!T(t))throw new TypeError;if(!x(e))throw new TypeError;return y(t,e)}if(!T(t))throw new TypeError;if(!E(e))throw new TypeError;if(!E(r)&&!w(r)&&!I(r))throw new TypeError;return I(r)&&(r=void 0),_(t,e,n=N(n),r)}),e("metadata",function(t,e){return function(n,r){if(!E(n))throw new TypeError;if(!w(r)&&!F(r))throw new TypeError;R(t,e,n,r)}}),e("defineMetadata",function(t,e,n,r){if(!E(n))throw new TypeError;return w(r)||(r=N(r)),R(t,e,n,r)}),e("hasMetadata",function(t,e,n){if(!E(e))throw new TypeError;return w(n)||(n=N(n)),g(t,e,n)}),e("hasOwnMetadata",function(t,e,n){if(!E(e))throw new TypeError;return w(n)||(n=N(n)),m(t,e,n)}),e("getMetadata",function(t,e,n){if(!E(e))throw new TypeError;return w(n)||(n=N(n)),b(t,e,n)}),e("getOwnMetadata",function(t,e,n){if(!E(e))throw new TypeError;return w(n)||(n=N(n)),S(t,e,n)}),e("getMetadataKeys",function(t,e){if(!E(t))throw new TypeError;return w(e)||(e=N(e)),C(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!E(t))throw new TypeError;return w(e)||(e=N(e)),O(t,e)}),e("deleteMetadata",function(t,e,n){if(!E(e))throw new TypeError;w(n)||(n=N(n));var r=v(e,n,!1);if(w(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var o=h.get(e);return o.delete(n),o.size>0||(h.delete(e),!0)})}(o)})()})(n||(n={}))}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],16:[function(t,e){(function(t){var n,r,o,i,a,s,c,u,l,p,f,d,h,y,_,v,g,m,b,S,R,C,O;(function(n){var r="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:{};function o(t,e){return t!==r&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,r){return t[n]=e?e(n,r):r}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(t){n(o(r,o(t)))}):"object"==typeof e&&"object"==typeof e.exports?n(o(r,o(e.exports))):n(o(r))})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};n=function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},i=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=function(t,e){return function(n,r){e(n,r,t)}},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((r=r.apply(t,e||[])).next())})},u=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},O=function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},l=function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])},p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},d=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t},h=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},y=function(t){return this instanceof y?(this.v=t,this):new y(t)},_=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(r){l(i[0][3],r)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}},v=function(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e}:o}},g=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){o(r,i,(e=t[n](e)).done,e.value)})}}function o(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}},m=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},S=function(t){return t&&t.__esModule?t:{default:t}},R=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},C=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},t("__extends",n),t("__assign",r),t("__rest",o),t("__decorate",i),t("__param",a),t("__metadata",s),t("__awaiter",c),t("__generator",u),t("__exportStar",l),t("__createBinding",O),t("__values",p),t("__read",f),t("__spread",d),t("__spreadArrays",h),t("__await",y),t("__asyncGenerator",_),t("__asyncDelegator",v),t("__asyncValues",g),t("__makeTemplateObject",m),t("__importStar",b),t("__importDefault",S),t("__classPrivateFieldGet",R),t("__classPrivateFieldSet",C)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.serialize=n.deserialize=n.Serializable=n.JsonProperty=void 0,t("reflect-metadata");var i,a="api:map:",s=a+"serializable",c="design:type";function u(t){var e=Reflect.getPrototypeOf(t);return e&&e.name?o(u(e),[e.name]):[]}function l(t){var e=t.toString().replace(/(\/\*[\s\S]*?\*\/|\/\/.*$)/gm,"").replace(/[\r\t\n\v\f]/g,"").replace(/( +)/g," "),n=/(?:this\.)([^\n\r\t\f\v;]+)([\s;])/gm,r=new Map,o=/(?:.*(?:constructor|function).*?(?=\())(?:\()(.+?(?=\)))/m.exec(e);if(!o||!o.length)return r;for(var i,a=o[1].replace(/ /g,"").split(","),s=function(){var t=i[1].replace(/ /g,"").split("="),e=a.findIndex(function(e){return e===t[1]});e>-1&&r.set(e,t[0])};i=n.exec(e);)s();return r}function p(t,e){var n={};return t.forEach(function(t){n=r(r({},n),Reflect.getMetadata(""+a+t,e))}),n}function f(t,e){var n;if([null,void 0].includes(t))return t;if(void 0===e)return g(typeof t,t);var o=new e,i=o.constructor.name,c=null!==(n=Reflect.getMetadata(s,e))&&void 0!==n?n:{},u=c.baseClassNames,l=c.options,f=""+a+i,d=Reflect.hasMetadata(f,o),h={};return d||u&&u.length?(h=Reflect.getMetadata(f,o),u&&u.length&&(h=r(r({},p(u,o)),h)),Object.keys(h).forEach(function(e){var n=y(o,e,h[e],t,null==l?void 0:l.formatPropertyNames);void 0!==n&&(o[e]=n)}),o):o}function d(t,e){var n;if(void 0===e&&(e=!0),[void 0,null].includes(t)||typeof t!==i.Object)return t;var o=t.constructor.name,c=""+a+o,u=null!==(n=Reflect.getMetadata(s,t.constructor))&&void 0!==n?n:{},l=u.baseClassNames,f=u.options,d=l&&l.length,y=Reflect.hasMetadata(c,t),_={};if(!y&&!d)return t;_=Reflect.getMetadata(c,t),d&&(_=r(r({},p(l,t)),_));var v={},g=Object.keys(t);return Object.keys(_).forEach(function(n){var r=_[n].onSerialize;if(g.includes(n)){var o=_[n],i=h(t,n,o,e);if(r&&(i=r(i,t)),o.names)o.names.forEach(function(t){(!e||e&&void 0!==i[t])&&(v[t]=i[t])});else if(!e||e&&void 0!==i)if(!o.isNameOverridden&&(null==f?void 0:f.formatPropertyNames)){var a=f.formatPropertyNames(o.name);v[a]=i}else v[o.name]=i}}),v}function h(t,e,n,r){var o=t[e],a=Reflect.getMetadata(c,t,e),s=!!a.name&&a.name.toLocaleLowerCase()===i.Array,u=n.predicate,l=n.type||a,p=_(l);if(o&&(p||u)){if(s){var f=[];return o.forEach(function(t){f.push(d(t,r))}),f}if(n.isDictionary){var h={};return Object.keys(o).forEach(function(t){h[t]=d(o[t],r)}),h}return d(o,r)}return l.name.toLocaleLowerCase()===i.Date&&o?o.toISOString():o}function y(t,e,n,r,o){var a;if([null,void 0].includes(r))return r;if("names"in n){var s={};n.names.forEach(function(t){return s[t]=r[t]}),a=s}else if("name"in n&&!n.isNameOverridden&&o){var u=o(n.name);a=r[u]}else a=r[n.name];if([null,void 0].includes(a))return a;var l,p=Reflect.getMetadata(c,t,e),d=!!p.name&&p.name.toLowerCase()===i.Array,h=n.isDictionary,y=n.predicate,v=n.onDeserialize,m=n.postDeserialize,b=n.type||p,S=_(b);if(v&&(a=v(a,t)),h){var R={};typeof a!==i.Object?(console.error("Type '"+typeof a+"' is not assignable to type 'Dictionary' for property '"+e+"' in '"+t.constructor.name+"'.\n","Received: "+JSON.stringify(a)),l=void 0):(Object.keys(a).forEach(function(n){S||y?(y&&(b=y(a[n])),R[n]=f(a[n],b)):R[n]=g(typeof a[n],a[n],e,t.constructor.name)}),l=R)}else if(d){var C=[];Array.isArray(a)?(a.forEach(function(n){S||y?(y&&(b=y(n)),C.push(f(n,b))):C.push(g(typeof n,n,e,t.constructor.name))}),l=C):(console.error("Type '"+typeof a+"' is not assignable to type 'Array' for property '"+e+"' in '"+t.constructor.name+"'.\n","Received: "+JSON.stringify(a)),l=void 0)}else S||y?(b=y?y(a):b,l=f(a,b)):l=g(b.name,a,e,t.constructor.name);return m&&(l=m(l,t)),l}function _(t){return Reflect.hasOwnMetadata(s,t)}function v(t,e){return e?(n=typeof e===i.String?{name:e,isNameOverridden:!0}:e.name?{name:e.name,isNameOverridden:!0}:e.names&&e.names.length?{names:e.names}:{name:t.toString(),isNameOverridden:!1},e.predicate?r(r({},n),{predicate:e.predicate,onDeserialize:e.onDeserialize,onSerialize:e.onSerialize,postDeserialize:e.postDeserialize,isDictionary:!!e.isDictionary}):r(r({},n),{type:e.type,onDeserialize:e.onDeserialize,onSerialize:e.onSerialize,postDeserialize:e.postDeserialize,isDictionary:!!e.isDictionary})):{name:t.toString(),isDictionary:!1,isNameOverridden:!1};var n}function g(t,e,n,r){if(null==t)return e;if(t=t.toLowerCase(),(typeof e).toLowerCase()===t)return e;var o=function(){console.error("Type '"+typeof e+"' is not assignable to type '"+t+"' for property '"+n+"' in '"+r+"'.\n","Received: "+JSON.stringify(e))};switch(t){case i.String:var a=e.toString();return"[object Object]"===a?void o():a;case i.Number:var s=+e;return isNaN(s)?void o():s;case i.Boolean:return void o();case i.Date:return isNaN(Date.parse(e))?void o():new Date(e);default:return e}}(function(t){t.Array="array",t.Boolean="boolean",t.Date="date",t.Number="number",t.Object="object",t.String="string"})(i||(i={})),n.JsonProperty=function(t){return function(e,n,r){if(void 0===n&&e.prototype){var o=Reflect.getMetadata("design:paramtypes",e)[r];n=l(e.prototype.constructor).get(r),e=e.prototype,Reflect.defineMetadata(c,o,e,n)}var i={},s=e.constructor.name,u=""+a+s;Reflect.hasMetadata(u,e)&&(i=Reflect.getMetadata(u,e)),i[n]=v(n,t),Reflect.defineMetadata(u,i,e)}},n.Serializable=function(t){return function(e){var n=u(e);Reflect.defineMetadata(s,{baseClassNames:n,options:t},e)}},n.deserialize=f,n.serialize=d},{"reflect-metadata":15}],AssetLoader:[function(t,e,n){"use strict";cc._RF.push(e,"1aa14n7nvxPXrImAGCcTBDS","AssetLoader"),Object.defineProperty(n,"__esModule",{value:!0}),n.AssetLoader=void 0;var r=function(){function t(){}return t.setPhoto=function(t,e,n){var r=this;t&&(this.photoMap.get(t)?e&&e.spriteFrame&&(e.spriteFrame=this.photoMap.get(t)):cc.assetManager.loadRemote(t,{ext:".png"},function(o,i){if(o)console.error("texture load fail : ",t,o),n&&n();else{var a=new cc.SpriteFrame(i);a&&e&&e.spriteFrame&&(e.spriteFrame=a),r.photoMap.set(t,a)}}))},t.photoMap=new Map,t}();n.AssetLoader=r,cc._RF.pop()},{}],BettingUI:[function(t,e,n){"use strict";cc._RF.push(e,"eef612QKy5PiaB48aLY/Wc3","BettingUI");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../protocols/VIDEOPOKER_Deal_2S_1"),u=t("../../protocols/VIDEOPOKER_Draw_2S_1"),l=t("../BroadCast"),p=t("./VideoPokerPlayer"),f=t("../utils/MoneyUtility"),d=t("../Const"),h=t("../utils/SoundController");t("firebase/analytics");var y=s(t("./FindBet")),_=s(t("../EventBroadCast")),v=s(t("../standalone/MachineData")),g=s(t("../standalone/UserData")),m=s(t("../standalone/GameServer")),b=cc._decorator,S=b.ccclass,R=b.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.autoHold=!0,e.sequence=0,e.credit=0,e.index=0,e.user=null,e.creditLabel=null,e.dealButton=null,e.drawButton=null,e.bet1Button=null,e.bet5Button=null,e.betPerHandButton=null,e.selectHandsButton=null,e.betPerHandLabel=null,e.clickSound=null,e.plusSound=null,e.minusSound=null,e.eventChangeInput=[],e.eventChangeBet=[],e.cashLabel=null,e.lock=!1,e.init=function(){var t=v.default.getInstance().getMachine();e.setBettingList(t.bets,t.credit)},e.setDealUI=function(){e.setBettingUI(!0)},e.setBettingUI=function(t){e.dealButton.node.active=t,e.drawButton.node.active=!t},e.setDrawUI=function(){e.setBettingUI(!1)},e.unblockBetting=function(){e.lock=!1,e.setBettingInteraction(!0)},e.blockBetting=function(){e.lock=!0,e.setBettingInteraction(!1)},e.unblockDealDraw=function(){e.setDealDraw(!0)},e.blockDealDraw=function(){e.setDealDraw(!1)},e.setBettingInteraction=function(t){t?e.refreshBetting():(e.bet1Button.interactable=t,e.bet5Button.interactable=t,e.betPerHandButton&&(e.betPerHandButton.interactable=t),e.selectHandsButton&&(e.selectHandsButton.interactable=t)),e.onChangeInput(t)},e.onChangeInput=function(t){e.eventChangeInput.forEach(function(e){return e(t)})},e.setDealDraw=function(t){e.dealButton.interactable=t,e.drawButton.interactable=t},e.setBettingList=function(t,n){e.credit=n,e.bettingList=t,e.setTotalBet()},e.updateBettingList=function(t){e.bettingList=t,e.setTotalBet()},e.setTotalBet=function(){e.creditLabel.string=f.MoneyUtility.simplifyMoney(e.totalbet(),5)},e.totalbet=function(){return e.bettingList[e.index]*e.credit},e.onChangeBet=function(){e.refreshBetPerHand(),e.eventChangeBet.forEach(function(t){return t(e.getBet())})},e.plusBet=function(){var t=e.index+1;t>=e.bettingList.length||(e.index=t,e.refreshBetting())},e.minusBet=function(){var t=e.index-1;t<0||(e.index=t,e.refreshBetting())},e.circularBet=function(){var t=e.index+1;t>=e.bettingList.length&&(t=0),e.index=t,e.refreshBetting()},e.bet=function(){return e.bettingList[e.index]},e.requestingDeal=!1,e.requestingDraw=!1,e.sendDraw=function(){if(!e.requestingDraw){e.requestingDraw=!0;var t=new u.VIDEOPOKER_Draw_2S_1;t.hold=e.user.getHoldList(),t.seq=e.sequence,m.default.getInstance().drawToServer(t),e.blockBetting(),e.blockDealDraw()}},e.VIDEOPOKER_Deal_2C_1=function(t){e.requestingDeal=!1,e.sequence=t.seq},e.VIDEOPOKER_Draw_2C_1=function(t){e.requestingDraw=!1,e.sequence=t.seq},e.getCurrentIndex=function(){return e.index},e.getBet=function(){return e.bettingList[e.index]},e.playClickSound=function(){h.SoundPlayer.play(e.clickSound)},e}var n,r,s,b,C,O,P,w,I,E,j,D,A;return o(e,t),e.prototype.onLoad=function(){l.BroadCast.addReceiver(this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),_.default.addReceiver(this),this.init()},e.prototype.start=function(){this.index=y.default.getCloseBetting(this.bettingList,this.credit,g.default.getInstance().getCoin()),this.refreshBetting(),this.initialTotalalBet(),this.setDealUI(),this.onChangeBet()},e.prototype.onDestroy=function(){l.BroadCast.removeReceiver(this),_.default.removeReceiver(this)},e.prototype.eventSetBalance=function(t){this.cashLabel.string="$"+f.MoneyUtility.moneyToString(t.balance)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.space:this.dealButton.node.active&&this.dealButton.interactable?this.dealButton.clickEvents.forEach(function(t){return t.emit([])}):this.drawButton.node.active&&this.drawButton.interactable&&this.drawButton.clickEvents.forEach(function(t){return t.emit([])});break;case cc.macro.KEY.up:this.onPlus();break;case cc.macro.KEY.down:this.onMinus()}},e.prototype.refreshBetting=function(){this.lock||(this.bet1Button.interactable=0<this.index,this.bet5Button.interactable=this.index<this.bettingList.length-1,this.betPerHandButton&&(this.betPerHandButton.interactable=!0),this.selectHandsButton&&(this.selectHandsButton.interactable=!0))},e.prototype.onRefreshTotalBet=function(){this.setTotalBet()},e.prototype.initialTotalalBet=function(){this.creditLabel.string=f.MoneyUtility.simplifyMoney(this.bettingList[this.index]*this.credit,5)},e.prototype.setBetMin=function(){this.index=0,this.refreshBetting(),this.onChangeBet(),this.setTotalBet()},e.prototype.refreshBetPerHand=function(){this.betPerHandLabel&&(this.betPerHandLabel.string=f.MoneyUtility.simplifyMoney(this.getBet()*this.credit,5))},e.prototype.onMinus=function(){this.bet1Button.interactable&&(this.minusBet(),this.setTotalBet(),h.SoundPlayer.play(this.minusSound),this.onChangeBet())},e.prototype.onPlus=function(){this.bet5Button.interactable&&(this.plusBet(),this.setTotalBet(),h.SoundPlayer.play(this.plusSound),this.onChangeBet())},e.prototype.onBetPerHand=function(){this.betPerHandButton.interactable&&(this.circularBet(),this.setTotalBet(),h.SoundPlayer.play(this.plusSound),this.onChangeBet())},e.prototype.sendDeal=function(){if(!this.requestingDeal){this.requestingDeal=!0;var t=new c.VIDEOPOKER_Deal_2S_1;t.bet=this.bet(),m.default.getInstance().dealToSever(t),this.blockBetting(),this.blockDealDraw()}},e.prototype.allin=function(){this.setBetMin()},e.prototype.onDealButton=function(){!d.ConstData.autoholdSuggest||this.autoHold?!1!==this.possibleDeal(this.bettingList[0]*this.credit)?!1!==this.possibleDeal(this.bet()*this.credit)?(this.sendDeal(),this.playClickSound()):this.setBetMin():this.allin():d.ConstData.autoholdSuggest=!1},e.prototype.possibleDeal=function(t){return g.default.getInstance().getCoin()>=t},e.prototype.onDrawButton=function(){this.sendDraw(),this.playClickSound()},e.prototype.getCurrentMoney=function(){return this.bettingList[this.index]},e.prototype.exitGameButton=function(){cc.game.end()},i([R(p.VideoPokerPlayer),a("design:type","function"==typeof(n=void 0!==p.VideoPokerPlayer&&p.VideoPokerPlayer)?n:Object)],e.prototype,"user",void 0),i([R(cc.Label),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Label)?r:Object)],e.prototype,"creditLabel",void 0),i([R(cc.Button),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Button)?s:Object)],e.prototype,"dealButton",void 0),i([R(cc.Button),a("design:type","function"==typeof(b="undefined"!=typeof cc&&cc.Button)?b:Object)],e.prototype,"drawButton",void 0),i([R(cc.Button),a("design:type","function"==typeof(C="undefined"!=typeof cc&&cc.Button)?C:Object)],e.prototype,"bet1Button",void 0),i([R(cc.Button),a("design:type","function"==typeof(O="undefined"!=typeof cc&&cc.Button)?O:Object)],e.prototype,"bet5Button",void 0),i([R(cc.Button),a("design:type","function"==typeof(P="undefined"!=typeof cc&&cc.Button)?P:Object)],e.prototype,"betPerHandButton",void 0),i([R(cc.Button),a("design:type","function"==typeof(w="undefined"!=typeof cc&&cc.Button)?w:Object)],e.prototype,"selectHandsButton",void 0),i([R(cc.Label),a("design:type","function"==typeof(I="undefined"!=typeof cc&&cc.Label)?I:Object)],e.prototype,"betPerHandLabel",void 0),i([R({type:cc.AudioClip}),a("design:type","function"==typeof(E="undefined"!=typeof cc&&cc.AudioClip)?E:Object)],e.prototype,"clickSound",void 0),i([R({type:cc.AudioClip}),a("design:type","function"==typeof(j="undefined"!=typeof cc&&cc.AudioClip)?j:Object)],e.prototype,"plusSound",void 0),i([R({type:cc.AudioClip}),a("design:type","function"==typeof(D="undefined"!=typeof cc&&cc.AudioClip)?D:Object)],e.prototype,"minusSound",void 0),i([R(cc.Label),a("design:type","function"==typeof(A="undefined"!=typeof cc&&cc.Label)?A:Object)],e.prototype,"cashLabel",void 0),i([S],e)}(cc.Component);n.default=C,cc._RF.pop()},{"../../protocols/VIDEOPOKER_Deal_2S_1":"VIDEOPOKER_Deal_2S_1","../../protocols/VIDEOPOKER_Draw_2S_1":"VIDEOPOKER_Draw_2S_1","../BroadCast":"BroadCast","../Const":"Const","../EventBroadCast":"EventBroadCast","../standalone/GameServer":"GameServer","../standalone/MachineData":"MachineData","../standalone/UserData":"UserData","../utils/MoneyUtility":"MoneyUtility","../utils/SoundController":"SoundController","./FindBet":"FindBet","./VideoPokerPlayer":"VideoPokerPlayer","firebase/analytics":9}],BroadCast:[function(t,e,n){"use strict";cc._RF.push(e,"f743fUeP5pGtbXU8z3B2pSO","BroadCast"),Object.defineProperty(n,"__esModule",{value:!0}),n.BroadCast=void 0;var r=function(){function t(){}return t.addReceiver=function(e){t.networkRecivers.indexOf(e)<0&&t.networkRecivers.push(e)},t.removeReceiver=function(e){t.networkRecivers=t.networkRecivers.filter(function(t){return t!==e})},t.getHandlerId=function(e){var n=JSON.parse(e).id;return t.replaceNamePolicy(n)},t.replaceNamePolicy=function(t){return null==t||null==t?"":t.split(".").join("_")},t.invoke=function(t,e,n){return!!(t[e]&&t[e]instanceof Function)&&(t[e](n),!0)},t.dispatch=function(e,n){var r=0;t.networkRecivers.forEach(function(o){!0===t.invoke(o,t.replaceNamePolicy(e),n)&&++r}),0===r&&console.log("There is no handler : "+e)},t.networkRecivers=new Array,t}();n.BroadCast=r,cc._RF.pop()},{}],CASINO_AdWatchingReward_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"a90efZPsDlOlJD1VeLAAEJJ","CASINO_AdWatchingReward_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_AdWatchingReward_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="CASINO.AdWatchingReward.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.adID="",this.coin=0}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("aid"),o("design:type",String)],t.prototype,"adID",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_AdWatchingReward_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_AdWatchingReward_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"eaee2JpFKdMOYRfVAqQ85eM","CASINO_AdWatchingReward_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_AdWatchingReward_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.AdWatchingReward.2S.1",this.id=this.ID,this.adID=""}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("aid"),o("design:type",String)],t.prototype,"adID",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_AdWatchingReward_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_AddSpecialDeal_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"48db0h9EI9N4ZX4L5PTShCF","CASINO_AddSpecialDeal_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_AddSpecialDeal_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="CASINO.AddSpecialDeal.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.deals=new Array}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("ds"),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"deals",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_AddSpecialDeal_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_AddSpecialDeal_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"b097e9AQdNJEYVxqs0b3WiE","CASINO_AddSpecialDeal_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_AddSpecialDeal_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.AddSpecialDeal.2S.1",this.id=this.ID,this.productID=""}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("pid"),o("design:type",String)],t.prototype,"productID",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_AddSpecialDeal_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_BonusBoost:[function(t,e,n){"use strict";cc._RF.push(e,"e73dauO/zBKiL80/g/PxVoT","CASINO_BonusBoost");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_BonusBoost=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.level=1,this.multiplier=1,this.levelPointCurrent=0,this.levelPointNext=0}return r([i.JsonProperty("lv"),o("design:type",Number)],t.prototype,"level",void 0),r([i.JsonProperty("m"),o("design:type",Number)],t.prototype,"multiplier",void 0),r([i.JsonProperty("pc"),o("design:type",Number)],t.prototype,"levelPointCurrent",void 0),r([i.JsonProperty("pn"),o("design:type",Number)],t.prototype,"levelPointNext",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_BonusBoost=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_BonusState:[function(t,e,n){"use strict";cc._RF.push(e,"e5d14xokj9FqJMb+cEq4Vtw","CASINO_BonusState");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_BonusState=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.available=!1,this.interval=0,this.nextTime=0,this.maxCoin=0}return r([i.JsonProperty("av"),o("design:type",Boolean)],t.prototype,"available",void 0),r([i.JsonProperty("itv"),o("design:type",Number)],t.prototype,"interval",void 0),r([i.JsonProperty("ntm"),o("design:type",Number)],t.prototype,"nextTime",void 0),r([i.JsonProperty("mco"),o("design:type",Number)],t.prototype,"maxCoin",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_BonusState=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_CollectDailyBonus_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"97cafPCvllH3qcivRg5spC6","CASINO_CollectDailyBonus_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_CollectDailyBonus_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="CASINO.CollectDailyBonus.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.wheel=new Array,this.coin=0,this.jackpot=!1}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("whl"),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"wheel",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.JsonProperty("jk"),o("design:type",Boolean)],t.prototype,"jackpot",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_CollectDailyBonus_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_CollectDailyBonus_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"eb358c/B2VJurAgmrYvAmDO","CASINO_CollectDailyBonus_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_CollectDailyBonus_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.CollectDailyBonus.2S.1",this.id=this.ID}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_CollectDailyBonus_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_CollectHourBonus_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"b73d1YvpjNMc5fAFmNg7DXo","CASINO_CollectHourBonus_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_CollectHourBonus_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="CASINO.CollectHourBonus.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.coin=0,this.jackpot=!1}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.JsonProperty("jk"),o("design:type",Boolean)],t.prototype,"jackpot",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_CollectHourBonus_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_CollectHourBonus_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"1e6d56QLiVE3opqKxBpH0aP","CASINO_CollectHourBonus_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_CollectHourBonus_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.CollectHourBonus.2S.1",this.id=this.ID}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_CollectHourBonus_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_CollectMinuteBonus_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"146b7qirwRGG7FWjwoBoNsa","CASINO_CollectMinuteBonus_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_CollectMinuteBonus_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="CASINO.CollectMinuteBonus.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.coin=0,this.jackpot=!1}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.JsonProperty("jk"),o("design:type",Boolean)],t.prototype,"jackpot",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_CollectMinuteBonus_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_CollectMinuteBonus_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"ded27W7K3hF1ripjARVP6Hv","CASINO_CollectMinuteBonus_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_CollectMinuteBonus_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.CollectMinuteBonus.2S.1",this.id=this.ID}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_CollectMinuteBonus_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_ContentEntry:[function(t,e,n){"use strict";cc._RF.push(e,"734d9QXLZZCy4bZXw/sA28s","CASINO_ContentEntry");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_ContentEntry=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.type="",this.no=0,this.title="",this.status="",this.properties=new Map,this.since=0,this.popularity=0,this.totalPlayCount=0,this.totalWinAmount=0,this.maxWinAmount=0,this.firstPlayTime=0,this.lastPlayTime=0}var e;return r([i.JsonProperty("ty"),o("design:type",String)],t.prototype,"type",void 0),r([i.JsonProperty("no"),o("design:type",Number)],t.prototype,"no",void 0),r([i.JsonProperty("tit"),o("design:type",String)],t.prototype,"title",void 0),r([i.JsonProperty("st"),o("design:type",String)],t.prototype,"status",void 0),r([i.JsonProperty("ps"),o("design:type","function"==typeof(e="undefined"!=typeof Map&&Map)?e:Object)],t.prototype,"properties",void 0),r([i.JsonProperty("sin"),o("design:type",Number)],t.prototype,"since",void 0),r([i.JsonProperty("pop"),o("design:type",Number)],t.prototype,"popularity",void 0),r([i.JsonProperty("tpc"),o("design:type",Number)],t.prototype,"totalPlayCount",void 0),r([i.JsonProperty("twa"),o("design:type",Number)],t.prototype,"totalWinAmount",void 0),r([i.JsonProperty("mwa"),o("design:type",Number)],t.prototype,"maxWinAmount",void 0),r([i.JsonProperty("ftm"),o("design:type",Number)],t.prototype,"firstPlayTime",void 0),r([i.JsonProperty("ltm"),o("design:type",Number)],t.prototype,"lastPlayTime",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_ContentEntry=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_ContentState:[function(t,e,n){"use strict";cc._RF.push(e,"2102drSUWFB568oLqBJIzkr","CASINO_ContentState");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_ContentState=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.type="",this.no=0,this.bets=new Array}var e;return r([i.JsonProperty("ty"),o("design:type",String)],t.prototype,"type",void 0),r([i.JsonProperty("no"),o("design:type",Number)],t.prototype,"no",void 0),r([i.JsonProperty("bts"),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"bets",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_ContentState=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_GetAccount_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"f3076gZKZFCualR9dWgl0T9","CASINO_GetAccount_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GetAccount_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=t("./CASINO_Level"),c=t("./CASINO_BonusBoost"),u=function(){function t(){this.ID="CASINO.GetAccount.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.userNo=0,this.coin=0,this.exp=0,this.boostPoint=0,this.level=new s.CASINO_Level,this.boost=new c.CASINO_BonusBoost}var e,n,u;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("uno"),o("design:type",Number)],t.prototype,"userNo",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.JsonProperty("x"),o("design:type",Number)],t.prototype,"exp",void 0),r([i.JsonProperty("bp"),o("design:type",Number)],t.prototype,"boostPoint",void 0),r([i.JsonProperty("lv"),o("design:type","function"==typeof(n=void 0!==s.CASINO_Level&&s.CASINO_Level)?n:Object)],t.prototype,"level",void 0),r([i.JsonProperty("b"),o("design:type","function"==typeof(u=void 0!==c.CASINO_BonusBoost&&c.CASINO_BonusBoost)?u:Object)],t.prototype,"boost",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_GetAccount_2C_1=u,cc._RF.pop()},{"./CASINO_BonusBoost":"CASINO_BonusBoost","./CASINO_Level":"CASINO_Level","./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_GetAccount_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"d89a3ejEN5MIqiZUO26KDFe","CASINO_GetAccount_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GetAccount_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.GetAccount.2S.1",this.id=this.ID,this.userNo=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("uno"),o("design:type",Number)],t.prototype,"userNo",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_GetAccount_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_GetBonusRequest_2C:[function(t,e,n){"use strict";cc._RF.push(e,"c6733WxVYtKpqkp74rEE8Q+","CASINO_GetBonusRequest_2C");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GetBonusRequest_2C=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="CASINO.GetBonusRequest.2C",this.id=this.ID,this.status=new a.SR_Status,this.quantity=0}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("q"),o("design:type",Number)],t.prototype,"quantity",void 0),t}();n.CASINO_GetBonusRequest_2C=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_GetBonusRequest_2S:[function(t,e,n){"use strict";cc._RF.push(e,"a22bfgf5lBBBZk8ghBor4h7","CASINO_GetBonusRequest_2S");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GetBonusRequest_2S=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.GetBonusRequest.2S",this.id=this.ID,this.quantity=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("q"),o("design:type",Number)],t.prototype,"quantity",void 0),t}();n.CASINO_GetBonusRequest_2S=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_GetBonusState_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"ae148ODxApBTIVpqBogZYH9","CASINO_GetBonusState_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GetBonusState_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=t("./CASINO_BonusState"),c=t("./CASINO_StoreBonusState"),u=function(){function t(){this.ID="CASINO.GetBonusState.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.dailyBonus=new s.CASINO_BonusState,this.hourBonus=new s.CASINO_BonusState,this.minuteBonus=new s.CASINO_BonusState,this.storeBonus=new c.CASINO_StoreBonusState,this.pushEnableBonusTime=0,this.facebookAuthBonusTime=0}var e,n,u,l,p;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("db"),o("design:type","function"==typeof(n=void 0!==s.CASINO_BonusState&&s.CASINO_BonusState)?n:Object)],t.prototype,"dailyBonus",void 0),r([i.JsonProperty("hb"),o("design:type","function"==typeof(u=void 0!==s.CASINO_BonusState&&s.CASINO_BonusState)?u:Object)],t.prototype,"hourBonus",void 0),r([i.JsonProperty("mb"),o("design:type","function"==typeof(l=void 0!==s.CASINO_BonusState&&s.CASINO_BonusState)?l:Object)],t.prototype,"minuteBonus",void 0),r([i.JsonProperty("sb"),o("design:type","function"==typeof(p=void 0!==c.CASINO_StoreBonusState&&c.CASINO_StoreBonusState)?p:Object)],t.prototype,"storeBonus",void 0),r([i.JsonProperty("peb"),o("design:type",Number)],t.prototype,"pushEnableBonusTime",void 0),r([i.JsonProperty("fab"),o("design:type",Number)],t.prototype,"facebookAuthBonusTime",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_GetBonusState_2C_1=u,cc._RF.pop()},{"./CASINO_BonusState":"CASINO_BonusState","./CASINO_StoreBonusState":"CASINO_StoreBonusState","./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_GetBonusState_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"a5e37DhDFpLHLK58ssFR1az","CASINO_GetBonusState_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GetBonusState_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.GetBonusState.2S.1",this.id=this.ID}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_GetBonusState_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_GetContentEntries_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"c50c6dM+79M1psWEtHQvdqd","CASINO_GetContentEntries_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GetContentEntries_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=t("./CASINO_ContentEntry"),c=function(){function t(){this.ID="CASINO.GetContentEntries.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.entries=new Array}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty({name:"es",type:s.CASINO_ContentEntry}),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"entries",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_GetContentEntries_2C_1=c,cc._RF.pop()},{"./CASINO_ContentEntry":"CASINO_ContentEntry","./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_GetContentEntries_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"87105Mj4YZOtLrRg1iw6Qk6","CASINO_GetContentEntries_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GetContentEntries_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.GetContentEntries.2S.1",this.id=this.ID,this.type=""}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("ty"),o("design:type",String)],t.prototype,"type",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_GetContentEntries_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_GreetingComeBack_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"ca7e7VGecpDn5ICrKwROSod","CASINO_GreetingComeBack_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GreetingComeBack_2C_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.GreetingComeBack.2C.1",this.id=this.ID,this.coin=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_GreetingComeBack_2C_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_GreetingWelcome_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"c07195CLA9K5rhkUURlDELX","CASINO_GreetingWelcome_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_GreetingWelcome_2C_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="CASINO.GreetingWelcome.2C.1",this.id=this.ID,this.coin=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_GreetingWelcome_2C_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_LevelUp_C2_1:[function(t,e,n){"use strict";cc._RF.push(e,"6da35aeYnhFZb0QTGlpC18e","CASINO_LevelUp_C2_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_LevelUp_C2_1=void 0;var i=t("typescript-json-serializer"),a=t("./CASINO_ContentState"),s=function(){function t(){this.ID="CASINO.LevelUp.C2.1",this.id=this.ID,this.levelFrom=1,this.levelTo=1,this.reward=0,this.contentState=new a.CASINO_ContentState}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("lvf"),o("design:type",Number)],t.prototype,"levelFrom",void 0),r([i.JsonProperty("lvt"),o("design:type",Number)],t.prototype,"levelTo",void 0),r([i.JsonProperty("rw"),o("design:type",Number)],t.prototype,"reward",void 0),r([i.JsonProperty("cst"),o("design:type","function"==typeof(e=void 0!==a.CASINO_ContentState&&a.CASINO_ContentState)?e:Object)],t.prototype,"contentState",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_LevelUp_C2_1=s,cc._RF.pop()},{"./CASINO_ContentState":"CASINO_ContentState","typescript-json-serializer":17}],CASINO_Level:[function(t,e,n){"use strict";cc._RF.push(e,"181f11x7sVIYamcfMbc0oc5","CASINO_Level");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_Level=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.current=1,this.expCurrent=0,this.expNext=0}return r([i.JsonProperty("c"),o("design:type",Number)],t.prototype,"current",void 0),r([i.JsonProperty("xc"),o("design:type",Number)],t.prototype,"expCurrent",void 0),r([i.JsonProperty("xn"),o("design:type",Number)],t.prototype,"expNext",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_Level=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_PurchasedItem_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"b43b2izFN1BdJ4T+cKH8+A/","CASINO_PurchasedItem_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_PurchasedItem_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="CASINO.PurchasedItem.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.productID="",this.coin=0}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("pid"),o("design:type",String)],t.prototype,"productID",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_PurchasedItem_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],CASINO_SpecialDeal:[function(t,e,n){"use strict";cc._RF.push(e,"e40199bhBxILrqhkZrnPOoF","CASINO_SpecialDeal");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_SpecialDeal=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.productID="",this.startTime=0,this.expiry=0}return r([i.JsonProperty("pid"),o("design:type",String)],t.prototype,"productID",void 0),r([i.JsonProperty("stm"),o("design:type",Number)],t.prototype,"startTime",void 0),r([i.JsonProperty("exp"),o("design:type",Number)],t.prototype,"expiry",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_SpecialDeal=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_StoreBonusState:[function(t,e,n){"use strict";cc._RF.push(e,"e7ec1A32UtJY63Sy9R87DOo","CASINO_StoreBonusState");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_StoreBonusState=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.available=!1,this.interval=0,this.nextTime=0}return r([i.JsonProperty("av"),o("design:type",Boolean)],t.prototype,"available",void 0),r([i.JsonProperty("itv"),o("design:type",Number)],t.prototype,"interval",void 0),r([i.JsonProperty("ntm"),o("design:type",Number)],t.prototype,"nextTime",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_StoreBonusState=a,cc._RF.pop()},{"typescript-json-serializer":17}],CASINO_Subscription:[function(t,e,n){"use strict";cc._RF.push(e,"ceffaYJd2FDPaPzkhaNI+Cc","CASINO_Subscription");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.CASINO_Subscription=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.productID="",this.duration=0,this.startTime=0,this.available=!1}return r([i.JsonProperty("pid"),o("design:type",String)],t.prototype,"productID",void 0),r([i.JsonProperty("dur"),o("design:type",Number)],t.prototype,"duration",void 0),r([i.JsonProperty("stm"),o("design:type",Number)],t.prototype,"startTime",void 0),r([i.JsonProperty("av"),o("design:type",Boolean)],t.prototype,"available",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.CASINO_Subscription=a,cc._RF.pop()},{"typescript-json-serializer":17}],CardFactory:[function(t,e,n){"use strict";cc._RF.push(e,"cd484fyH45Bf6uRwunhyW4A","CardFactory");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.use2AsWild=!1,e.cards=[],e.alterCards=[],e.back=null,e.getDeucesWildCard=function(t,n){return 1!==e.getNo(n)&&console.log("no alter card  image ( suit : "+t+", no : "+n),e.alterCards[e.getSuit(t)]},e.getCard=function(t,n){if(e.use2AsWild&&1===e.getNo(n))return e.getDeucesWildCard(t,n);var r=e.getIndex(t,n);return r>=e.cards.length&&console.log("no card image ( suit : "+t+", no : "+n+", index : "+r),e.cards[r]},e.getIndex=function(t,n){return 13*e.getSuit(t)+e.getNo(n)},e}var n,r;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.use2AsWild=!1},e.prototype.getCardBack=function(){return this.back},e.prototype.getNo=function(t){var e=0;switch(t){case"A":e=0;break;case"2":e=1;break;case"3":e=2;break;case"4":e=3;break;case"5":e=4;break;case"6":e=5;break;case"7":e=6;break;case"8":e=7;break;case"9":e=8;break;case"T":e=9;break;case"J":e=10;break;case"Q":e=11;break;case"K":e=12;break;case"W":e=0}return e},e.prototype.getSuit=function(t){var e=0;switch(t){case"S":e=0;break;case"D":e=1;break;case"H":e=2;break;case"C":e=3;break;case"W":e=4}return e},e.instance=null,i([u([cc.SpriteFrame]),a("design:type",Array)],e.prototype,"cards",void 0),i([u([cc.SpriteFrame]),a("design:type",Array)],e.prototype,"alterCards",void 0),i([u(cc.SpriteFrame),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.SpriteFrame)?r:Object)],e.prototype,"back",void 0),n=i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Card:[function(t,e,n){"use strict";cc._RF.push(e,"1cd8avAGv1E2rsis9k+ST3/","Card");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=s(t("./CardFactory")),u=cc._decorator,l=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.card=null,e.holdMark=null,e.hold=!1,e.suit="",e.no="",e.eventHold=[],e.setCardBack=function(){e.suit="",e.no="",e.holdCard(!1),e.card.spriteFrame=c.default.instance.getCardBack(),e.back=!0},e.setCard=function(t,n){e.suit=t,e.no=n,e.back=!1,e.card.spriteFrame=c.default.instance.getCard(t,n)},e.cloneCard=function(t){t.hold?(e.setCard(t.suit,t.no),e.holdCard(t.hold)):(e.holdCard(!1),e.setCardBack())},e.setDimed=function(t){e.card.node.color=t?new cc.Color(153,153,153):cc.Color.WHITE},e.holdCard=function(t){e.back||(e.hold=t,null!==e.holdMark&&(e.holdMark.active=t),e.onChangeHold(e))},e.btn=null,e.onChangeHold=function(t){e.eventHold.forEach(function(e){return e(t)})},e}var n,r;return o(e,t),e.prototype.onLoad=function(){this.holdCard(!1),this.setCardBack()},e.prototype.needToFlip=function(t,e){return!(this.suit==t&&this.no==e)},e.prototype.setTouchable=function(t){this.btn||(this.btn=this.node.getComponent(cc.Button)),this.btn.interactable=t},e.prototype.OnTouchCard=function(){this.holdCard(!this.hold)},i([p(cc.Sprite),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Sprite)?n:Object)],e.prototype,"card",void 0),i([p(cc.Node),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Node)?r:Object)],e.prototype,"holdMark",void 0),i([l],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./CardFactory":"CardFactory"}],ClickSound:[function(t,e,n){"use strict";cc._RF.push(e,"5ae5e63CqJIMq1Q6rqP9fbE","ClickSound");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../utils/SoundController"),c=cc._decorator,u=c.ccclass,l=c.property,p=c.requireComponent,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clip=null,e}var n;return o(e,t),e.prototype.onLoad=function(){var t=this.node.getComponent(cc.Button),e=new cc.Component.EventHandler;e.component="ClickSound",e.target=this.node,e.handler="onClick",t.clickEvents.push(e)},e.prototype.onClick=function(){s.SoundPlayer.play(this.clip)},i([l({type:cc.AudioClip}),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.AudioClip)?n:Object)],e.prototype,"clip",void 0),i([u,p(cc.Button)],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../utils/SoundController":"SoundController"}],ConfirmPopup:[function(t,e,n){"use strict";cc._RF.push(e,"ac366sOcFJB8bn1FKM5LfpL","ConfirmPopup");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClose=null,e.titleLabel=null,e.descLabel=null,e}var n,r,s;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.show(!1)},e.prototype.setParent=function(t){n.instance&&(n.instance.node.parent=t)},e.prototype.showPopup=function(t,e,r){this.titleLabel.string=t,this.descLabel.string=e,this.onClose=r,n.instance.show(!0)},e.prototype.show=function(t){this.node.active=t},e.prototype.onCloseButton=function(){this.show(!1),this.onClose()},e.instance=null,i([u(cc.Label),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Label)?r:Object)],e.prototype,"titleLabel",void 0),i([u(cc.Label),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Label)?s:Object)],e.prototype,"descLabel",void 0),n=i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Const:[function(t,e,n){"use strict";var r;cc._RF.push(e,"5b2d5qr/BpPwb9XLGUZoQZs","Const"),Object.defineProperty(n,"__esModule",{value:!0}),n.DECK_COUNT=n.Level=n.Messages=n.SCENE=n.ConstData=n.GAME_TYPES=void 0,function(t){t[t.SLOTS=20001]="SLOTS",t[t.MINI_GAME=999]="MINI_GAME",t[t.VIDEO_POKER=1e3]="VIDEO_POKER",t[t.NONE=-1]="NONE"}(r=n.GAME_TYPES||(n.GAME_TYPES={}));var o=function(){function t(){}return t.getGameType=function(t){return t>=r.SLOTS?r.SLOTS:t<=r.MINI_GAME?r.MINI_GAME:r.VIDEO_POKER},t.MAX_CARDS=5,t.FLIP_DURATION=.25,t.DELAY=.1,t.lastPlayedGameNo=0,t.autoholdSuggest=!1,t.INSTANT_TOURNAMENT_GAME_COUNT=16,t.RANKING_REFRESH_CYCLE_TIME=3e5,t.TOURNAMENT_TICKET=!1,t.colors=[new cc.Color(255,0,0),new cc.Color(245,255,0),new cc.Color(79,170,5),new cc.Color(33,167,251),new cc.Color(170,71,222)],t.rankingLimitCoin=1e7,t.walletID="",t}();n.ConstData=o,function(t){t.INTRO="intro",t.LOBBY="lobby",t.GAME="game",t.GAME_MULTI_DECK="game_multi_deck",t.HOT_TRIPLE_SEVEN="hot_triple_seven",t.TWILIGHT_BUFFALO="twilight_buffalo"}(n.SCENE||(n.SCENE={}));var i=function(){function t(){}return t.DUPLICATED_SESSION="You've loaded the game\nfrom another device.\nPlease close the game.",t.DISCONNECTED_SERVER="Disconnected from the server,\nPlease click on the Reconnect button below to come back",t.DICCONNECTED_ERROR="Look likes there was a problem.\nPlease click on the Reconnect button below to come back",t}();n.Messages=i;var a=function(){function t(){}return t.steps=[15,30,60,100,1e3],t.max=500,t}();n.Level=a,function(t){t[t.SINGLE=-1]="SINGLE",t[t.TRIPLE=0]="TRIPLE",t[t.FIVE=1]="FIVE",t[t.TEN=2]="TEN"}(n.DECK_COUNT||(n.DECK_COUNT={})),cc._RF.pop()},{}],Counter:[function(t,e,n){"use strict";cc._RF.push(e,"8c69aw2X9BLN40MiH32k5f2","Counter");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../utils/MoneyUtility"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.from=0,e.to=0,e.duration=0,e.elap=0,e.updating=!1,e}var n;return o(e,t),e.prototype.setValue=function(t){this.to=t,this.updating=!1,this.label.string=s.MoneyUtility.moneyToString(t)},e.prototype.skip=function(){this.updating=!1,this.label.string=s.MoneyUtility.moneyToString(this.to)},e.prototype.getLastValue=function(){return this.to},e.prototype.count=function(t,e,n){this.from=t,this.to=e,this.duration=n,this.elap=0,this.updating=!0},e.prototype.update=function(t){this.updating&&(null===this.label&&(this.label=this.node.getComponent(cc.Label)),this.label.string=s.MoneyUtility.moneyToString(Math.floor(cc.misc.lerp(this.from,this.to,this.elap/this.duration))),this.elap+=t,this.elap>this.duration&&this.setValue(this.to))},i([l(cc.Label),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Label)?n:Object)],e.prototype,"label",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../utils/MoneyUtility":"MoneyUtility"}],DayCheck:[function(t,e,n){"use strict";cc._RF.push(e,"4cd96oPif9D7JeLVGtX+qwJ","DayCheck"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.isToday=function(t){var e=new Date,n=new Date(t);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()},t}();n.default=r,cc._RF.pop()},{}],EventBroadCast:[function(t,e,n){"use strict";cc._RF.push(e,"cd9a4Dz63tC7rVXVmM1AR9C","EventBroadCast");var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var o=r(t("./MessageHolder")),i=function(){function t(){}return t.setBalance=function(){t.dispatch("eventSetBalance",{balance:o.default.instance.coin})},t.drawToClient=function(e){t.dispatch("VIDEOPOKER_Draw_2C_1",e)},t.dealToClient=function(e){t.dispatch("VIDEOPOKER_Deal_2C_1",e)},t.addReceiver=function(e){t.eventRecivers.indexOf(e)<0&&t.eventRecivers.push(e)},t.removeReceiver=function(e){t.eventRecivers=t.eventRecivers.filter(function(t){return t!==e})},t.replaceNamePolicy=function(t){return t},t.invoke=function(t,e,n){return!!(t[e]&&t[e]instanceof Function)&&(t[e](n),!0)},t.dispatch=function(e,n){var r=0;t.eventRecivers.forEach(function(o){!0===t.invoke(o,t.replaceNamePolicy(e),n)&&++r}),0===r&&console.log("There is no event handler : "+e)},t.eventRecivers=new Array,t}();n.default=i,cc._RF.pop()},{"./MessageHolder":"MessageHolder"}],ExpGaugeUI:[function(t,e,n){"use strict";cc._RF.push(e,"3b6ffZWKRhC8pVSGrj2npWw","ExpGaugeUI");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.ExpGaugeUI=void 0;var c=s(t("./GaugeUI")),u=t("../Const"),l=function(){this.level=0,this.fromExp=0,this.nextExp=0,this.exp=0},p=cc._decorator,f=p.ccclass,d=p.property,h=(p.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expInfoList=new Array,e.duration=1,e.level=0,e.rate=0,e.updating=!1,e.expInfo=null,e.elased=0,e.lastExp=0,e.progress=null,e.label=null,e.lbRate=null,e.displayLevel=!1,e.preword="Lv.",e.addExpInfo=function(t,n,r,o){if(e.lastExp!==o){var i=new l;i.level=t,i.fromExp=n,i.nextExp=r,i.exp=o,e.expInfoList.push(i),e.lastExp=o}},e.init=function(t,n,r,o,i){e.displayLevel=i,e.lastExp=o,e.level=t,e.rate=(o-n)/(r-n),e.levelUp(t),e.progress.value=e.rate,e.lbRate&&(e.lbRate.string=Math.floor(100*e.rate).toString()+"%")},e.updateEXP=function(){!0!==e.updating&&0!=e.expInfoList.length&&(e.expInfo=e.expInfoList[0],e.updating=!0,e.elased=0,e.expInfoList=e.expInfoList.filter(function(t){return t!==e.expInfo}))},e}var n,r,s;return o(e,t),e.prototype.levelUp=function(t){t=this.displayLevel?[0,1,2,3,4,5,10][t]:t,this.label.string=this.preword+t.toString()},e.prototype.increaseGauge=function(t){if(!1!==this.updating){this.duration=1/this.easeInOutQuad(10,1,this.level/this.expInfo.level);var e=this.elased/this.duration,n=this.rate,r=this.level==this.expInfo.level?(this.expInfo.exp-this.expInfo.fromExp)/(this.expInfo.nextExp-this.expInfo.fromExp):1;if(e>=1){if(this.level==this.expInfo.level)return this.rate=r,void(this.updating=!1);this.elased=0}r>=1&&(this.level++,this.rate=0,this.levelUp(this.level),console.log("this.level:"+this.level),console.log("this.expInfo:"+this.expInfo.level)),this.progress.value=cc.misc.lerp(n,r,e),this.lbRate&&(this.lbRate.string=Math.floor(100*this.progress.value).toString()+"%"),this.elased+=t}},e.prototype.update=function(t){this.level>=u.Level.max||(this.increaseGauge(t),this.updateEXP())},e.prototype.easeInOutQuad=function(t,e,n){return e-=t,(n/=.5)<1?.5*e*n*n+t:.5*-e*(--n*(n-2)-1)+t},i([d(c.default),a("design:type","function"==typeof(n=void 0!==c.default&&c.default)?n:Object)],e.prototype,"progress",void 0),i([d(cc.Label),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Label)?r:Object)],e.prototype,"label",void 0),i([d(cc.Label),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Label)?s:Object)],e.prototype,"lbRate",void 0),i([f],e)}(cc.Component));n.ExpGaugeUI=h,cc._RF.pop()},{"../Const":"Const","./GaugeUI":"GaugeUI"}],FindBet:[function(t,e,n){"use strict";cc._RF.push(e,"fdbd4R7N2xEuYMcLNPQuSls","FindBet"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.getCloseBetting=function(t,e,n){for(var r=n/150,o=0;o<t.length;++o)if(r-t[o]*e<=0)return o;return t.length-1},t}();n.default=r,cc._RF.pop()},{}],Firebase:[function(t,e,n){"use strict";cc._RF.push(e,"df425qYmsVM1KZj2Rbkbksj","Firebase");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e};Object.defineProperty(n,"__esModule",{value:!0});var u=c(t("firebase/app"));t("firebase/analytics"),t("firebase/database");var l=t("../Const"),p=cc._decorator,f=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerRankingData=null,e.userList=[],e.handRankList=[],e.retrivedHandRankDatas=!1,e.dateObject=new Date,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,n.initialize()},e.initialize=function(){u.initializeApp({apiKey:"AIzaSyD_BUa86zF7SVdBxjGGH1GoKSBWCx-2jtE",authDomain:"video-poker-standalone.firebaseapp.com",projectId:"video-poker-standalone",storageBucket:"video-poker-standalone.appspot.com",messagingSenderId:"695485146114",appId:"1:695485146114:web:68d5f491dc4f889dc3731b",measurementId:"G-WHPV5LH0MJ"})},e.prototype.onDestroy=function(){n.instance=null},e.prototype.writeHandRankingData=function(t,e,n,r,o,i){var a={},s="/handRankings/"+t+"/"+o;a[s+"/record_time"]=this.dateObject.getTime(),a[s+"/totalbet"]=n,a[s+"/coin"]=e,a[s+"/hands"]=r,a[s+"/id"]=l.ConstData.walletID,u.database().ref().update(a,i)},e.instance=null,n=s([f],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../Const":"Const","firebase/analytics":9,"firebase/app":10,"firebase/database":11}],FixedBet:[function(t,e,n){"use strict";cc._RF.push(e,"4c48aE+cthIfYA+17eFnTTi","FixedBet");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("./FindBet")),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getCloseBetting=function(){return 0},i([u],e)}(s.default));n.default=l,cc._RF.pop()},{"./FindBet":"FindBet"}],GameServer:[function(t,e,n){"use strict";cc._RF.push(e,"a90b4cCDhNAVLnnEl93B6p2","GameServer");var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../protocols/SR_Status"),i=t("../../protocols/VIDEOPOKER_Card"),a=t("../../protocols/VIDEOPOKER_Deal_2C_1"),s=t("../../protocols/VIDEOPOKER_Draw_2C_1"),c=t("../Const"),u=r(t("../EventBroadCast")),l=r(t("../modules/Firebase")),p=t("../modules/Random"),f=t("poker-hands"),d=function(){function t(){this.cardDeck=[],this.deals=[],this.sequence=0,this.bet=0,this.getUrlParams(),this.sequence=0}return t.prototype.getUrlParams=function(){var t=new URLSearchParams(window.location.search);t.has("userid")&&(c.ConstData.walletID=t.get("userid"),console.warn("set userid from urlParam",c.ConstData.walletID))},t.prototype.makeDeck=function(){for(var t=[],e=["S","D","H","C"],n=["A","2","3","4","5","6","7","8","9","T","J","Q","K"],r=0;r<4;++r)for(var o=0;o<13;++o)t.push(""+e[r]+n[o]);return t},t.prototype.deal=function(t){this.cardDeck=p.Random.shuffle(this.cardDeck);for(var e=this.cardDeck.splice(0,t),n=new Array,r=0;r<e.length;++r){var o=new i.VIDEOPOKER_Card;o.suit=e[r].charAt(0),o.rank=e[r].charAt(1),n.push(o)}return n},t.prototype.getDealData=function(t){var e=new a.VIDEOPOKER_Deal_2C_1;return this.deals=this.deal(5),e.cards=this.deals,e.status=this.status(),e.hold=[!1,!1,!1,!1,!1],e.bet=t,e.matched=[!1,!1,!1,!1,!1],e.pay=0,e.seq=++this.sequence,e},t.prototype.getDrawData=function(t){for(var e=0;e<this.deals.length;++e)if(!t[e]){var n=this.cardDeck.splice(0,1);this.deals[e].suit=n[0].charAt(0),this.deals[e].rank=n[0].charAt(1)}var r=new s.VIDEOPOKER_Draw_2C_1;r.cards=this.deals,r.status=this.status(),r.seq=this.sequence;var o=this.findRank(this.getCardString(this.deals));if(r.pay=o.pay*this.bet,r.rankIndex=o.rank,r.rankTitle=o.title,r.matched=this.getMatched(o.rank,o.result),r.hasRank=!1,o.rank<10&&o.rank>=0){console.warn(o.result);var i=Date.now().toString();l.default.instance.writeHandRankingData(""+o.rank,5e3*r.pay,5e3*this.bet,this.getCardString(this.deals),i,function(){console.warn("write success")})}return r},t.prototype.getCardString=function(t){for(var e="",n=0;n<t.length;++n)e+=""+t[n].rank+t[n].suit,e+=n==t.length?"":" ";return e},t.prototype.status=function(){var t=new o.SR_Status;return t.code=0,t.message="",t},t.getInstance=function(){return this.instance||(this.instance=new this)},t.prototype.dealToSever=function(t){var e=this;console.log(t),this.bet=t.bet,this.cardDeck=this.makeDeck(),setTimeout(function(){u.default.dealToClient(e.getDealData(t.bet))},100)},t.prototype.drawToServer=function(t){var e=this;console.log(t),setTimeout(function(){u.default.drawToClient(e.getDrawData(t.hold))},100)},t.prototype.findRank=function(t){if(console.warn(t),f.hasRoyalFlush(t))return{rank:0,title:"ROYAL FLUSH",result:[f.hasRoyalFlush(t)],pay:12500};if(f.hasStraightFlush(t))return{rank:1,title:"STRAIGHT FLUSH",result:[f.hasStraightFlush(t)],pay:2500};if(f.hasFourOfAKind(t))return{rank:2,title:"FOUR OF A KIND",result:[f.hasFourOfAKind(t)],pay:1250};if(f.hasFullHouse(t))return{rank:3,title:"FULL HOUSE",result:[f.hasFullHouse(t)],pay:450};if(f.hasFlush(t))return{rank:4,title:"FLUSH",result:[f.hasFlush(t)],pay:300};if(f.hasStraight(t))return{rank:5,title:"STRAIGHT",result:[f.hasStraight(t)],pay:200};if(f.hasThreeOfAKind(t))return{rank:6,title:"THREE OF A KIND",result:[f.hasThreeOfAKind(t)],pay:150};if(f.hasTwoPairs(t))return{rank:7,title:"TWO PAIR",result:f.hasTwoPairs(t),pay:100};if(f.hasPair(t)){var e=f.hasPair(t);return"J"==e||"Q"==e||"J"==e||"K"==e||"A"==e?{rank:8,title:"JACKS OR BETTER",result:[e],pay:50}:{rank:-1,title:"",result:[e],pay:0}}return{rank:-1,title:"",result:null,pay:0}},t.prototype.getMatched=function(t,e){var n=[!1,!1,!1,!1,!1];if(-1==t)return n;if(0==t||1==t||3==t||4==t||5==t)return[!0,!0,!0,!0,!0];for(var r=0;r<e.length;++r)for(var o=e[r],i=0;i<n.length;++i)n[i]=this.deals[i].rank==o||this.deals[i].suit==o;return n},t.instance=null,t}();n.default=d,cc._RF.pop()},{"../../protocols/SR_Status":"SR_Status","../../protocols/VIDEOPOKER_Card":"VIDEOPOKER_Card","../../protocols/VIDEOPOKER_Deal_2C_1":"VIDEOPOKER_Deal_2C_1","../../protocols/VIDEOPOKER_Draw_2C_1":"VIDEOPOKER_Draw_2C_1","../Const":"Const","../EventBroadCast":"EventBroadCast","../modules/Firebase":"Firebase","../modules/Random":"Random","poker-hands":14}],GameTitleUI:[function(t,e,n){"use strict";cc._RF.push(e,"d328b41maVFm5yl1XEexLtk","GameTitleUI");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=s(t("../standalone/MachineData")),u=cc._decorator,l=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}var n;return o(e,t),e.prototype.start=function(){this.label.string=c.default.getInstance().getMachine().title.toUpperCase()},i([p(cc.Label),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Label)?n:Object)],e.prototype,"label",void 0),i([l],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../standalone/MachineData":"MachineData"}],GaugeUI:[function(t,e,n){"use strict";cc._RF.push(e,"d7254U2ZEdG4IEOf36Nbulz","GaugeUI");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progress=null,e.initSize=-1,e.v=1,e}var n;return o(e,t),e.prototype.setInit=function(){this.initSize=this.progress.node.width},Object.defineProperty(e.prototype,"value",{get:function(){return this.v},set:function(t){if(this.v=t,this.initSize<0&&this.setInit(),this.progress.progress=t,this.onChange){var e=this.progress.node,n=e.x-e.anchorX*this.initSize*e.scaleX+this.initSize*t,r=e.parent.convertToWorldSpaceAR(cc.v3(n,e.y));this.onChange(r)}},enumerable:!1,configurable:!0}),i([u(cc.ProgressBar),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.ProgressBar)?n:Object)],e.prototype,"progress",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Intro:[function(t,e,n){"use strict";cc._RF.push(e,"a35cdDP+JtKl5mRdmVMTCb7","Intro");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("./commonUI/SceneInfo")),c=t("./Const"),u=t("./utils/PreloadSetting"),l=cc._decorator,p=l.ccclass,f=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){(new u.PreloadSetting).setPerformance(),s.default.loadScene(c.SCENE.LOBBY)},i([p],e)}(cc.Component));n.default=f,cc._RF.pop()},{"./Const":"Const","./commonUI/SceneInfo":"SceneInfo","./utils/PreloadSetting":"PreloadSetting"}],JackpotPopup:[function(t,e,n){"use strict";cc._RF.push(e,"2e772ptW9JOqr35jkcilxA6","JackpotPopup");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../utils/MoneyUtility"),u=t("../utils/SoundController"),l=s(t("../popup/SimplePopup")),p=cc._decorator,f=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.coin=null,e.celebrate=null,e.earned=0,e.cards=null,e.index=10,e.setTitle=function(t){e.title.string=t},e.setCoin=function(t){e.earned=t,e.coin.string="$"+c.MoneyUtility.moneyToString(t)},e}var n,r,s;return o(e,t),e.prototype.onEnable=function(){u.SoundPlayer.play(this.celebrate)},e.prototype.setIndex=function(t){this.index=t},e.prototype.setCards=function(t){this.cards=t},e.prototype.onShareButton=function(){},e.prototype.onSecretOffer=function(){},e.prototype.onClose=function(){t.prototype.onClose.call(this),this.onSecretOffer()},i([d(cc.Label),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Label)?n:Object)],e.prototype,"title",void 0),i([d(cc.Label),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Label)?r:Object)],e.prototype,"coin",void 0),i([d(cc.AudioClip),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.AudioClip)?s:Object)],e.prototype,"celebrate",void 0),i([f],e)}(l.default);n.default=h,cc._RF.pop()},{"../popup/SimplePopup":"SimplePopup","../utils/MoneyUtility":"MoneyUtility","../utils/SoundController":"SoundController"}],Judgement:[function(t,e,n){"use strict";cc._RF.push(e,"305fbLS/1ZODZNlWkhOn7lf","Judgement");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),t("poker-hands");var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},i([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{"poker-hands":14}],LeftGameUI:[function(t,e,n){"use strict";cc._RF.push(e,"2b761vPUfVCl4eC7CrYtQ3N","LeftGameUI");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../BroadCast"),c=t("../Const"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftGame=null,e.leftCount=c.ConstData.INSTANT_TOURNAMENT_GAME_COUNT,e.setCount=function(t){e.leftGame.string=t.toString()},e.VIDEOPOKER_Deal_2C_1=function(){e.setCount(--e.leftCount)},e}var n;return o(e,t),e.prototype.onLoad=function(){this.setCount(this.leftCount),s.BroadCast.addReceiver(this)},e.prototype.onDestroy=function(){s.BroadCast.removeReceiver(this)},i([p(cc.Label),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Label)?n:Object)],e.prototype,"leftGame",void 0),i([l],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../BroadCast":"BroadCast","../Const":"Const"}],LoadingUI:[function(t,e,n){"use strict";cc._RF.push(e,"f136cUM14xJD7qJYXOeR8O6","LoadingUI");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=null,e.message=null,e.tween=null,e.MAX_DURATION=1e3,e}var n,r,s;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,n.hide()},e.prototype.onDestroy=function(){n.instance=null},e.show=function(t){void 0===t&&(t=""),n.instance.node.active=!0,n.instance.loading.angle=0,n.instance.message.string=t,n.instance.tween=cc.tween(n.instance.loading).to(10,{angle:360}).set({angle:0}),n.instance.tween.repeatForever(n.instance.tween).start()},e.hide=function(){n.instance.tween&&(n.instance.tween.stop(),n.instance.tween=null),n.instance.loading.angle=0,n.instance.node.active=!1},e.instance=null,i([u(cc.Node),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Node)?r:Object)],e.prototype,"loading",void 0),i([u(cc.Label),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Label)?s:Object)],e.prototype,"message",void 0),n=i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],LocalizationText:[function(t,e,n){"use strict";cc._RF.push(e,"319b3QYjUtG6rZfeeABecVp","LocalizationText");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="",e.labelComponent=null,e}var n;return o(e,t),n=e,e.load=function(t,e){cc.resources.load("localization/"+t,function(t,r){if(null==t){var o=r.json;Object.keys(o).forEach(function(t){return n.dictionary.set(t,o[t])}),n.loaded=!0}else console.error(t);e&&e()})},e.getString=function(t){return n.dictionary.has(t)?n.dictionary.get(t):n.loaded?(console.error("There is no key in localization map : "+t),"There is no key in localization map : "+t):(console.error("Not Loaded resource files, try load en_us language pack"),n.load("en_US"),"")},e.getFormatString=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=n.getString(t);return n.format.apply(n,s([o],e))},e.prototype.onEnable=function(){null==this.labelComponent&&(this.labelComponent=this.node.getComponent(cc.Label)),null==this.labelComponent&&(this.labelComponent=this.node.getComponent(cc.RichText)),this.labelComponent.string=n.getString(this.key)},e.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})},e.dictionary=new Map,e.loaded=!1,i([l(cc.String),a("design:type",String)],e.prototype,"key",void 0),n=i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],MachineData:[function(t,e,n){"use strict";cc._RF.push(e,"f2092tbiWJFd7sKWGilGyAH","MachineData"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../protocols/VIDEOPOKER_GetMachine_2C_1"),o=function(){function t(){this.videopoker_getmachine_2c_1=null,this.videopoker_getmachine_2c_1=new r.VIDEOPOKER_GetMachine_2C_1,this.videopoker_getmachine_2c_1.credit=50,this.videopoker_getmachine_2c_1.title="JACKS OR BETTER",this.videopoker_getmachine_2c_1.machineNo=0,this.videopoker_getmachine_2c_1.payouts=[{title:"ROYAL FLUSH",pay:12500},{title:"STRAIGHT FLUSH",pay:2500},{title:"FOUR OF A KIND",pay:1250},{title:"FULL HOUSE",pay:450},{title:"FLUSH",pay:300},{title:"STRAIGHT",pay:200},{title:"THREE OF A KIND",pay:150},{title:"TWO PAIR",pay:100},{title:"JACKS OR BETTER",pay:50}],this.videopoker_getmachine_2c_1.bets=[100,200,300,400,500,1e3]}return t.getInstance=function(){return this.instance||(this.instance=new this)},t.prototype.getMachine=function(){return this.videopoker_getmachine_2c_1},t.instance=null,t}();n.default=o,cc._RF.pop()},{"../../protocols/VIDEOPOKER_GetMachine_2C_1":"VIDEOPOKER_GetMachine_2C_1"}],MessageHolder:[function(t,e,n){"use strict";cc._RF.push(e,"beaca4pAptIvI/Y6AXw1zjg","MessageHolder");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../protocols/SR_JoinLobby_2C_1"),c=t("./BroadCast"),u=t("typescript-json-serializer"),l=t("../protocols/CASINO_GetContentEntries_2C_1"),p=t("../protocols/VIDEOPOKER_GetMachine_2C_1"),f=t("../protocols/CASINO_GetAccount_2C_1"),d=t("../protocols/SR_JoinRoom_2C_1"),h=t("../protocols/SR_Event_JoinRoom_2C_1"),y=t("../protocols/SR_Event_LeaveRoom_2C_1"),_=t("../protocols/CASINO_GetBonusState_2C_1"),v=t("../protocols/SR_GetProducts_2C_1"),g=t("../protocols/SR_LeaveRoom_2C_1"),m=t("../protocols/SR_EnterContent_2C_1"),b=t("./utils/SoundController"),S=a(t("./commonUI/SceneInfo")),R=t("./MessageValidator"),C=t("./Const"),O=cc._decorator,P=O.ccclass,w=(O.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeSale="0",e.seasonSale="0",e.recommand="0",e.scratchInfo=null,e.noticeInfo=null,e.coin=0,e.currentMachineNo=0,e.SR_JoinLobby_2C_1=function(t){var n=u.deserialize(t,s.SR_JoinLobby_2C_1);!0!==R.MessageValidator.getError(n.status)&&(e.profile=n.profile,e.timeSale=n.properties.sale,e.seasonSale=n.properties.season,e.recommand=n.properties.recommand,e.scratchInfo=JSON.parse(n.properties.scratch))},e.CASINO_GetContentEntries_2C_1=function(t){e.casino_getcontententries_2c_1=u.deserialize(t,l.CASINO_GetContentEntries_2C_1)},e.VIDEOPOKER_GetMachine_2C_1=function(t){var n=u.deserialize(t,p.VIDEOPOKER_GetMachine_2C_1);!0!==R.MessageValidator.getError(n.status)&&(e.currentMachineNo=n.machineNo,b.SoundPlayer.stop(b.audioType.bgm),S.default.loadScene(C.SCENE.GAME,!0),e.videopoker_getmachine_2c_1=n,e.videopoker_getmachine_2c_1.bets=e.videopoker_getmachine_2c_1.bets.filter(function(t,e,n){return n.indexOf(t)===e}))},e.CASINO_GetAccount_2C_1=function(t){e.casino_getaccount_2c_1=u.deserialize(t,f.CASINO_GetAccount_2C_1),e.coin=e.casino_getaccount_2c_1.coin},e.SR_JoinRoom_2C_1=function(t){var n=u.deserialize(t,d.SR_JoinRoom_2C_1);e.sr_joinroom_2c_1=n},e.SR_Event_JoinRoom_2C_1=function(t){var n=u.deserialize(t,h.SR_Event_JoinRoom_2C_1);e.sr_joinroom_2c_1.roomInfo.users.push(n.user)},e.SR_Event_LeaveRoom_2C_1=function(t){var n=u.deserialize(t,y.SR_Event_LeaveRoom_2C_1),r=e.sr_joinroom_2c_1.roomInfo.users.find(function(t){return t.userNo==n.user.userNo});if(null!=r){var o=e.sr_joinroom_2c_1.roomInfo.users.indexOf(r);o>-1&&(console.log("removed user : "+r.name),e.sr_joinroom_2c_1.roomInfo.users.splice(o,1))}},e.CASINO_GetBonusState_2C_1=function(t){var n=u.deserialize(t,_.CASINO_GetBonusState_2C_1);e.casino_getbonusstate_2c_1=n},e}var n;return o(e,t),n=e,Object.defineProperty(e.prototype,"level",{get:function(){return n.instance.casino_getaccount_2c_1.level.current},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){n.instance=this,c.BroadCast.addReceiver(this)},e.prototype.onDestroy=function(){c.BroadCast.removeReceiver(this)},e.prototype.SR_LeaveRoom_2C_1=function(t){var e=u.deserialize(t,g.SR_LeaveRoom_2C_1);console.log(JSON.stringify(e))},e.prototype.SR_EnterContent_2C_1=function(t){var e=u.deserialize(t,m.SR_EnterContent_2C_1);cc.sys.localStorage.setItem("LastPlayGameID",e.no),C.ConstData.lastPlayedGameNo=e.no,console.log(JSON.stringify(e))},e.prototype.SR_Send_2C_1=function(){},e.prototype.SR_Echo_1=function(){},e.prototype.SR_GetProducts_2C_1=function(t){var e=u.deserialize(t,v.SR_GetProducts_2C_1);this.sr_getproduct_2c_1=e,console.log(e)},e.instance=null,n=i([P],e)}(cc.Component));n.default=w,cc._RF.pop()},{"../protocols/CASINO_GetAccount_2C_1":"CASINO_GetAccount_2C_1","../protocols/CASINO_GetBonusState_2C_1":"CASINO_GetBonusState_2C_1","../protocols/CASINO_GetContentEntries_2C_1":"CASINO_GetContentEntries_2C_1","../protocols/SR_EnterContent_2C_1":"SR_EnterContent_2C_1","../protocols/SR_Event_JoinRoom_2C_1":"SR_Event_JoinRoom_2C_1","../protocols/SR_Event_LeaveRoom_2C_1":"SR_Event_LeaveRoom_2C_1","../protocols/SR_GetProducts_2C_1":"SR_GetProducts_2C_1","../protocols/SR_JoinLobby_2C_1":"SR_JoinLobby_2C_1","../protocols/SR_JoinRoom_2C_1":"SR_JoinRoom_2C_1","../protocols/SR_LeaveRoom_2C_1":"SR_LeaveRoom_2C_1","../protocols/VIDEOPOKER_GetMachine_2C_1":"VIDEOPOKER_GetMachine_2C_1","./BroadCast":"BroadCast","./Const":"Const","./MessageValidator":"MessageValidator","./commonUI/SceneInfo":"SceneInfo","./utils/SoundController":"SoundController","typescript-json-serializer":17}],MessageValidator:[function(t,e,n){"use strict";cc._RF.push(e,"9f8f7j9tCZJOLbwsoZyM0WQ","MessageValidator");var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.MessageValidator=void 0;var o,i=t("./Const"),a=r(t("./popup/PopupManager"));(function(t){t[t.NONE=0]="NONE",t[t.SESSION_DUPLICATED=409]="SESSION_DUPLICATED",t[t.MAINTAINANCE=503]="MAINTAINANCE",t[t.FORCE_UPATE=410]="FORCE_UPATE"})(o||(o={}));var s=function(){function t(){}return t.getError=function(t){switch(t.code){case 0:return!1;case o.SESSION_DUPLICATED:a.default.instance.showAppClose(i.Messages.DUPLICATED_SESSION);break;case o.MAINTAINANCE:a.default.instance.showAppClose("MAINTENANCE IN PROGRESS.\nWe apologize for the inconvenience.\nVideo Poker Classic will be available shortly.");break;case o.FORCE_UPATE:a.default.instance.showAppClose("An Update is Required for Playing Our Game.\nPlease, Refresh this page.");break;default:a.default.instance.showAppClose("Oops! Something went wrong.\nPlease, Refresh this page.")}return console.error(t.message),!0},t}();n.MessageValidator=s,cc._RF.pop()},{"./Const":"Const","./popup/PopupManager":"PopupManager"}],MoneyUtility:[function(t,e,n){"use strict";var r;cc._RF.push(e,"4db88eYGqZCUKcbraHAnvs6","MoneyUtility"),Object.defineProperty(n,"__esModule",{value:!0}),n.MoneyUtility=n.UNIT=void 0,function(t){t[t.NONE=0]="NONE",t[t.KILO=1]="KILO",t[t.MILLION=2]="MILLION",t[t.BILLION=3]="BILLION",t[t.MAX=4]="MAX"}(r=n.UNIT||(n.UNIT={}));var o=function(){function t(){}return t.moneyToString=function(t){return t.toLocaleString()},t.simplifyMoney=function(e,n,o){void 0===o&&(o="");for(var i=e.toString().length,a=r.MAX,s=0;s<r.MAX;++s,i-=3)if(i+(0!=s?1:0)<=n){a=s;break}switch(a){case r.KILO:return t.moneyToStringUnitKilo(e,o);case r.MILLION:return t.moneyToStringUnitMillion(e,o);case r.BILLION:return t.moneyToStringUnitBillion(e,o);default:return t.moneyToString(e)}},t.moneyToStringUnitBillion=function(e,n){return void 0===n&&(n=""),t.moneyToString(Math.floor(e/this.BILLION))+n+"B"},t.moneyToStringUnitMillion=function(e,n){return void 0===n&&(n=""),t.moneyToString(Math.floor(e/this.MILLION))+n+"M"},t.moneyToStringUnitKilo=function(e,n){return void 0===n&&(n=""),t.moneyToString(Math.floor(e/this.KILO))+n+"K"},t.KILO=1e3,t.MILLION=1e6,t.BILLION=1e9,t}();n.MoneyUtility=o,cc._RF.pop()},{}],NetworkMessage:[function(t,e,n){"use strict";cc._RF.push(e,"5000ahj+DZIRpHhWfUWX91P","NetworkMessage"),Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkMessage=void 0;n.NetworkMessage=function(t,e){this.id=t,this.message=e},cc._RF.pop()},{}],PaytableItem:[function(t,e,n){"use strict";cc._RF.push(e,"b21c0efxfpDnreN8MPVQ/zj","PaytableItem");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../utils/MoneyUtility"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleString="",e.payLabelList=new Array,e.payList=new Array,e.DOT="\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",e.highlight=null,e.color=cc.Color.WHITE,e.findPay=function(t){return e.payList.indexOf(t)},e.setColor=function(t,n){t?(e.payLabelList[n].node.color=cc.Color.WHITE,e.highlight.active=!0):(e.payLabelList.forEach(function(t){return t.node.color=e.color}),e.highlight.active=!1)},e.setPay=function(t,n){if(e.titleString=t,e.payLabelList.length==n.length)for(var r=0;r<n.length;++r)e.payList[r]=n[r],e.payLabelList[r].string=n[r].toString();else console.log("pay list size is not valid")},e.getLength=function(t){return e.payLabelList[t].string.length},e.simplifyMoney=function(t,n){n>=1e9.toString().length?e.payLabelList[t].string=s.MoneyUtility.moneyToStringUnitBillion(e.payList[t]):n>=1e6.toString().length?e.payLabelList[t].string=s.MoneyUtility.moneyToStringUnitMillion(e.payList[t]):n>=1e3.toString().length?e.payLabelList[t].string=s.MoneyUtility.moneyToStringUnitKilo(e.payList[t]):e.payLabelList[t].string=s.MoneyUtility.moneyToString(e.payList[t])},e.setFontSize=function(t){e.payLabelList.forEach(function(e){return e.fontSize=t})},e}var n,r;return o(e,t),e.prototype.onLoad=function(){var t=this;this.payLabelList.forEach(function(){t.payList.push(0)}),this.highlight.active=!1},i([l([cc.Label]),a("design:type",Object)],e.prototype,"payLabelList",void 0),i([l(cc.Node),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Node)?n:Object)],e.prototype,"highlight",void 0),i([l(cc.Color),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Color)?r:Object)],e.prototype,"color",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../utils/MoneyUtility":"MoneyUtility"}],PaytableUI:[function(t,e,n){"use strict";cc._RF.push(e,"c78129OfCpFN5PzMR1o/f4a","PaytableUI");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=s(t("./PaytableItem")),u=s(t("./BettingUI")),l=s(t("../standalone/MachineData")),p=cc._decorator,f=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.payList=new Array,e.payoutList=new Array,e.paytableSizeList=new Array,e.payTabelBGList=new Array,e.currentPaytableIndex=0,e.lastStartIndex=0,e.bettingUI=null,e.updatePaytable=function(){var t=e.bettingUI.getCurrentIndex(),n=e.lastStartIndex,r=Math.floor(t/5),o=t%5;n=e.lastStartIndex>t?0==r?0:5*(r-1)+o:0==r?0:5*(r-1)+o+1,e.currentPaytableIndex=t-n,e.lastStartIndex=n,console.log("index : "+t+" , paytable index : "+e.currentPaytableIndex+", start index : "+n),e.activeSelectedPaytable(e.currentPaytableIndex);for(var i=new Array,a=0;a<e.payoutList.length;++a){i.splice(0,i.length);for(var s=0;s<5;++s)n+s<e.bettingUI.bettingList.length?i.push(e.payoutList[a].pay*e.bettingUI.bettingList[n+s]):i.push(-1);e.payList[a].setPay(e.payoutList[a].title,i)}for(s=0;s<5;++s){var c=15;for(a=0;a<e.payoutList.length;++a){var u=e.payList[a].getLength(s);u<c&&(c=u)}for(a=0;a<e.payoutList.length;++a)e.payList[a].simplifyMoney(s,c-1)}},e.getLayoutSize=function(t){for(var n=26,r=0;r<e.paytableSizeList.length;++r){var o=e.paytableSizeList[r];if(o.x==t){n=o.y;break}}return n},e.activeSelectedPaytable=function(t){for(var n=0;n<5;++n)e.payTabelBGList[n].active=n===t},e.setPaytableColor=function(t){var n=e.payList.find(function(e){return e.titleString===t});void 0!==n&&n.setColor(!0,e.currentPaytableIndex)},e.resetPaytableColor=function(){e.payList.forEach(function(t){return t.setColor(!1,-1)})},e}var n,r;return o(e,t),e.prototype.onLoad=function(){var t=this,e=this.getLayoutSize(l.default.getInstance().getMachine().payouts.length);l.default.getInstance().getMachine().payouts.forEach(function(n){t.payoutList.push(n);var r=cc.instantiate(t.item).getComponent(c.default);r.setFontSize(e),r.node.parent=t.node,t.payList.push(r)}),this.bettingUI.eventChangeBet.push(this.updatePaytable)},e.prototype.start=function(){this.updatePaytable(0)},i([d(cc.Prefab),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Prefab)?n:Object)],e.prototype,"item",void 0),i([d(cc.Vec2),a("design:type",Object)],e.prototype,"paytableSizeList",void 0),i([d([cc.Node]),a("design:type",Object)],e.prototype,"payTabelBGList",void 0),i([d(u.default),a("design:type","function"==typeof(r=void 0!==u.default&&u.default)?r:Object)],e.prototype,"bettingUI",void 0),i([f],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../standalone/MachineData":"MachineData","./BettingUI":"BettingUI","./PaytableItem":"PaytableItem"}],PersistRootNode:[function(t,e,n){"use strict";cc._RF.push(e,"8f10foEGYpBHJTT9cIoUA1i","PersistRootNode");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node)},i([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],PlayerController:[function(t,e,n){"use strict";cc._RF.push(e,"e3e0a17/zdNnpCA5+fQ9pJM","PlayerController");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../BroadCast"),u=t("../../protocols/CASINO_GetAccount_2C_1"),l=t("typescript-json-serializer"),p=t("./VideoPokerPlayer"),f=t("../utils/MoneyUtility"),d=s(t("./BettingUI")),h=s(t("./PaytableUI")),y=t("../../protocols/CASINO_LevelUp_C2_1"),_=s(t("./JackpotPopup")),v=t("../utils/SoundController"),g=s(t("../commonUI/SceneInfo")),m=s(t("../commonUI/LoadingUI")),b=t("../Const"),S=t("../../protocols/SR_EnterContent_2S_1"),R=t("../../protocols/SR_JoinLobby_2C_1"),C=t("../MessageValidator"),O=t("../../protocols/SR_JoinRoom_2C_1"),P=s(t("../EventBroadCast")),w=s(t("../standalone/UserData")),I=s(t("../modules/ScreenShot")),E=cc._decorator,j=E.ccclass,D=E.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.user=null,e.cash=null,e.win=null,e.casino_getaccount_2c_1=null,e.sequence=0,e.bettingUI=null,e.paytableUI=null,e.bgm=null,e.jackpotPopup=null,e.winSound=null,e.enterSound=null,e.setCash=function(t){e.cash.string="$"+f.MoneyUtility.moneyToString(t)},e.setWin=function(t){e.win.string="$"+f.MoneyUtility.moneyToString(t)},e.CASINO_GetAccount_2C_1=function(t){e.casino_getaccount_2c_1=l.deserialize(t,u.CASINO_GetAccount_2C_1)},e.VIDEOPOKER_Deal_2C_1=function(t){var n=t;e.dealUserCard(n),e.user.setTouchableCard(!0)},e.VIDEOPOKER_Draw_2C_1=function(t){var n=t;e.sequence=t.seq,e.bettingUI.blockBetting(),e.bettingUI.blockDealDraw(),e.drawUserCard(n),e.user.setTouchableCard(!1)},e.dealUserCard=function(t){e.setWin(0),e.setCash(w.default.getInstance().bet(t.bet*t.hands*e.bettingUI.credit)),e.paytableUI.resetPaytableColor(),e.user.hideRank(!0),e.dealCards(t,t.hold)},e.drawUserCard=function(t){var n=e.user.getUnHoldCard(),r=function(){e.user.setCards(t.cards),e.user.setCardDimed(t.matched)},o=function(){e.result(e.user,t)};if(0===n.length)return r(),void o();e.user.tweenFlip(r,o,n)},e.CASINO_LevelUp_C2_1=function(t){var n=l.deserialize(t,y.CASINO_LevelUp_C2_1);n.contentState.bets=n.contentState.bets.filter(function(t,e,n){return n.indexOf(t)===e}),e.bettingUI.updateBettingList(n.contentState.bets)},e.SR_LeaveRoom_2C_1=function(){},e}var n,r,s,E,A,N,T,L,x;return o(e,t),e.prototype.onLoad=function(){c.BroadCast.addReceiver(this),P.default.addReceiver(this),this.jackpotPopup.show(!1)},e.prototype.onDestroy=function(){P.default.removeReceiver(this),c.BroadCast.removeReceiver(this)},e.prototype.start=function(){this.user.joinPlayer(w.default.getInstance().getProfile()),this.user.bindKeyEvent(),this.user.showPlayAgainText("PLAY AGAIN"),this.setCash(w.default.getInstance().getCoin()),v.SoundPlayer.playBgm(this.bgm),v.SoundPlayer.play(this.enterSound)},e.prototype.OnLeaveRoom=function(){},e.prototype.VIDEOPOKER_LeaveRoom_2C_1=function(){v.SoundPlayer.stop(),g.default.loadScene(b.SCENE.LOBBY)},e.prototype.dealCards=function(t,e){var n=this;this.user.hideDimed(),this.user.clearHold(),this.user.setCardBack(),this.user.tweenFlip(function(){n.user.setCards(t.cards),!0===n.bettingUI.autoHold&&n.user.setHold(e)},function(){n.bettingUI.unblockDealDraw(),n.bettingUI.setDrawUI()},this.user.cards)},e.prototype.findBestHand=function(t){var e=[],n=t;return t.subdecks.forEach(function(t){return e.push(t)}),e.forEach(function(t){n.rankIndex<=0?n=t:t.rankIndex>=0&&n.rankIndex>=0&&t.rankIndex<n.rankIndex&&(n=t)}),n},e.prototype.result=function(t,e){var n=0;e.subdecks.forEach(function(t){n+=t.pay});var r=e.pay+n;if(w.default.getInstance().pay(r),this.setCash(w.default.getInstance().getCoin()),this.setWin(r*this.bettingUI.getBet()),e.pay>0?(t.showWinTitleText(e.rankTitle),t.showWinCoinText(e.pay*this.bettingUI.getBet()),t.setCoinColor(e.rankIndex),this.paytableUI.setPaytableColor(e.rankTitle)):(t.showPlayAgainText("PLAY AGAIN"),t.hideWinCoinText(!0)),r>0){var o=this.findBestHand(e),i=o.pay*this.bettingUI.getBet();if(o.rankIndex<3){var a=Date.now().toString();I.default.init(),I.default.shot(),I.default.downloadImg(a),this.jackpotPopup.show(!0),this.jackpotPopup.setIndex(o.rankIndex),this.jackpotPopup.setTitle(o.rankTitle),this.jackpotPopup.setCoin(i),this.jackpotPopup.setCards(o.cards)}else v.SoundPlayer.play(this.winSound)}this.bettingUI.setDealUI(),this.bettingUI.unblockBetting(),this.bettingUI.unblockDealDraw()},e.prototype.SR_JoinLobby_2C_1=function(t){var e=l.deserialize(t,R.SR_JoinLobby_2C_1);if(!0!==C.MessageValidator.getError(e.status)){0===b.ConstData.lastPlayedGameNo&&m.default.hide();var n=new S.SR_EnterContent_2S_1;n.no=b.ConstData.lastPlayedGameNo,n.type=b.GAME_TYPES[b.ConstData.getGameType(n.no)]}},e.prototype.SR_JoinRoom_2C_1=function(t){var e=l.deserialize(t,O.SR_JoinRoom_2C_1);!0!==C.MessageValidator.getError(e.status)&&m.default.hide()},e.prototype.eventSetBalance=function(t){this.setCash(t.balance)},i([D(p.VideoPokerPlayer),a("design:type","function"==typeof(n=void 0!==p.VideoPokerPlayer&&p.VideoPokerPlayer)?n:Object)],e.prototype,"user",void 0),i([D(cc.Label),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Label)?r:Object)],e.prototype,"cash",void 0),i([D(cc.Label),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Label)?s:Object)],e.prototype,"win",void 0),i([D(d.default),a("design:type","function"==typeof(E=void 0!==d.default&&d.default)?E:Object)],e.prototype,"bettingUI",void 0),i([D(h.default),a("design:type","function"==typeof(A=void 0!==h.default&&h.default)?A:Object)],e.prototype,"paytableUI",void 0),i([D({type:cc.AudioClip}),a("design:type","function"==typeof(N="undefined"!=typeof cc&&cc.AudioClip)?N:Object)],e.prototype,"bgm",void 0),i([D(_.default),a("design:type","function"==typeof(T=void 0!==_.default&&_.default)?T:Object)],e.prototype,"jackpotPopup",void 0),i([D(cc.AudioClip),a("design:type","function"==typeof(L="undefined"!=typeof cc&&cc.AudioClip)?L:Object)],e.prototype,"winSound",void 0),i([D(cc.AudioClip),a("design:type","function"==typeof(x="undefined"!=typeof cc&&cc.AudioClip)?x:Object)],e.prototype,"enterSound",void 0),i([j],e)}(cc.Component);n.default=A,cc._RF.pop()},{"../../protocols/CASINO_GetAccount_2C_1":"CASINO_GetAccount_2C_1","../../protocols/CASINO_LevelUp_C2_1":"CASINO_LevelUp_C2_1","../../protocols/SR_EnterContent_2S_1":"SR_EnterContent_2S_1","../../protocols/SR_JoinLobby_2C_1":"SR_JoinLobby_2C_1","../../protocols/SR_JoinRoom_2C_1":"SR_JoinRoom_2C_1","../BroadCast":"BroadCast","../Const":"Const","../EventBroadCast":"EventBroadCast","../MessageValidator":"MessageValidator","../commonUI/LoadingUI":"LoadingUI","../commonUI/SceneInfo":"SceneInfo","../modules/ScreenShot":"ScreenShot","../standalone/UserData":"UserData","../utils/MoneyUtility":"MoneyUtility","../utils/SoundController":"SoundController","./BettingUI":"BettingUI","./JackpotPopup":"JackpotPopup","./PaytableUI":"PaytableUI","./VideoPokerPlayer":"VideoPokerPlayer","typescript-json-serializer":17}],PopupManager:[function(t,e,n){"use strict";cc._RF.push(e,"c1170H8DSVPlKxFT1fBS4jm","PopupManager");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=s(t("./Popup")),u=t("../utils/SoundController"),l=cc._decorator,p=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeAppPopup=null,e.rewardPopup=null,e.noticePopup=null,e.collectSound=null,e.openSound=null,e}var n,r,s,l,d,h;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.closeAppPopup.onClose(),this.rewardPopup.onClose(),this.noticePopup.onClose()},e.prototype.showAppClose=function(t){return this.setResolution(),u.SoundPlayer.play(this.openSound),this.closeAppPopup.show(!0),this.closeAppPopup.setMessage(t),this.closeAppPopup.setOK(function(){FBInstant.quit()}),this.closeAppPopup},e.prototype.showNoticePopup=function(t){return this.setResolution(),u.SoundPlayer.play(this.openSound),this.noticePopup.show(!0),this.noticePopup.setMessage(t),this.noticePopup},e.prototype.setResolution=function(){var t=cc.Canvas.instance.designResolution;this.node.position=cc.v3((t.width-1280)/2,(t.height-720)/2,0),this.node.scaleX=t.width/1280,this.node.scaleY=t.height/720},e.instance=null,i([f(c.default),a("design:type","function"==typeof(r=void 0!==c.default&&c.default)?r:Object)],e.prototype,"closeAppPopup",void 0),i([f(c.default),a("design:type","function"==typeof(s=void 0!==c.default&&c.default)?s:Object)],e.prototype,"rewardPopup",void 0),i([f(c.default),a("design:type","function"==typeof(l=void 0!==c.default&&c.default)?l:Object)],e.prototype,"noticePopup",void 0),i([f(cc.AudioClip),a("design:type","function"==typeof(d="undefined"!=typeof cc&&cc.AudioClip)?d:Object)],e.prototype,"collectSound",void 0),i([f(cc.AudioClip),a("design:type","function"==typeof(h="undefined"!=typeof cc&&cc.AudioClip)?h:Object)],e.prototype,"openSound",void 0),n=i([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../utils/SoundController":"SoundController","./Popup":"Popup"}],Popup:[function(t,e,n){"use strict";cc._RF.push(e,"6c892jrzjFFYYynm52zjGQW","Popup");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=s(t("./SimplePopup")),u=cc._decorator,l=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.richText=null,e.text=null,e.callbackOK=null,e.okButtonLabel=null,e}var n,r,s;return o(e,t),e.prototype.setOK=function(t){this.callbackOK=t},e.prototype.setMessage=function(t){return null!==this.text&&(this.text.string=t),null!==this.richText&&(this.richText.string=t),this},e.prototype.setOKLabel=function(t){this.okButtonLabel&&(this.okButtonLabel.string=t)},e.prototype.onOK=function(){this.onClose(),this.callbackOK&&this.callbackOK()},i([p(cc.RichText),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.RichText)?n:Object)],e.prototype,"richText",void 0),i([p(cc.Label),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.Label)?r:Object)],e.prototype,"text",void 0),i([p(cc.Label),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Label)?s:Object)],e.prototype,"okButtonLabel",void 0),i([l],e)}(c.default);n.default=f,cc._RF.pop()},{"./SimplePopup":"SimplePopup"}],PreloadSetting:[function(t,e,n){"use strict";cc._RF.push(e,"6ff67abpk5F9YbcR4aYYq1Z","PreloadSetting"),Object.defineProperty(n,"__esModule",{value:!0}),n.PreloadSetting=void 0;var r=function(){function t(){}return t.prototype.setPerformance=function(t,e,n){void 0===t&&(t=8),void 0===e&&(e=8),void 0===n&&(n=1),cc.assetManager.presets.preload.maxConcurrency=t,cc.assetManager.presets.preload.maxRequestsPerFrame=e,cc.assetManager.presets.preload.priority=n},t}();n.PreloadSetting=r,cc._RF.pop()},{}],Random:[function(t,e,n){"use strict";cc._RF.push(e,"34218R1WNZBuZsTAOOj53Bs","Random"),Object.defineProperty(n,"__esModule",{value:!0}),n.Random=void 0;var r=function(){function t(){}return t.get50Percent=function(){return Math.random()>.5},t.win=function(e){return t.getRandomInt(0,100)<=e},t.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},t.shuffle=function(t){for(var e=0;e<t.length;e++){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t},t.exceptDuplicateNumbers=function(t,e){for(var n=[],r=0;r<e;r++){var o=Math.floor(Math.random()*t);-1===n.indexOf(o)?n.push(o):r--}return n},t.getRandomExcept=function(t,e,n){n.sort(function(t,e){return t-e});var r,o=Math.floor(Math.random()*(e-t-n.length))+t;for(r=0;r<n.length&&!(n[r]>o);r++)o++;return o},t}();n.Random=r,cc._RF.pop()},{}],ReleaseSetting:[function(t,e,n){"use strict";cc._RF.push(e,"f2f2dWFOF9N+5+VuTtneMtC","ReleaseSetting");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayStats=!1,e}return o(e,t),e.prototype.onLoad=function(){this.displayStats&&cc.debug.setDisplayStats(!0),console.log=function(){},console.warn=function(){},console.error=function(){}},i([u(cc.Boolean),a("design:type",Boolean)],e.prototype,"displayStats",void 0),i([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],SR_Auth_Bind_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"dd2113E+MpK1bK/qZKMrp44","SR_Auth_Bind_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Auth_Bind_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.Auth.Bind.2C.1",this.id=this.ID,this.status=new a.SR_Status}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Auth_Bind_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_Auth_Bind_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"03a24kYqOtNfZgpyz+hoARx","SR_Auth_Bind_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Auth_Bind_2S_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_ClientAuth"),s=function(){function t(){this.ID="SR.Auth.Bind.2S.1",this.id=this.ID,this.auth=new a.SR_ClientAuth}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("au"),o("design:type","function"==typeof(e=void 0!==a.SR_ClientAuth&&a.SR_ClientAuth)?e:Object)],t.prototype,"auth",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Auth_Bind_2S_1=s,cc._RF.pop()},{"./SR_ClientAuth":"SR_ClientAuth","typescript-json-serializer":17}],SR_Auth_FindUser_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"aae23uiaT9NCJ1V8nr3+f7J","SR_Auth_FindUser_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Auth_FindUser_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.Auth.FindUser.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.userNo=0}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("uno"),o("design:type",Number)],t.prototype,"userNo",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Auth_FindUser_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_Auth_FindUser_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"d743fwrG9RLv4wGZs68zeq7","SR_Auth_FindUser_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Auth_FindUser_2S_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_ClientAuth"),s=function(){function t(){this.ID="SR.Auth.FindUser.2S.1",this.id=this.ID,this.auth=new a.SR_ClientAuth}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("au"),o("design:type","function"==typeof(e=void 0!==a.SR_ClientAuth&&a.SR_ClientAuth)?e:Object)],t.prototype,"auth",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Auth_FindUser_2S_1=s,cc._RF.pop()},{"./SR_ClientAuth":"SR_ClientAuth","typescript-json-serializer":17}],SR_Auth_GetState_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"77a6fIDO7dJAaYMLLC0lcD5","SR_Auth_GetState_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Auth_GetState_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=t("./SR_ClientAuth"),c=function(){function t(){this.ID="SR.Auth.GetState.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.auth=new s.SR_ClientAuth,this.bound=!1}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("au"),o("design:type","function"==typeof(n=void 0!==s.SR_ClientAuth&&s.SR_ClientAuth)?n:Object)],t.prototype,"auth",void 0),r([i.JsonProperty("b"),o("design:type",Boolean)],t.prototype,"bound",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Auth_GetState_2C_1=c,cc._RF.pop()},{"./SR_ClientAuth":"SR_ClientAuth","./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_Auth_GetState_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"c7af2Dg4/RKFLy1rWgoPrOr","SR_Auth_GetState_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Auth_GetState_2S_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_ClientAuth"),s=function(){function t(){this.ID="SR.Auth.GetState.2S.1",this.id=this.ID,this.auth=new a.SR_ClientAuth}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("au"),o("design:type","function"==typeof(e=void 0!==a.SR_ClientAuth&&a.SR_ClientAuth)?e:Object)],t.prototype,"auth",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Auth_GetState_2S_1=s,cc._RF.pop()},{"./SR_ClientAuth":"SR_ClientAuth","typescript-json-serializer":17}],SR_Auth_Switch_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"1437dd0j3dL26xM9QtgUwI4","SR_Auth_Switch_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Auth_Switch_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.Auth.Switch.2C.1",this.id=this.ID,this.status=new a.SR_Status}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Auth_Switch_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_Auth_Switch_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"343308473RABL+gkKRfEAX6","SR_Auth_Switch_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Auth_Switch_2S_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_ClientAuth"),s=function(){function t(){this.ID="SR.Auth.Switch.2S.1",this.id=this.ID,this.auth=new a.SR_ClientAuth}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("au"),o("design:type","function"==typeof(e=void 0!==a.SR_ClientAuth&&a.SR_ClientAuth)?e:Object)],t.prototype,"auth",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Auth_Switch_2S_1=s,cc._RF.pop()},{"./SR_ClientAuth":"SR_ClientAuth","typescript-json-serializer":17}],SR_ClientAuth:[function(t,e,n){"use strict";cc._RF.push(e,"8dcca0A3DxNkZwBn3T4DFYG","SR_ClientAuth");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_ClientAuth=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.provider="",this.identity=null}return r([i.JsonProperty("p"),o("design:type",String)],t.prototype,"provider",void 0),r([i.JsonProperty("id"),o("design:type",Object)],t.prototype,"identity",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_ClientAuth=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_ClientInfo:[function(t,e,n){"use strict";cc._RF.push(e,"ec585FEMqxDV7nSi1WNpeyi","SR_ClientInfo");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_ClientInfo=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.deviceID="",this.version=new Array(0,0,0),this.os="",this.locale="en_US",this.tz=0,this.adID=""}return r([i.JsonProperty("did"),o("design:type",String)],t.prototype,"deviceID",void 0),r([i.JsonProperty("v"),o("design:type",Array)],t.prototype,"version",void 0),r([i.JsonProperty("os"),o("design:type",String)],t.prototype,"os",void 0),r([i.JsonProperty("loc"),o("design:type",String)],t.prototype,"locale",void 0),r([i.JsonProperty("tz"),o("design:type",Number)],t.prototype,"tz",void 0),r([i.JsonProperty("aid"),o("design:type",String)],t.prototype,"adID",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_ClientInfo=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_ClientUpdateInfo:[function(t,e,n){"use strict";cc._RF.push(e,"87c42YFbgNO5YJo8j3nGmXO","SR_ClientUpdateInfo");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_ClientUpdateInfo=void 0;var i=t("typescript-json-serializer"),a=t("./SR_ClientUpdate"),s=function(){function t(){this.latest=new Array(0,0,1),this.update=new a.SR_ClientUpdate}var e;return r([i.JsonProperty("lat"),o("design:type",Array)],t.prototype,"latest",void 0),r([i.JsonProperty("up"),o("design:type","function"==typeof(e=void 0!==a.SR_ClientUpdate&&a.SR_ClientUpdate)?e:Object)],t.prototype,"update",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_ClientUpdateInfo=s,cc._RF.pop()},{"./SR_ClientUpdate":"SR_ClientUpdate","typescript-json-serializer":17}],SR_ClientUpdate:[function(t,e,n){"use strict";cc._RF.push(e,"c7544C4dohFFImgqFFA1iTK","SR_ClientUpdate");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_ClientUpdate=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.required=!1,this.recommend=!1,this.exists=!1}return r([i.JsonProperty("req"),o("design:type",Boolean)],t.prototype,"required",void 0),r([i.JsonProperty("rec"),o("design:type",Boolean)],t.prototype,"recommend",void 0),r([i.JsonProperty("ex"),o("design:type",Boolean)],t.prototype,"exists",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_ClientUpdate=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_Echo_1:[function(t,e,n){"use strict";cc._RF.push(e,"b3379pfyhNB/JCuDMKaLoA/","SR_Echo_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Echo_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.Echo.1",this.id=this.ID,this.message=""}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("msg"),o("design:type",String)],t.prototype,"message",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Echo_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_EnterContent_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"f6788Q1umpD4pC433Zu1D9c","SR_EnterContent_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_EnterContent_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.EnterContent.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.type="",this.no=0,this.messages=new Array}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("ty"),o("design:type",String)],t.prototype,"type",void 0),r([i.JsonProperty("no"),o("design:type",Number)],t.prototype,"no",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_EnterContent_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_EnterContent_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"4b24dY8PtRKoqL6DWJc2Qup","SR_EnterContent_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_EnterContent_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.EnterContent.2S.1",this.id=this.ID,this.type="",this.no=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("ty"),o("design:type",String)],t.prototype,"type",void 0),r([i.JsonProperty("no"),o("design:type",Number)],t.prototype,"no",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_EnterContent_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_Event_Inactivate_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"8d1e0wR98FKBZ+NycqYFsqc","SR_Event_Inactivate_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Event_Inactivate_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_RoomID"),s=t("./SR_Profile"),c=function(){function t(){this.ID="SR.Event.Inactivate.2C.1",this.id=this.ID,this.roomID=new a.SR_RoomID,this.user=new s.SR_Profile}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("rid"),o("design:type","function"==typeof(e=void 0!==a.SR_RoomID&&a.SR_RoomID)?e:Object)],t.prototype,"roomID",void 0),r([i.JsonProperty("u"),o("design:type","function"==typeof(n=void 0!==s.SR_Profile&&s.SR_Profile)?n:Object)],t.prototype,"user",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Event_Inactivate_2C_1=c,cc._RF.pop()},{"./SR_Profile":"SR_Profile","./SR_RoomID":"SR_RoomID","typescript-json-serializer":17}],SR_Event_JoinRoom_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"011cdFj0GlKt6sOYInyS+h1","SR_Event_JoinRoom_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Event_JoinRoom_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_RoomID"),s=t("./SR_Profile"),c=function(){function t(){this.ID="SR.Event.JoinRoom.2C.1",this.id=this.ID,this.roomID=new a.SR_RoomID,this.user=new s.SR_Profile}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("rid"),o("design:type","function"==typeof(e=void 0!==a.SR_RoomID&&a.SR_RoomID)?e:Object)],t.prototype,"roomID",void 0),r([i.JsonProperty("u"),o("design:type","function"==typeof(n=void 0!==s.SR_Profile&&s.SR_Profile)?n:Object)],t.prototype,"user",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Event_JoinRoom_2C_1=c,cc._RF.pop()},{"./SR_Profile":"SR_Profile","./SR_RoomID":"SR_RoomID","typescript-json-serializer":17}],SR_Event_LeaveRoom_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"52b9b81DzJG9pYlPHxNl/Z/","SR_Event_LeaveRoom_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Event_LeaveRoom_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_RoomID"),s=t("./SR_Profile"),c=function(){function t(){this.ID="SR.Event.LeaveRoom.2C.1",this.id=this.ID,this.roomID=new a.SR_RoomID,this.user=new s.SR_Profile}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("rid"),o("design:type","function"==typeof(e=void 0!==a.SR_RoomID&&a.SR_RoomID)?e:Object)],t.prototype,"roomID",void 0),r([i.JsonProperty("u"),o("design:type","function"==typeof(n=void 0!==s.SR_Profile&&s.SR_Profile)?n:Object)],t.prototype,"user",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Event_LeaveRoom_2C_1=c,cc._RF.pop()},{"./SR_Profile":"SR_Profile","./SR_RoomID":"SR_RoomID","typescript-json-serializer":17}],SR_Fail_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"f31742hGdxCV7g0T6/4GpE3","SR_Fail_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Fail_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.Fail.2C.1",this.id=this.ID,this.status=new a.SR_Status}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Fail_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_GetProducts_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"c324dKNbpNGKLundyis8P0u","SR_GetProducts_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_GetProducts_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=t("./SR_Product"),c=function(){function t(){this.ID="SR.GetProducts.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.products=new Array}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty({name:"ps",type:s.SR_Product}),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"products",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_GetProducts_2C_1=c,cc._RF.pop()},{"./SR_Product":"SR_Product","./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_GetProducts_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"30475kx8/VHj40KMpb1O006","SR_GetProducts_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_GetProducts_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.GetProducts.2S.1",this.id=this.ID}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_GetProducts_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_IdentityApple:[function(t,e,n){"use strict";cc._RF.push(e,"f9ae2m0QXhGzZ6mEYhpKfpd","SR_IdentityApple");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_IdentityApple=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.publicKeyURL="",this.timestamp=0,this.signature="",this.salt="",this.playerID=""}return r([i.JsonProperty("key"),o("design:type",String)],t.prototype,"publicKeyURL",void 0),r([i.JsonProperty("ts"),o("design:type",Number)],t.prototype,"timestamp",void 0),r([i.JsonProperty("sig"),o("design:type",String)],t.prototype,"signature",void 0),r([i.JsonProperty("slt"),o("design:type",String)],t.prototype,"salt",void 0),r([i.JsonProperty("pid"),o("design:type",String)],t.prototype,"playerID",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_IdentityApple=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_IdentityFacebook:[function(t,e,n){"use strict";cc._RF.push(e,"201ab8Lng1Nx6ALk+2YtZLh","SR_IdentityFacebook");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_IdentityFacebook=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.userID="",this.accessToken=""}return r([i.JsonProperty("uid"),o("design:type",String)],t.prototype,"userID",void 0),r([i.JsonProperty("tok"),o("design:type",String)],t.prototype,"accessToken",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_IdentityFacebook=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_IdentityGoogle:[function(t,e,n){"use strict";cc._RF.push(e,"d3084If2q5HrKLG4cCbR5bH","SR_IdentityGoogle");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_IdentityGoogle=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.userID="",this.idToken=""}return r([i.JsonProperty("uid"),o("design:type",String)],t.prototype,"userID",void 0),r([i.JsonProperty("tok"),o("design:type",String)],t.prototype,"idToken",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_IdentityGoogle=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_JoinLobby_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"a651d9XKO9KP5jHIwCLikhY","SR_JoinLobby_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_JoinLobby_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=t("./SR_ClientUpdateInfo"),c=t("./SR_Profile"),u=function(){function t(){this.ID="SR.JoinLobby.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.clientUpdate=new s.SR_ClientUpdateInfo,this.properties=new Map,this.profile=new c.SR_Profile,this.messages=new Array}var e,n,u,l,p;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("upt"),o("design:type","function"==typeof(n=void 0!==s.SR_ClientUpdateInfo&&s.SR_ClientUpdateInfo)?n:Object)],t.prototype,"clientUpdate",void 0),r([i.JsonProperty("ps"),o("design:type","function"==typeof(u="undefined"!=typeof Map&&Map)?u:Object)],t.prototype,"properties",void 0),r([i.JsonProperty("pf"),o("design:type","function"==typeof(l=void 0!==c.SR_Profile&&c.SR_Profile)?l:Object)],t.prototype,"profile",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(p="undefined"!=typeof Array&&Array)?p:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_JoinLobby_2C_1=u,cc._RF.pop()},{"./SR_ClientUpdateInfo":"SR_ClientUpdateInfo","./SR_Profile":"SR_Profile","./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_JoinLobby_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"88c978+2hpDW5lrmsNYgYqb","SR_JoinLobby_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_JoinLobby_2S_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_ClientInfo"),s=t("./SR_ClientAuth"),c=t("./SR_ProfileUpdate"),u=function(){function t(){this.ID="SR.JoinLobby.2S.1",this.id=this.ID,this.client=new a.SR_ClientInfo,this.auth=new s.SR_ClientAuth,this.profileUpdate=new c.SR_ProfileUpdate,this.messages=new Array}var e,n,u,l;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("cli"),o("design:type","function"==typeof(e=void 0!==a.SR_ClientInfo&&a.SR_ClientInfo)?e:Object)],t.prototype,"client",void 0),r([i.JsonProperty("au"),o("design:type","function"==typeof(n=void 0!==s.SR_ClientAuth&&s.SR_ClientAuth)?n:Object)],t.prototype,"auth",void 0),r([i.JsonProperty("pu"),o("design:type","function"==typeof(u=void 0!==c.SR_ProfileUpdate&&c.SR_ProfileUpdate)?u:Object)],t.prototype,"profileUpdate",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(l="undefined"!=typeof Array&&Array)?l:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_JoinLobby_2S_1=u,cc._RF.pop()},{"./SR_ClientAuth":"SR_ClientAuth","./SR_ClientInfo":"SR_ClientInfo","./SR_ProfileUpdate":"SR_ProfileUpdate","typescript-json-serializer":17}],SR_JoinRoom_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"dfc8dVHaWNFjo3UyS5QGLAL","SR_JoinRoom_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_JoinRoom_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=t("./SR_RoomID"),c=t("./SR_RoomInfo"),u=function(){function t(){this.ID="SR.JoinRoom.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.roomID=new s.SR_RoomID,this.roomInfo=new c.SR_RoomInfo,this.messages=new Array}var e,n,u,l;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("rid"),o("design:type","function"==typeof(n=void 0!==s.SR_RoomID&&s.SR_RoomID)?n:Object)],t.prototype,"roomID",void 0),r([i.JsonProperty("ri"),o("design:type","function"==typeof(u=void 0!==c.SR_RoomInfo&&c.SR_RoomInfo)?u:Object)],t.prototype,"roomInfo",void 0),r([i.JsonProperty({name:"msgs",type:Object}),o("design:type","function"==typeof(l="undefined"!=typeof Array&&Array)?l:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_JoinRoom_2C_1=u,cc._RF.pop()},{"./SR_RoomID":"SR_RoomID","./SR_RoomInfo":"SR_RoomInfo","./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_JoinRoom_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"26747Hx4lhG+YgoPgECNTFy","SR_JoinRoom_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_JoinRoom_2S_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_RoomID"),s=t("./SR_Profile"),c=function(){function t(){this.ID="SR.JoinRoom.2S.1",this.id=this.ID,this.roomID=new a.SR_RoomID,this.create=!1,this.user=new s.SR_Profile,this.messages=new Array}var e,n,c;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("rid"),o("design:type","function"==typeof(e=void 0!==a.SR_RoomID&&a.SR_RoomID)?e:Object)],t.prototype,"roomID",void 0),r([i.JsonProperty("c"),o("design:type",Boolean)],t.prototype,"create",void 0),r([i.JsonProperty("u"),o("design:type","function"==typeof(n=void 0!==s.SR_Profile&&s.SR_Profile)?n:Object)],t.prototype,"user",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(c="undefined"!=typeof Array&&Array)?c:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_JoinRoom_2S_1=c,cc._RF.pop()},{"./SR_Profile":"SR_Profile","./SR_RoomID":"SR_RoomID","typescript-json-serializer":17}],SR_LeaveContent_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"43537QhgmpAPZTRK++CL66N","SR_LeaveContent_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_LeaveContent_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.LeaveContent.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.messages=new Array}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_LeaveContent_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_LeaveContent_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"918e7FiXU5L0rGVXKUN2/P2","SR_LeaveContent_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_LeaveContent_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.LeaveContent.2S.1",this.id=this.ID}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_LeaveContent_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_LeaveLobby_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"6529dFcpStJDLrnIqgMNNtm","SR_LeaveLobby_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_LeaveLobby_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.LeaveLobby.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.messages=new Array}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_LeaveLobby_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_LeaveLobby_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"a0a2276Tv5KQK8Gr/ACw7p9","SR_LeaveLobby_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_LeaveLobby_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.LeaveLobby.2S.1",this.id=this.ID,this.messages=new Array}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_LeaveLobby_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_LeaveRoom_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"15d83Yw5RFBUbBZP/cP8Iwt","SR_LeaveRoom_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_LeaveRoom_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=t("./SR_RoomID"),c=function(){function t(){this.ID="SR.LeaveRoom.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.roomID=new s.SR_RoomID,this.messages=new Array}var e,n,c;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("rid"),o("design:type","function"==typeof(n=void 0!==s.SR_RoomID&&s.SR_RoomID)?n:Object)],t.prototype,"roomID",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(c="undefined"!=typeof Array&&Array)?c:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_LeaveRoom_2C_1=c,cc._RF.pop()},{"./SR_RoomID":"SR_RoomID","./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_LeaveRoom_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"41266J4/xRIpK+h5ppxbx9a","SR_LeaveRoom_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_LeaveRoom_2S_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_RoomID"),s=function(){function t(){this.ID="SR.LeaveRoom.2S.1",this.id=this.ID,this.roomID=new a.SR_RoomID,this.messages=new Array}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("rid"),o("design:type","function"==typeof(e=void 0!==a.SR_RoomID&&a.SR_RoomID)?e:Object)],t.prototype,"roomID",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_LeaveRoom_2S_1=s,cc._RF.pop()},{"./SR_RoomID":"SR_RoomID","typescript-json-serializer":17}],SR_ProductItem:[function(t,e,n){"use strict";cc._RF.push(e,"7d6d6raeD9O/qhiAWJP1Y3O","SR_ProductItem");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_ProductItem=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.itemID="",this.quantity=0,this.baseQuantity=0}return r([i.JsonProperty("iid"),o("design:type",String)],t.prototype,"itemID",void 0),r([i.JsonProperty("q"),o("design:type",Number)],t.prototype,"quantity",void 0),r([i.JsonProperty("bq"),o("design:type",Number)],t.prototype,"baseQuantity",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_ProductItem=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_ProductPrice:[function(t,e,n){"use strict";cc._RF.push(e,"6f6d4kvI0ZMyL9Pd+SMTP8A","SR_ProductPrice");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_ProductPrice=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.currency="",this.price=0}return r([i.JsonProperty("c"),o("design:type",String)],t.prototype,"currency",void 0),r([i.JsonProperty("p"),o("design:type",Number)],t.prototype,"price",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_ProductPrice=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_Product:[function(t,e,n){"use strict";cc._RF.push(e,"2f4f1/ijhFIyar7co6KWOxq","SR_Product");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Product=void 0;var i=t("typescript-json-serializer"),a=t("./SR_ProductPrice"),s=t("./SR_ProductItem"),c=function(){function t(){this.productID="",this.type="",this.expiry=0,this.duration=0,this.prices=new Array,this.items=new Array,this.properties=new Map}var e,n,c;return r([i.JsonProperty("pid"),o("design:type",String)],t.prototype,"productID",void 0),r([i.JsonProperty("ty"),o("design:type",String)],t.prototype,"type",void 0),r([i.JsonProperty("exp"),o("design:type",Number)],t.prototype,"expiry",void 0),r([i.JsonProperty("dur"),o("design:type",Number)],t.prototype,"duration",void 0),r([i.JsonProperty({name:"prs",type:a.SR_ProductPrice}),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"prices",void 0),r([i.JsonProperty({name:"its",type:s.SR_ProductItem}),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"items",void 0),r([i.JsonProperty("ps"),o("design:type","function"==typeof(c="undefined"!=typeof Map&&Map)?c:Object)],t.prototype,"properties",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Product=c,cc._RF.pop()},{"./SR_ProductItem":"SR_ProductItem","./SR_ProductPrice":"SR_ProductPrice","typescript-json-serializer":17}],SR_ProfileUpdate:[function(t,e,n){"use strict";cc._RF.push(e,"66a9fFOGPxDh7ykUs6xb6sU","SR_ProfileUpdate");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_ProfileUpdate=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.name="",this.photo="",this.email="",this.country=""}return r([i.JsonProperty("nm"),o("design:type",String)],t.prototype,"name",void 0),r([i.JsonProperty("pho"),o("design:type",String)],t.prototype,"photo",void 0),r([i.JsonProperty("em"),o("design:type",String)],t.prototype,"email",void 0),r([i.JsonProperty("co"),o("design:type",String)],t.prototype,"country",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_ProfileUpdate=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_Profile:[function(t,e,n){"use strict";cc._RF.push(e,"431971/s/9EkLN8XFiWFT+m","SR_Profile");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Profile=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.userNo=0,this.name="",this.photo="",this.country="",this.creationTime=0,this.lastLoginTime=0}return r([i.JsonProperty("uno"),o("design:type",Number)],t.prototype,"userNo",void 0),r([i.JsonProperty("nm"),o("design:type",String)],t.prototype,"name",void 0),r([i.JsonProperty("pho"),o("design:type",String)],t.prototype,"photo",void 0),r([i.JsonProperty("co"),o("design:type",String)],t.prototype,"country",void 0),r([i.JsonProperty("ctm"),o("design:type",Number)],t.prototype,"creationTime",void 0),r([i.JsonProperty("ltm"),o("design:type",Number)],t.prototype,"lastLoginTime",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Profile=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_Purchased_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"d75b961OIJEbbwJknhRc93G","SR_Purchased_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Purchased_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.Purchased.2C.1",this.id=this.ID,this.status=new a.SR_Status,this.purchaseID="",this.productID="",this.quantity=0,this.messages=new Array}var e,n;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.JsonProperty("pid"),o("design:type",String)],t.prototype,"purchaseID",void 0),r([i.JsonProperty("sku"),o("design:type",String)],t.prototype,"productID",void 0),r([i.JsonProperty("q"),o("design:type",Number)],t.prototype,"quantity",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Purchased_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_Purchased_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"64ccalekGBIMIWLT2b307ua","SR_Purchased_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Purchased_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.Purchased.2S.1",this.id=this.ID,this.receipt=""}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("rcpt"),o("design:type",String)],t.prototype,"receipt",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Purchased_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_RoomID:[function(t,e,n){"use strict";cc._RF.push(e,"29c02v87ktM57I/bnmiYCJx","SR_RoomID");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_RoomID=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.type="",this.id=""}return r([i.JsonProperty("ty"),o("design:type",String)],t.prototype,"type",void 0),r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_RoomID=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_RoomInfo:[function(t,e,n){"use strict";cc._RF.push(e,"b9991Uh011OUqzX/q9D4T96","SR_RoomInfo");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_RoomInfo=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Profile"),s=function(){function t(){this.creationTime=0,this.roomState=0,this.contentState=0,this.maxUserCount=0,this.users=new Array}var e;return r([i.JsonProperty("ctm"),o("design:type",Number)],t.prototype,"creationTime",void 0),r([i.JsonProperty("rst"),o("design:type",Number)],t.prototype,"roomState",void 0),r([i.JsonProperty("cst"),o("design:type",Number)],t.prototype,"contentState",void 0),r([i.JsonProperty("max"),o("design:type",Number)],t.prototype,"maxUserCount",void 0),r([i.JsonProperty({name:"usrs",type:a.SR_Profile}),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"users",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_RoomInfo=s,cc._RF.pop()},{"./SR_Profile":"SR_Profile","typescript-json-serializer":17}],SR_Send_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"e00d5kLzf5DQaIDSJYjMlDB","SR_Send_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Send_2C_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.Send.2C.1",this.id=this.ID,this.messages=new Array}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Send_2C_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_Send_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"93b3dnNIcJDbpsDt5ZpIwyJ","SR_Send_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Send_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.Send.2S.1",this.id=this.ID,this.messages=new Array}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("msgs"),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"messages",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Send_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_SetProfile_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"87d43jxls9Kt6YDnCg+sWXY","SR_SetProfile_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_SetProfile_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.SetProfile.2C.1",this.id=this.ID,this.status=new a.SR_Status}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_SetProfile_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_SetProfile_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"d2365yzIRFBU6gasBaJWf4C","SR_SetProfile_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_SetProfile_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.SetProfile.2S.1",this.id=this.ID,this.name="",this.photo="",this.email="",this.country=""}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("nm"),o("design:type",String)],t.prototype,"name",void 0),r([i.JsonProperty("pho"),o("design:type",String)],t.prototype,"photo",void 0),r([i.JsonProperty("em"),o("design:type",String)],t.prototype,"email",void 0),r([i.JsonProperty("co"),o("design:type",String)],t.prototype,"country",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_SetProfile_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_SetPushToken_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"45b60FI6JtCupEIU3NkJAdd","SR_SetPushToken_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_SetPushToken_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Status"),s=function(){function t(){this.ID="SR.SetPushToken.2C.1",this.id=this.ID,this.status=new a.SR_Status}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("st"),o("design:type","function"==typeof(e=void 0!==a.SR_Status&&a.SR_Status)?e:Object)],t.prototype,"status",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_SetPushToken_2C_1=s,cc._RF.pop()},{"./SR_Status":"SR_Status","typescript-json-serializer":17}],SR_SetPushToken_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"1bb32ZumR5IpqVTiIKCy33y","SR_SetPushToken_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_SetPushToken_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="SR.SetPushToken.2S.1",this.id=this.ID,this.type="",this.token=""}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("ty"),o("design:type",String)],t.prototype,"type",void 0),r([i.JsonProperty("tok"),o("design:type",String)],t.prototype,"token",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_SetPushToken_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],SR_Status:[function(t,e,n){"use strict";cc._RF.push(e,"dae75sh7t9J048wn3K5VGYH","SR_Status");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.SR_Status=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.code=0,this.message=""}return r([i.JsonProperty("c"),o("design:type",Number)],t.prototype,"code",void 0),r([i.JsonProperty("m"),o("design:type",String)],t.prototype,"message",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.SR_Status=a,cc._RF.pop()},{"typescript-json-serializer":17}],SceneInfo:[function(t,e,n){"use strict";cc._RF.push(e,"4f967qkfBhByqrcj606KGCZ","SceneInfo");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Const"),u=s(t("./LoadingUI")),l=cc._decorator,p=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.labalRate=null,e}var n,r,s;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,n.hide()},e.prototype.onDestroy=function(){n.instance=null},e.setCurrentSceneName=function(t){n.previousSceneName=n.sceneName,n.sceneName=t},e.getCurrentSceneName=function(){return n.sceneName},e.getPreviousSceneName=function(){return n.previousSceneName},e.preload=function(t){cc.director.preloadScene(t,function(){})},e.loadScene=function(t,e){var r=this;void 0===e&&(e=!1),null==t&&(t=c.SCENE.LOBBY),u.default.show(),n.setCurrentSceneName(t),this.instance.node.active=!0,this.showProgress(0,e),cc.director.preloadScene(t,function(t,n){r.showProgress(t/n,e)},function(e){e?console.error("scene load error",t,e):cc.director.loadScene(t,function(){n.hide()})})},e.showProgress=function(t,e){this.instance.progressBar.progress=t,this.instance.labalRate.string=e?"The game starts after short Ads":Math.floor(100*t).toString()+"%"},e.hide=function(){u.default.hide(),this.instance.node.active=!1},e.instance=null,e.sceneName=c.SCENE.INTRO,e.previousSceneName=c.SCENE.INTRO,i([f(cc.ProgressBar),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.ProgressBar)?r:Object)],e.prototype,"progressBar",void 0),i([f(cc.Label),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Label)?s:Object)],e.prototype,"labalRate",void 0),n=i([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Const":"Const","./LoadingUI":"LoadingUI"}],ScreenShot:[function(t,e,n){"use strict";cc._RF.push(e,"b1ee34sdyhC64P6XPfv9AlO","ScreenShot"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.init=function(){if(!this.texture){var e=cc.Canvas.instance.designResolution,n=e.width,r=e.height,o=cc.size(n,r);this.texture=new cc.RenderTexture,this.texture.initWithSize(o.width,o.height,cc.RenderTexture.DepthStencilFormat.RB_FMT_S8)}t.getCamera().targetTexture=this.texture},t.getCamera=function(t){return void 0===t&&(t=-1),cc.Camera.cameras.find(function(e){return e.depth==t})},t.shot=function(e,n){this.init();var r=t.getCamera();r.render(void 0);var o=this.texture.readPixels();r.targetTexture=null;var i=this.texture.width,a=this.texture.height,s=document.createElement("canvas"),c=s.getContext("2d");s.width=i,s.height=a;for(var u=4*i,l=0;l<a;l++){for(var p=a-l-1,f=c.createImageData(i,1),d=p*i*4,h=0;h<u;h++)f.data[h]=o[d+h];c.putImageData(f,0,l)}e||(e=cc.v2(0,0)),n||(n=cc.v2(i,a));var y=c.getImageData(e.x,e.y,n.x,n.y),_=document.createElement("canvas");_.id="cropCanvas",_.width=n.x,_.height=n.y;var v=_.getContext("2d");return v.rect(0,0,n.x,n.y),v.fillStyle="white",v.fill(),v.putImageData(y,0,0),this.savedBase64Img=_.toDataURL("image/jpeg"),this.savedBase64Img},t.showTexture=function(t){if(this.savedBase64Img){var e=new Image;e.src=this.savedBase64Img,e.onload=function(){var n=new cc.Texture2D;n.initWithElement(e),n.handleLoadedTexture();var r=new cc.SpriteFrame(n);t.spriteFrame=r}}},t.downloadImg=function(t){if(this.savedBase64Img){var e=document.createElement("a"),n=this.savedBase64Img.replace(/^data:image[^;]*/,"data:image/octet-stream");e.href=n,e.download="download_"+t+".png",e.click()}},t.savedBase64Img=null,t}();n.default=r,cc._RF.pop()},{}],SimplePopup:[function(t,e,n){"use strict";cc._RF.push(e,"960feV4gP1HdLimsYgfTGLv","SimplePopup");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.escape:this.onClose()}},e.prototype.show=function(t){this.node.active=t},e.prototype.onClose=function(){this.show(!1)},i([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],SoundButton:[function(t,e,n){"use strict";cc._RF.push(e,"69aa4P9SWZNur8iujijQmsA","SoundButton");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../utils/SoundController"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spOn=null,e.spOff=null,e.sprite=null,e}var n,r,c;return o(e,t),e.prototype.onLoad=function(){this.set(!s.SoundPlayer.isMute())},e.prototype.onClick=function(){this.set(s.SoundPlayer.isMute())},e.prototype.set=function(t){t?(this.sprite.spriteFrame=this.spOn,s.SoundPlayer.unMute()):(this.sprite.spriteFrame=this.spOff,s.SoundPlayer.mute())},i([l(cc.SpriteFrame),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.SpriteFrame)?n:Object)],e.prototype,"spOn",void 0),i([l(cc.SpriteFrame),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.SpriteFrame)?r:Object)],e.prototype,"spOff",void 0),i([l(cc.Sprite),a("design:type","function"==typeof(c="undefined"!=typeof cc&&cc.Sprite)?c:Object)],e.prototype,"sprite",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../utils/SoundController":"SoundController"}],SoundController:[function(t,e,n){"use strict";cc._RF.push(e,"7a413Id85pJXKRUcOTgeNc5","SoundController");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SoundPlayer=n.SoundController=n.audioType=void 0;var i,a=function(){function t(t){this.volume=1,this.storageKey="",this.init(t)}return t.prototype.init=function(t){this.storageKey=t,this.volume=cc.sys.localStorage.getItem(this.storageKey)||1,this.setVolume(this.volume)},t.prototype.setVolume=function(t){cc.audioEngine.setEffectsVolume(t),this.volume=t,cc.sys.localStorage.setItem(this.storageKey,this.volume)},t.prototype.getVolume=function(){return this.volume},t.prototype.mute=function(){this.setVolume(0)},t.prototype.isMute=function(){return this.getVolume()<=0},t.prototype.play=function(t,e){cc.audioEngine.playEffect(t,e)},t.prototype.stop=function(){cc.audioEngine.stopAllEffects()},t}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setVolume=function(t){cc.audioEngine.setMusicVolume(t),this.volume=t,cc.sys.localStorage.setItem(this.storageKey,this.volume)},e.prototype.getVolume=function(){return this.volume},e.prototype.play=function(t,e){cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(t,e)},e.prototype.stop=function(){cc.audioEngine.stopMusic()},e}(a);(function(t){t[t.sound=0]="sound",t[t.bgm=1]="bgm",t[t.ceremony=2]="ceremony",t[t.highlight=3]="highlight",t[t.all=4]="all"})(i=n.audioType||(n.audioType={}));var c=function(){function t(){this.channelMap=new Map;var t=new a("KEY_EFFECT"),e=new s("KEY_BGM"),n=new a("KEY_CEREMONY"),r=new a("KEY_HIGHLIGHT");this.channelMap.set(i.sound,[t]),this.channelMap.set(i.bgm,[e]),this.channelMap.set(i.ceremony,[n]),this.channelMap.set(i.highlight,[r]),this.channelMap.set(i.all,[t,e,n,r])}return t.prototype.setVolume=function(t,e){void 0===e&&(e=i.all),this.channelMap.get(e).forEach(function(e){return e.setVolume(t)})},t.prototype.getVolume=function(t){void 0===t&&(t=i.all);var e=0;return this.channelMap.get(t).forEach(function(t){e=t.getVolume()}),e},t.prototype.play=function(t,e){void 0===e&&(e=!1),this.channelMap.get(i.sound).forEach(function(n){return n.play(t,e)})},t.prototype.playBgm=function(t){this.channelMap.get(i.bgm).forEach(function(e){return e.play(t,!0)})},t.prototype.stopBgm=function(){this.channelMap.get(i.bgm).forEach(function(t){return t.stop()})},t.prototype.playCeremony=function(t,e){void 0===e&&(e=!1),this.channelMap.get(i.ceremony).forEach(function(n){return n.play(t,e)})},t.prototype.stopCeremony=function(){this.channelMap.get(i.ceremony).forEach(function(t){return t.stop()})},t.prototype.playHighlight=function(t,e){void 0===e&&(e=!1),this.channelMap.get(i.highlight).forEach(function(n){return n.play(t,e)})},t.prototype.stopHighlight=function(){this.channelMap.get(i.highlight).forEach(function(t){return t.stop()})},t.prototype.stop=function(t){void 0===t&&(t=i.all),this.channelMap.get(t).forEach(function(t){return t.stop()})},t.prototype.mute=function(t){void 0===t&&(t=i.all),this.channelMap.get(t).forEach(function(t){return t.mute()})},t.prototype.unMute=function(t){void 0===t&&(t=i.all),this.channelMap.get(t).forEach(function(t){return t.setVolume(1)})},t.prototype.isMute=function(t){void 0===t&&(t=i.all);var e=!0;return this.channelMap.get(t).forEach(function(t){e=e&&t.isMute()}),e},t.prototype.pause=function(){cc.audioEngine.pauseAll()},t.prototype.resume=function(){cc.audioEngine.resumeAll()},t}();n.SoundController=c,n.SoundPlayer=new c,cc._RF.pop()},{}],SoundOnOff:[function(t,e,n){"use strict";cc._RF.push(e,"71b8d0sfvBNrI/XY2NDeyLy","SoundOnOff");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./utils/SoundController"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.on=null,e.off=null,e.sprite=null,e}var n,r,c;return o(e,t),e.prototype.onLoad=function(){s.SoundPlayer.isMute()?this.sprite.spriteFrame=this.off:this.sprite.spriteFrame=this.on},e.prototype.onButton=function(){s.SoundPlayer.isMute()?(s.SoundPlayer.unMute(),this.sprite.spriteFrame=this.on):(s.SoundPlayer.mute(),this.sprite.spriteFrame=this.off)},i([l(cc.SpriteFrame),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.SpriteFrame)?n:Object)],e.prototype,"on",void 0),i([l(cc.SpriteFrame),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.SpriteFrame)?r:Object)],e.prototype,"off",void 0),i([l(cc.Sprite),a("design:type","function"==typeof(c="undefined"!=typeof cc&&cc.Sprite)?c:Object)],e.prototype,"sprite",void 0),i([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./utils/SoundController":"SoundController"}],System:[function(t,e,n){"use strict";cc._RF.push(e,"cfafbszbbtGfJJ091KGaZv+","System");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},i([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],UserData:[function(t,e,n){"use strict";cc._RF.push(e,"937b2h84P1I86TohwpxyFwe","UserData"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../protocols/SR_Profile"),o=function(){function t(){this.profile=new r.SR_Profile,this.coin=0,this.profile.userNo=1,this.profile.name="player",this.profile.photo="",this.coin=1e6}return t.getInstance=function(){return this.instance||(this.instance=new this)},t.prototype.getProfile=function(){return this.profile},t.prototype.getCoin=function(){return this.coin},t.prototype.bet=function(t){return this.coin-=t},t.prototype.pay=function(t){return this.coin+=t},t.instance=null,t}();n.default=o,cc._RF.pop()},{"../../protocols/SR_Profile":"SR_Profile"}],VIDEOPOKER_Card:[function(t,e,n){"use strict";cc._RF.push(e,"d4c71ibAvtCbqYK7h0R58Eh","VIDEOPOKER_Card");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_Card=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.rank="",this.suit=""}return r([i.JsonProperty("r"),o("design:type",String)],t.prototype,"rank",void 0),r([i.JsonProperty("s"),o("design:type",String)],t.prototype,"suit",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_Card=a,cc._RF.pop()},{"typescript-json-serializer":17}],VIDEOPOKER_DealOfOthers_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"ce524OEKk5PNbLgoglCXyyI","VIDEOPOKER_DealOfOthers_2C_1");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_DealOfOthers_2C_1=void 0;var s=t("typescript-json-serializer"),c=function(t){function e(){var e=t.call(this)||this;return e.ID="VIDEOPOKER.DealOfOthers.2C.1",e.id=e.ID,e.userNo=0,e.seq=0,e.bet=0,e.money=0,e.level=0,e}return o(e,t),i([s.JsonProperty("id"),a("design:type",String)],e.prototype,"id",void 0),i([s.JsonProperty("userNo"),a("design:type",Number)],e.prototype,"userNo",void 0),i([s.JsonProperty("seq"),a("design:type",Number)],e.prototype,"seq",void 0),i([s.JsonProperty("bt"),a("design:type",Number)],e.prototype,"bet",void 0),i([s.JsonProperty("m"),a("design:type",Number)],e.prototype,"money",void 0),i([s.JsonProperty("l"),a("design:type",Number)],e.prototype,"level",void 0),i([s.Serializable(),a("design:paramtypes",[])],e)}(t("./VIDEOPOKER_Hand").VIDEOPOKER_Hand);n.VIDEOPOKER_DealOfOthers_2C_1=c,cc._RF.pop()},{"./VIDEOPOKER_Hand":"VIDEOPOKER_Hand","typescript-json-serializer":17}],VIDEOPOKER_Deal_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"f8302ArTEFNzYj7sRM5UNef","VIDEOPOKER_Deal_2C_1");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_Deal_2C_1=void 0;var s=t("typescript-json-serializer"),c=t("./VIDEOPOKER_Hand"),u=t("./SR_Status"),l=function(t){function e(){var e=t.call(this)||this;return e.ID="VIDEOPOKER.Deal.2C.1",e.id=e.ID,e.status=new u.SR_Status,e.seq=0,e.bet=0,e.hold=new Array,e.hands=1,e}var n,r;return o(e,t),i([s.JsonProperty("id"),a("design:type",String)],e.prototype,"id",void 0),i([s.JsonProperty("st"),a("design:type","function"==typeof(n=void 0!==u.SR_Status&&u.SR_Status)?n:Object)],e.prototype,"status",void 0),i([s.JsonProperty("seq"),a("design:type",Number)],e.prototype,"seq",void 0),i([s.JsonProperty("bt"),a("design:type",Number)],e.prototype,"bet",void 0),i([s.JsonProperty("h"),a("design:type","function"==typeof(r="undefined"!=typeof Array&&Array)?r:Object)],e.prototype,"hold",void 0),i([s.JsonProperty("hd"),a("design:type",Number)],e.prototype,"hands",void 0),i([s.Serializable(),a("design:paramtypes",[])],e)}(c.VIDEOPOKER_Hand);n.VIDEOPOKER_Deal_2C_1=l,cc._RF.pop()},{"./SR_Status":"SR_Status","./VIDEOPOKER_Hand":"VIDEOPOKER_Hand","typescript-json-serializer":17}],VIDEOPOKER_Deal_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"120c2YWn19HHLo5aSj7CcT/","VIDEOPOKER_Deal_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_Deal_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="VIDEOPOKER.Deal.2S.1",this.id=this.ID,this.bet=0,this.hands=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("bt"),o("design:type",Number)],t.prototype,"bet",void 0),r([i.JsonProperty("hd"),o("design:type",Number)],t.prototype,"hands",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_Deal_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],VIDEOPOKER_DrawOfOthers_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"8f28e4qI4ROBqu6mO6hil6C","VIDEOPOKER_DrawOfOthers_2C_1");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_DrawOfOthers_2C_1=void 0;var s=t("typescript-json-serializer"),c=t("./VIDEOPOKER_Hand"),u=function(t){function e(){var e=t.call(this)||this;return e.ID="VIDEOPOKER.DrawOfOthers.2C.1",e.id=e.ID,e.userNo=0,e.seq=0,e.bet=0,e.hold=new Array,e.money=0,e.level=0,e.subdecks=new Array,e}var n,r;return o(e,t),i([s.JsonProperty("id"),a("design:type",String)],e.prototype,"id",void 0),i([s.JsonProperty("userNo"),a("design:type",Number)],e.prototype,"userNo",void 0),i([s.JsonProperty("seq"),a("design:type",Number)],e.prototype,"seq",void 0),i([s.JsonProperty("bt"),a("design:type",Number)],e.prototype,"bet",void 0),i([s.JsonProperty("h"),a("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],e.prototype,"hold",void 0),i([s.JsonProperty("m"),a("design:type",Number)],e.prototype,"money",void 0),i([s.JsonProperty("l"),a("design:type",Number)],e.prototype,"level",void 0),i([s.JsonProperty({name:"sub",type:c.VIDEOPOKER_Hand}),a("design:type","function"==typeof(r="undefined"!=typeof Array&&Array)?r:Object)],e.prototype,"subdecks",void 0),i([s.Serializable(),a("design:paramtypes",[])],e)}(c.VIDEOPOKER_Hand);n.VIDEOPOKER_DrawOfOthers_2C_1=u,cc._RF.pop()},{"./VIDEOPOKER_Hand":"VIDEOPOKER_Hand","typescript-json-serializer":17}],VIDEOPOKER_Draw_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"4e0b9YbQFdO2JPNulXgp1qr","VIDEOPOKER_Draw_2C_1");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_Draw_2C_1=void 0;var s=t("typescript-json-serializer"),c=t("./VIDEOPOKER_Hand"),u=t("./SR_Status"),l=function(t){function e(){var e=t.call(this)||this;return e.ID="VIDEOPOKER.Draw.2C.1",e.id=e.ID,e.status=new u.SR_Status,e.seq=0,e.bet=0,e.subdecks=new Array,e}var n,r;return o(e,t),i([s.JsonProperty("id"),a("design:type",String)],e.prototype,"id",void 0),i([s.JsonProperty("st"),a("design:type","function"==typeof(n=void 0!==u.SR_Status&&u.SR_Status)?n:Object)],e.prototype,"status",void 0),i([s.JsonProperty("seq"),a("design:type",Number)],e.prototype,"seq",void 0),i([s.JsonProperty("bt"),a("design:type",Number)],e.prototype,"bet",void 0),i([s.JsonProperty({name:"sub",type:c.VIDEOPOKER_Hand}),a("design:type","function"==typeof(r="undefined"!=typeof Array&&Array)?r:Object)],e.prototype,"subdecks",void 0),i([s.Serializable(),a("design:paramtypes",[])],e)}(c.VIDEOPOKER_Hand);n.VIDEOPOKER_Draw_2C_1=l,cc._RF.pop()},{"./SR_Status":"SR_Status","./VIDEOPOKER_Hand":"VIDEOPOKER_Hand","typescript-json-serializer":17}],VIDEOPOKER_Draw_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"dfc414kl1FOJYXxl40MXUFk","VIDEOPOKER_Draw_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_Draw_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="VIDEOPOKER.Draw.2S.1",this.id=this.ID,this.seq=0,this.hold=new Array}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("seq"),o("design:type",Number)],t.prototype,"seq",void 0),r([i.JsonProperty("h"),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"hold",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_Draw_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],VIDEOPOKER_GetMachine_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"832d4d0orNMSYwzqnrUXE9l","VIDEOPOKER_GetMachine_2C_1");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_GetMachine_2C_1=void 0;var s=t("typescript-json-serializer"),c=t("./VIDEOPOKER_Machine"),u=t("./SR_Status"),l=function(t){function e(){var e=t.call(this)||this;return e.ID="VIDEOPOKER.GetMachine.2C.1",e.id=e.ID,e.status=new u.SR_Status,e}var n;return o(e,t),i([s.JsonProperty("id"),a("design:type",String)],e.prototype,"id",void 0),i([s.JsonProperty("st"),a("design:type","function"==typeof(n=void 0!==u.SR_Status&&u.SR_Status)?n:Object)],e.prototype,"status",void 0),i([s.Serializable(),a("design:paramtypes",[])],e)}(c.VIDEOPOKER_Machine);n.VIDEOPOKER_GetMachine_2C_1=l,cc._RF.pop()},{"./SR_Status":"SR_Status","./VIDEOPOKER_Machine":"VIDEOPOKER_Machine","typescript-json-serializer":17}],VIDEOPOKER_GetMachine_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"241c7GpQFFOR6xe8G83j++B","VIDEOPOKER_GetMachine_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_GetMachine_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="VIDEOPOKER.GetMachine.2S.1",this.id=this.ID,this.machineNo=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("mno"),o("design:type",Number)],t.prototype,"machineNo",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_GetMachine_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],VIDEOPOKER_Hand:[function(t,e,n){"use strict";cc._RF.push(e,"5f137bRR5JAGr9c/WYO5LA/","VIDEOPOKER_Hand");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_Hand=void 0;var i=t("typescript-json-serializer"),a=t("./VIDEOPOKER_Card"),s=function(){function t(){this.cards=new Array,this.hasRank=!1,this.rankIndex=0,this.rankTitle="",this.pay=0,this.matched=new Array}var e,n;return r([i.JsonProperty({name:"cds",type:a.VIDEOPOKER_Card}),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"cards",void 0),r([i.JsonProperty("r"),o("design:type",Boolean)],t.prototype,"hasRank",void 0),r([i.JsonProperty("ridx"),o("design:type",Number)],t.prototype,"rankIndex",void 0),r([i.JsonProperty("rtit"),o("design:type",String)],t.prototype,"rankTitle",void 0),r([i.JsonProperty("py"),o("design:type",Number)],t.prototype,"pay",void 0),r([i.JsonProperty("mt"),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"matched",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_Hand=s,cc._RF.pop()},{"./VIDEOPOKER_Card":"VIDEOPOKER_Card","typescript-json-serializer":17}],VIDEOPOKER_JoinRoom_2S_1:[function(t,e,n){"use strict";cc._RF.push(e,"c718aF2B3lEUrc6zY52cYAO","VIDEOPOKER_JoinRoom_2S_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_JoinRoom_2S_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="VIDEOPOKER.JoinRoom.2S.1",this.id=this.ID,this.machineNo=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("mno"),o("design:type",Number)],t.prototype,"machineNo",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_JoinRoom_2S_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],VIDEOPOKER_LeaveRoom_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"14271Qc5stBxLpzf6OgSjue","VIDEOPOKER_LeaveRoom_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_LeaveRoom_2C_1=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.ID="VIDEOPOKER.LeaveRoom.2C.1",this.id=this.ID,this.machineNo=0,this.totalWinAmount=0}return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("mno"),o("design:type",Number)],t.prototype,"machineNo",void 0),r([i.JsonProperty("twa"),o("design:type",Number)],t.prototype,"totalWinAmount",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_LeaveRoom_2C_1=a,cc._RF.pop()},{"typescript-json-serializer":17}],VIDEOPOKER_Machine:[function(t,e,n){"use strict";cc._RF.push(e,"3abbfxvhEVPPqZa27ygSU0g","VIDEOPOKER_Machine");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_Machine=void 0;var i=t("typescript-json-serializer"),a=t("./VIDEOPOKER_Payout"),s=function(){function t(){this.machineNo=0,this.title="",this.credit=0,this.bets=new Array,this.payouts=new Array}var e,n;return r([i.JsonProperty("mno"),o("design:type",Number)],t.prototype,"machineNo",void 0),r([i.JsonProperty("tit"),o("design:type",String)],t.prototype,"title",void 0),r([i.JsonProperty("crd"),o("design:type",Number)],t.prototype,"credit",void 0),r([i.JsonProperty("bts"),o("design:type","function"==typeof(e="undefined"!=typeof Array&&Array)?e:Object)],t.prototype,"bets",void 0),r([i.JsonProperty({name:"pys",type:a.VIDEOPOKER_Payout}),o("design:type","function"==typeof(n="undefined"!=typeof Array&&Array)?n:Object)],t.prototype,"payouts",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_Machine=s,cc._RF.pop()},{"./VIDEOPOKER_Payout":"VIDEOPOKER_Payout","typescript-json-serializer":17}],VIDEOPOKER_Payout:[function(t,e,n){"use strict";cc._RF.push(e,"1df15UK17dCnqvbrp4Ykre1","VIDEOPOKER_Payout");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_Payout=void 0;var i=t("typescript-json-serializer"),a=function(){function t(){this.title="",this.pay=0}return r([i.JsonProperty("tit"),o("design:type",String)],t.prototype,"title",void 0),r([i.JsonProperty("py"),o("design:type",Number)],t.prototype,"pay",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_Payout=a,cc._RF.pop()},{"typescript-json-serializer":17}],VIDEOPOKER_PlayOfOthers_2C_1:[function(t,e,n){"use strict";cc._RF.push(e,"0d489VaSY9PJICA94OrzY4F","VIDEOPOKER_PlayOfOthers_2C_1");var r=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(n,"__esModule",{value:!0}),n.VIDEOPOKER_PlayOfOthers_2C_1=void 0;var i=t("typescript-json-serializer"),a=t("./SR_Profile"),s=function(){function t(){this.ID="VIDEOPOKER.PlayOfOthers.2C.1",this.id=this.ID,this.user=new a.SR_Profile,this.seq=0,this.machineNo=0,this.title="",this.credit=0,this.bet=0,this.coin=0,this.pay=0,this.rankTitle="",this.jackpot=!1}var e;return r([i.JsonProperty("id"),o("design:type",String)],t.prototype,"id",void 0),r([i.JsonProperty("u"),o("design:type","function"==typeof(e=void 0!==a.SR_Profile&&a.SR_Profile)?e:Object)],t.prototype,"user",void 0),r([i.JsonProperty("seq"),o("design:type",Number)],t.prototype,"seq",void 0),r([i.JsonProperty("mno"),o("design:type",Number)],t.prototype,"machineNo",void 0),r([i.JsonProperty("tit"),o("design:type",String)],t.prototype,"title",void 0),r([i.JsonProperty("crd"),o("design:type",Number)],t.prototype,"credit",void 0),r([i.JsonProperty("bt"),o("design:type",Number)],t.prototype,"bet",void 0),r([i.JsonProperty("co"),o("design:type",Number)],t.prototype,"coin",void 0),r([i.JsonProperty("py"),o("design:type",Number)],t.prototype,"pay",void 0),r([i.JsonProperty("rtit"),o("design:type",String)],t.prototype,"rankTitle",void 0),r([i.JsonProperty("jk"),o("design:type",Boolean)],t.prototype,"jackpot",void 0),r([i.Serializable(),o("design:paramtypes",[])],t)}();n.VIDEOPOKER_PlayOfOthers_2C_1=s,cc._RF.pop()},{"./SR_Profile":"SR_Profile","typescript-json-serializer":17}],VideoPokerPlayer:[function(t,e,n){"use strict";cc._RF.push(e,"fa458caWLxOdryIJbFoAl1f","VideoPokerPlayer");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.VideoPokerPlayer=void 0;var c=s(t("./Card")),u=t("../Const"),l=t("../utils/SoundController"),p=(t("../utils/AssetLoader"),t("../utils/MoneyUtility")),f=cc._decorator,d=f.ccclass,h=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=-1,e.cards=new Array,e.nickName=null,e.profile=null,e.empty=!0,e.originScale=1,e.flipSound=null,e.photo=null,e.showPlayer=null,e.hidePlayer=null,e.levelText=null,e.coinText=null,e.rank=null,e.rankSpriteFrames=new Array,e.rankBG=null,e.playAgainText=null,e.rankText=null,e.winCoinLabel=null,e.coins=0,e.getEmpty=function(){return e.empty},e.setEmpty=function(t){e.empty=t,null!==e.showPlayer&&(e.showPlayer.active=!t),null!==e.hidePlayer&&(e.hidePlayer.active=t)},e.getUserNo=function(){return null===e.profile?-1:e.profile.userNo},e.joinPlayer=function(t){e.setEmpty(!1),e.profile=t},e.leavePlayer=function(){e.setEmpty(!0),e.profile=null,e.nickName.string="",e.photo.node.active=!1,e.hideDimed(),e.setCardBack()},e.setIndexToCard=function(){for(var t=0;t<u.ConstData.MAX_CARDS;++t)e.cards[t].index=t},e.setCardBack=function(){e.cards.forEach(function(t){t.setCardBack()})},e.setHold=function(t){if(null!=t&&0!=t.length)for(var n=0;n<e.cards.length;++n){var r=t[n];e.cards[n].holdCard(r)}},e.setCardDimed=function(t){if(0!=t.length)for(var n=0;n<e.cards.length;++n){var r=t[n];e.cards[n].setDimed(!r)}},e.hideDimed=function(){for(var t=0;t<e.cards.length;++t)e.cards[t].setDimed(!1)},e.clearHold=function(){for(var t=0;t<e.cards.length;++t)e.cards[t].holdCard(!1)},e.setCards=function(t){for(var n=0;n<e.cards.length;++n){var r=t[n];e.cards[n].setCard(r.suit,r.rank)}},e.getUnHoldCard=function(){for(var t=new Array,n=0;n<u.ConstData.MAX_CARDS;++n)!1===e.cards[n].hold&&t.push(e.cards[n]);return t},e.getDrawListForOthers=function(t){for(var n=new Array,r=0;r<u.ConstData.MAX_CARDS;++r)e.cards[r].needToFlip(t[r].suit,t[r].rank)?(n.push(e.cards[r]),e.cards[r].holdCard(!1)):e.cards[r].holdCard(!0);return n},e.getHoldList=function(){for(var t=new Array,n=0;n<u.ConstData.MAX_CARDS;++n)t.push(e.cards[n].hold);return t},e.setHoldList=function(t){for(var n=0;n<u.ConstData.MAX_CARDS;++n)e.cards[n].hold=t[n],e.cards[n].holdCard(t[n])},e.showWinTitleText=function(t){e.hideRank(!1),e.rankText&&(e.hidePlayAgainText(!0),e.hideWinTitleText(!1),e.rankText.string=t)},e.showPlayAgainText=function(t){e.hideRank(!1),e.playAgainText?(e.hideWinTitleText(!0),e.hidePlayAgainText(!1),e.playAgainText.string=t):e.showWinTitleText(t)},e.showWinCoinText=function(t){e.winCoinLabel&&(e.hideWinCoinText(!1),e.winCoinLabel.string=p.MoneyUtility.moneyToString(t))},e.setCoinColor=function(t){e.winCoinLabel&&(e.winCoinLabel.node.color=u.ConstData.colors[Math.min(Math.floor(t/2),u.ConstData.colors.length-1)])},e.hideRank=function(t){e.rankBG&&(e.rankBG.active=!t)},e.tweenFlip=function(t,n,r){var o=cc.tween().to(u.ConstData.FLIP_DURATION,{scaleX:0}),i=cc.tween().to(u.ConstData.FLIP_DURATION,{scaleX:e.originScale}),a=!1,s=!1,c=cc.tween().delay(u.ConstData.DELAY).then(o).call(function(){!1===a&&(t(),r.length>0&&l.SoundPlayer.play(e.flipSound)),a=!0}).then(i).call(function(){!1===s&&n(),s=!0});r.forEach(function(t){return c.clone(t.node).start()})},e}var n,r,s,f,y,_,v,g,m,b,S,R;return o(e,t),e.prototype.onLoad=function(){this.originScale=this.cards[0].node.scale,this.setEmpty(!0),this.setIndexToCard(),this.hideUserRank(),this.hideWinCoinText(!0)},e.prototype.bindKeyEvent=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.hideUserRank=function(){this.setUserRank(-1)},e.prototype.setUserRank=function(t){this.rank&&(this.rank.node.active=t>=0&&t<this.rankSpriteFrames.length,this.rank.node.active&&(this.rank.spriteFrame=this.rankSpriteFrames[t]))},e.prototype.onKeyDown=function(t){var e=this,n=function(t){e.cards[t].btn.interactable&&e.cards[t].btn.clickEvents.forEach(function(t){return t.emit([])})};switch(t.keyCode){case 49:n(0);break;case 50:n(1);break;case 51:n(2);break;case 52:n(3);break;case 53:n(4)}},e.prototype.updateMoney=function(t){this.coinText&&(this.coinText.node.active=!0,this.coinText.string=p.MoneyUtility.simplifyMoney(t,8)),this.coins=t},e.prototype.updateLevel=function(t){this.levelText&&(this.levelText.node.active=!0,this.levelText.string="Lv."+t)},e.prototype.hidePlayAgainText=function(t){this.playAgainText&&(this.playAgainText.node.active=!t)},e.prototype.hideWinTitleText=function(t){this.rankText&&(this.rankText.node.active=!t)},e.prototype.hideWinCoinText=function(t){this.winCoinLabel&&(this.winCoinLabel.node.active=!t)},e.prototype.setTouchableCard=function(t){this.cards.forEach(function(e){e.setTouchable(t)})},i([h([c.default]),a("design:type",Object)],e.prototype,"cards",void 0),i([h(cc.Label),a("design:type","function"==typeof(n="undefined"!=typeof cc&&cc.Label)?n:Object)],e.prototype,"nickName",void 0),i([h({type:cc.AudioClip}),a("design:type","function"==typeof(r="undefined"!=typeof cc&&cc.AudioClip)?r:Object)],e.prototype,"flipSound",void 0),i([h(cc.Sprite),a("design:type","function"==typeof(s="undefined"!=typeof cc&&cc.Sprite)?s:Object)],e.prototype,"photo",void 0),i([h(cc.Node),a("design:type","function"==typeof(f="undefined"!=typeof cc&&cc.Node)?f:Object)],e.prototype,"showPlayer",void 0),i([h(cc.Node),a("design:type","function"==typeof(y="undefined"!=typeof cc&&cc.Node)?y:Object)],e.prototype,"hidePlayer",void 0),i([h(cc.Label),a("design:type","function"==typeof(_="undefined"!=typeof cc&&cc.Label)?_:Object)],e.prototype,"levelText",void 0),i([h(cc.Label),a("design:type","function"==typeof(v="undefined"!=typeof cc&&cc.Label)?v:Object)],e.prototype,"coinText",void 0),i([h(cc.Sprite),a("design:type","function"==typeof(g="undefined"!=typeof cc&&cc.Sprite)?g:Object)],e.prototype,"rank",void 0),i([h(cc.SpriteFrame),a("design:type",Object)],e.prototype,"rankSpriteFrames",void 0),i([h(cc.Node),a("design:type","function"==typeof(m="undefined"!=typeof cc&&cc.Node)?m:Object)],e.prototype,"rankBG",void 0),i([h(cc.Label),a("design:type","function"==typeof(b="undefined"!=typeof cc&&cc.Label)?b:Object)],e.prototype,"playAgainText",void 0),i([h(cc.Label),a("design:type","function"==typeof(S="undefined"!=typeof cc&&cc.Label)?S:Object)],e.prototype,"rankText",void 0),i([h(cc.Label),a("design:type","function"==typeof(R="undefined"!=typeof cc&&cc.Label)?R:Object)],e.prototype,"winCoinLabel",void 0),i([d],e)}(cc.Component);n.VideoPokerPlayer=y,cc._RF.pop()},{"../Const":"Const","../utils/AssetLoader":"AssetLoader","../utils/MoneyUtility":"MoneyUtility","../utils/SoundController":"SoundController","./Card":"Card"}],WaitUntil:[function(t,e,n){"use strict";cc._RF.push(e,"bec93IawdVMK59Pp5CH9nBZ","WaitUntil");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.WaitUntil=void 0;var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.callbackMap=new Map,e.callbackId=0,e.predicateById=new Map,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){null==n.instance?n.instance=this:this.node.destroy()},e.prototype.onDestroy=function(){n.instance==this&&(n.instance=null)},e.prototype.lateUpdate=function(){this.callbackMap.forEach(function(t,e,n){try{e()&&(t(),n.delete(e))}catch(a){n.delete(e)}})},e.add=function(t,e){return this.instance.callbackMap.set(t,e),this.instance.predicateById.set(this.instance.callbackId,t),this.instance.callbackId++},e.delete=function(t){var e=this.instance.predicateById.get(t);this.instance.predicateById.delete(t),this.instance.callbackMap.delete(e)},e.instance=null,n=i([s],e)}(cc.Component));n.WaitUntil=c,cc._RF.pop()},{}]},{},["CASINO_AdWatchingReward_2C_1","CASINO_AdWatchingReward_2S_1","CASINO_AddSpecialDeal_2C_1","CASINO_AddSpecialDeal_2S_1","CASINO_BonusBoost","CASINO_BonusState","CASINO_CollectDailyBonus_2C_1","CASINO_CollectDailyBonus_2S_1","CASINO_CollectHourBonus_2C_1","CASINO_CollectHourBonus_2S_1","CASINO_CollectMinuteBonus_2C_1","CASINO_CollectMinuteBonus_2S_1","CASINO_ContentEntry","CASINO_ContentState","CASINO_GetAccount_2C_1","CASINO_GetAccount_2S_1","CASINO_GetBonusRequest_2C","CASINO_GetBonusRequest_2S","CASINO_GetBonusState_2C_1","CASINO_GetBonusState_2S_1","CASINO_GetContentEntries_2C_1","CASINO_GetContentEntries_2S_1","CASINO_GreetingComeBack_2C_1","CASINO_GreetingWelcome_2C_1","CASINO_Level","CASINO_LevelUp_C2_1","CASINO_PurchasedItem_2C_1","CASINO_SpecialDeal","CASINO_StoreBonusState","CASINO_Subscription","SR_Auth_Bind_2C_1","SR_Auth_Bind_2S_1","SR_Auth_FindUser_2C_1","SR_Auth_FindUser_2S_1","SR_Auth_GetState_2C_1","SR_Auth_GetState_2S_1","SR_Auth_Switch_2C_1","SR_Auth_Switch_2S_1","SR_ClientAuth","SR_ClientInfo","SR_ClientUpdate","SR_ClientUpdateInfo","SR_Echo_1","SR_EnterContent_2C_1","SR_EnterContent_2S_1","SR_Event_Inactivate_2C_1","SR_Event_JoinRoom_2C_1","SR_Event_LeaveRoom_2C_1","SR_Fail_2C_1","SR_GetProducts_2C_1","SR_GetProducts_2S_1","SR_IdentityApple","SR_IdentityFacebook","SR_IdentityGoogle","SR_JoinLobby_2C_1","SR_JoinLobby_2S_1","SR_JoinRoom_2C_1","SR_JoinRoom_2S_1","SR_LeaveContent_2C_1","SR_LeaveContent_2S_1","SR_LeaveLobby_2C_1","SR_LeaveLobby_2S_1","SR_LeaveRoom_2C_1","SR_LeaveRoom_2S_1","SR_Product","SR_ProductItem","SR_ProductPrice","SR_Profile","SR_ProfileUpdate","SR_Purchased_2C_1","SR_Purchased_2S_1","SR_RoomID","SR_RoomInfo","SR_Send_2C_1","SR_Send_2S_1","SR_SetProfile_2C_1","SR_SetProfile_2S_1","SR_SetPushToken_2C_1","SR_SetPushToken_2S_1","SR_Status","VIDEOPOKER_Card","VIDEOPOKER_DealOfOthers_2C_1","VIDEOPOKER_Deal_2C_1","VIDEOPOKER_Deal_2S_1","VIDEOPOKER_DrawOfOthers_2C_1","VIDEOPOKER_Draw_2C_1","VIDEOPOKER_Draw_2S_1","VIDEOPOKER_GetMachine_2C_1","VIDEOPOKER_GetMachine_2S_1","VIDEOPOKER_Hand","VIDEOPOKER_JoinRoom_2S_1","VIDEOPOKER_LeaveRoom_2C_1","VIDEOPOKER_Machine","VIDEOPOKER_Payout","VIDEOPOKER_PlayOfOthers_2C_1","BroadCast","ConfirmPopup","Const","EventBroadCast","Intro","MessageHolder","MessageValidator","NetworkMessage","PersistRootNode","SoundOnOff","System","Counter","ExpGaugeUI","GaugeUI","LoadingUI","SceneInfo","SoundButton","ClickSound","Firebase","LocalizationText","Random","ScreenShot","Popup","PopupManager","SimplePopup","ReleaseSetting","GameServer","Judgement","MachineData","UserData","AssetLoader","DayCheck","MoneyUtility","PreloadSetting","SoundController","WaitUntil","BettingUI","Card","CardFactory","FindBet","FixedBet","GameTitleUI","JackpotPopup","LeftGameUI","PaytableItem","PaytableUI","PlayerController","VideoPokerPlayer"]);